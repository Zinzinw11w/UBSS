/*! For license information please see main.d9c82b79.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=x.prototype=new v;w.constructor=x,p(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,s)&&!N.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+T(l,0):i,b(a)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),j(a,t,s,"",function(e){return e})):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",b(e))for(var c=0;c<e.length;c++){var u=i+T(o=e[c],c);l+=j(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,s,u=i+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],s=0;return j(e,r,"","",function(e){return t.call(n,e,s++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},R={transition:null},D={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!N.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,m=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,R(E);else{var t=r(u);null!==t&&D(b,t.startTime-e)}}function E(e,n){p=!1,g&&(g=!1,v(k),k=-1),m=!0;var i=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!j());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&s(c),w(n)}else s(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(b,h.startTime-n),l=!1}return l}finally{d=null,f=i,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,A=null,k=-1,C=5,T=-1;function j(){return!(t.unstable_now()-T<C)}function P(){if(null!==A){var e=t.unstable_now();T=e;var n=!0;try{n=A(!0,e)}finally{n?S():(N=!1,A=null)}}else N=!1}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,_=I.port2;I.port1.onmessage=P,S=function(){_.postMessage(null)}}else S=function(){y(P,0)};function R(e){A=e,N||(N=!0,S())}function D(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,D(b,i-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,R(E))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!h.call(m,e)||!h.call(f,e)&&(d.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O,L=Object.assign;function U(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case A:return"Profiler";case N:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ir){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ie(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ne=null;function Ae(e){if(e=ws(e)){if("function"!==typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=Es(t),Ee(e.stateNode,e.type,t))}}function ke(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Te(e,t){return e(t)}function je(){}var Pe=!1;function Ie(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ne)&&(je(),Ce())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var r=Es(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Me(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Le=null,Ue=!1,Fe=null,Be={onError:function(e){Oe=!0,Le=e}};function Ve(e,t,n,r,s,i,a,o,l){Oe=!1,Le=null,Me.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(i(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Ge(s),e;if(a===r)return Ge(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Qe=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Je=s.unstable_shouldYield,Ye=s.unstable_requestPaint,Xe=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,$e=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=ht(o):0!==(i&=a)&&(r=ht(i))}else 0!==(a=n&~s)?r=ht(a):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Et,St,Nt,At,kt=!1,Ct=[],Tt=null,jt=null,Pt=null,It=new Map,_t=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Ot(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=ws(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lt(e){var t=xs(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void At(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ws(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){kt=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==jt&&Ut(jt)&&(jt=null),null!==Pt&&Ut(Pt)&&(Pt=null),It.forEach(Ft),_t.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==jt&&Vt(jt,e),null!==Pt&&Vt(Pt,e),It.forEach(t),_t.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Ht=w.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var s=xt,i=Ht.transition;Ht.transition=null;try{xt=1,Qt(e,t,n,r)}finally{xt=s,Ht.transition=i}}function qt(e,t,n,r){var s=xt,i=Ht.transition;Ht.transition=null;try{xt=4,Qt(e,t,n,r)}finally{xt=s,Ht.transition=i}}function Qt(e,t,n,r){if(Gt){var s=Jt(e,t,n,r);if(null===s)Wr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,s),!0;case"dragenter":return jt=Ot(jt,e,t,n,r,s),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return It.set(i,Ot(It.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_t.set(i,Ot(_t.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==s;){var i=ws(s);if(null!==i&&bt(i),null===(i=Jt(e,t,n,r))&&Wr(e,t,r,Kt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Jt(e,t,n,r){if(Kt=null,null!==(e=xs(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=L({},cn,{view:0,detail:0}),dn=sn(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(fn),pn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},hn,{relatedTarget:0})),yn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(vn),wn=sn(L({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return Nn}var kn=L({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),Tn=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Pn=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=sn(In),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var On=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Qn=null;function Kn(e){Fr(e,0)}function Jn(e){if(Q(bs(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Qn=qn=null)}function nr(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];Wn(t,Qn,e,be(e)),Ie(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!h.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=hr(n,i);var a=hr(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,xr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==K(r)||("selectionStart"in(r=yr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&cr(xr,r)||(xr=r,0<(r=Qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Nr={},Ar={};function kr(e){if(Nr[e])return Nr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return Nr[e]=n[t];return e}u&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=kr("animationend"),Tr=kr("animationiteration"),jr=kr("animationstart"),Pr=kr("transitionend"),Ir=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ir.set(e,t),l(t,[e])}for(var Dr=0;Dr<_r.length;Dr++){var Mr=_r[Dr];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(jr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var u=Le;Oe=!1,Le=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Ur(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Ur(s,o,c),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Br(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Yt(t)){case 1:var s=Wt;break;case 4:s=qt;break;default:s=Qt}n=s.bind(null,t,n,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=xs(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Ie(function(){var r=i,s=be(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Cr:case Tr:case jr:l=yn;break;case Pr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==d&&(null!=(p=_e(m,d))&&u.push(qr(m,p,f)))),h)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!xs(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xs(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,p="onPointerLeave",d="onPointerEnter",m="pointer"),h=null==l?o:bs(l),f=null==c?o:bs(c),(o=new u(p,m+"leave",l,n,s)).target=h,o.relatedTarget=f,p=null,xs(s)===r&&((u=new u(d,m+"enter",c,n,s)).target=f,u.relatedTarget=h,p=u),h=p,l&&c)e:{for(d=c,m=0,f=u=l;f;f=Kr(f))m++;for(f=0,p=d;p;p=Kr(p))f++;for(;0<m-f;)u=Kr(u),m--;for(;0<f-m;)d=Kr(d),f--;for(;m--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Jr(a,o,l,u,!1),null!==c&&null!==h&&Jr(a,h,c,u,!0)}if("select"===(l=(o=r?bs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Gn(o))if(Xn)g=or;else{g=sr;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(a,g,n,s):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bs(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(yr=y,vr=r,xr=null);break;case"focusout":xr=vr=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,s);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(a,n,s)}var v;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Bn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(v=en()):(Zt="value"in(Xt=s)?Xt.value:Xt.textContent,zn=!0)),0<(y=Qr(r,x)).length&&(x=new wn(x,e,null,n,s),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=Vn(n))&&(x.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),$t=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=v))}Fr(a,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=_e(e,n))&&r.unshift(qr(e,i,s)),null!=(i=_e(e,t))&&r.push(qr(e,i,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=_e(n,i))&&a.unshift(qr(n,l,o)):s||null!=(l=_e(n,i))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function es(){}var ts=null,ns=null;function rs(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ss="function"===typeof setTimeout?setTimeout:void 0,is="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(ls)}:ss;function ls(e){setTimeout(function(){throw e})}function cs(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);zt(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),fs="__reactFiber$"+ds,ms="__reactProps$"+ds,ps="__reactContainer$"+ds,gs="__reactEvents$"+ds,ys="__reactListeners$"+ds,vs="__reactHandles$"+ds;function xs(e){var t=e[fs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[fs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hs(e);null!==e;){if(n=e[fs])return n;e=hs(e)}return t}n=(e=n).parentNode}return null}function ws(e){return!(e=e[fs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Es(e){return e[ms]||null}var Ss=[],Ns=-1;function As(e){return{current:e}}function ks(e){0>Ns||(e.current=Ss[Ns],Ss[Ns]=null,Ns--)}function Cs(e,t){Ns++,Ss[Ns]=e.current,e.current=t}var Ts={},js=As(Ts),Ps=As(!1),Is=Ts;function _s(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){ks(Ps),ks(js)}function Ms(e,t,n){if(js.current!==Ts)throw Error(i(168));Cs(js,t),Cs(Ps,n)}function Os(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,H(e)||"Unknown",s));return L({},n,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,Is=js.current,Cs(js,e),Cs(Ps,Ps.current),!0}function Us(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Os(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,ks(Ps),ks(js),Cs(js,e)):ks(Ps),Cs(Ps,n)}var Fs=null,Bs=!1,Vs=!1;function zs(e){null===Fs?Fs=[e]:Fs.push(e)}function Hs(){if(!Vs&&null!==Fs){Vs=!0;var e=0,t=xt;try{var n=Fs;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Bs=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Qe($e,Hs),s}finally{xt=t,Vs=!1}}return null}var Gs=[],Ws=0,qs=null,Qs=0,Ks=[],Js=0,Ys=null,Xs=1,Zs="";function $s(e,t){Gs[Ws++]=Qs,Gs[Ws++]=qs,qs=e,Qs=t}function ei(e,t,n){Ks[Js++]=Xs,Ks[Js++]=Zs,Ks[Js++]=Ys,Ys=e;var r=Xs;e=Zs;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Xs=1<<32-at(t)+s|n<<s|r,Zs=i+e}else Xs=1<<i|n<<s|r,Zs=e}function ti(e){null!==e.return&&($s(e,1),ei(e,1,0))}function ni(e){for(;e===qs;)qs=Gs[--Ws],Gs[Ws]=null,Qs=Gs[--Ws],Gs[Ws]=null;for(;e===Ys;)Ys=Ks[--Js],Ks[Js]=null,Zs=Ks[--Js],Ks[Js]=null,Xs=Ks[--Js],Ks[Js]=null}var ri=null,si=null,ii=!1,ai=null;function oi(e,t){var n=_c(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,si=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,si=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Xs,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_c(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,si=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=si;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=us(n.nextSibling);var r=ri;t&&li(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function hi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function di(e){if(e!==ri)return!1;if(!ii)return hi(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rs(e.type,e.memoizedProps)),t&&(t=si)){if(ci(e))throw fi(),Error(i(418));for(;t;)oi(e,t),t=us(t.nextSibling)}if(hi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){si=us(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}si=null}}else si=ri?us(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=si;e;)e=us(e.nextSibling)}function mi(){si=ri=null,ii=!1}function pi(e){null===ai?ai=[e]:ai.push(e)}var gi=w.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===_&&xi(i)===t.type)?((r=s(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case _:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Oc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===s?c(e,t,n,r):null;case E:return n.key===s?u(e,t,n,r):null;case _:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||M(n))return null!==s?null:h(e,t,n,r,null);vi(e,n)}return null}function m(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case _:return m(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,s,null);vi(t,r)}return null}function p(s,i,o,l){for(var c=null,u=null,h=i,p=i=0,g=null;null!==h&&p<o.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var y=f(s,h,o[p],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(s,h),i=a(y,i,p),null===u?c=y:u.sibling=y,u=y,h=g}if(p===o.length)return n(s,h),ii&&$s(s,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(s,o[p],l))&&(i=a(h,i,p),null===u?c=h:u.sibling=h,u=h);return ii&&$s(s,p),c}for(h=r(s,h);p<o.length;p++)null!==(g=m(h,s,p,o[p],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),i=a(g,i,p),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(s,e)}),ii&&$s(s,p),c}function g(s,o,l,c){var u=M(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,p=o,g=o=0,y=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var x=f(s,p,v.value,c);if(null===x){null===p&&(p=y);break}e&&p&&null===x.alternate&&t(s,p),o=a(x,o,g),null===h?u=x:h.sibling=x,h=x,p=y}if(v.done)return n(s,p),ii&&$s(s,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=d(s,v.value,c))&&(o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return ii&&$s(s,g),u}for(p=r(s,p);!v.done;g++,v=l.next())null!==(v=m(p,s,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(s,e)}),ii&&$s(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===_&&xi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Oc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Mc(a.type,a.key,a.props,null,r.mode,l)).ref=yi(r,i,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return o(r);case _:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return p(r,i,a,l);if(M(a))return g(r,i,a,l);vi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Uc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var bi=wi(!0),Ei=wi(!1),Si=As(null),Ni=null,Ai=null,ki=null;function Ci(){ki=Ai=Ni=null}function Ti(e){var t=Si.current;ks(Si),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){Ni=e,ki=Ai=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Ai){if(null===Ni)throw Error(i(308));Ai=e,Ni.dependencies={lanes:0,firstContext:e}}else Ai=Ai.next=e;return t}var _i=null;function Ri(e){null===_i?_i=[e]:_i.push(e)}function Di(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ri(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mi(e,r)}function Mi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mi(e,n)}return null===(s=r.interleaved)?(t.next=t,Ri(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mi(e,n)}function Vi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var s=e.updateQueue;Oi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=s.baseState;for(a=0,u=c=l=null,o=i;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(d=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=p.payload)?m.call(f,h,d):m)||void 0===d)break e;h=L({},h,d);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(d=o).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=h}}function Gi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Wi={},qi=As(Wi),Qi=As(Wi),Ki=As(Wi);function Ji(e){if(e===Wi)throw Error(i(174));return e}function Yi(e,t){switch(Cs(Ki,t),Cs(Qi,e),Cs(qi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks(qi),Cs(qi,t)}function Xi(){ks(qi),ks(Qi),ks(Ki)}function Zi(e){Ji(Ki.current);var t=Ji(qi.current),n=le(t,e.type);t!==n&&(Cs(Qi,e),Cs(qi,n))}function $i(e){Qi.current===e&&(ks(qi),ks(Qi))}var ea=As(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var sa=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,aa=0,oa=null,la=null,ca=null,ua=!1,ha=!1,da=0,fa=0;function ma(){throw Error(i(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,s,a){if(aa=a,oa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sa.current=null===e||null===e.memoizedState?$a:eo,e=n(r,s),ha){a=0;do{if(ha=!1,da=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,sa.current=to,e=n(r,s)}while(ha)}if(sa.current=Za,t=null!==la&&null!==la.next,aa=0,ca=la=oa=null,ua=!1,t)throw Error(i(300));return e}function ya(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?oa.memoizedState=ca=e:ca=ca.next=e,ca}function xa(){if(null===la){var e=oa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?oa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?oa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((aa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,oa.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,lr(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,oa.lanes|=a,Ll|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);lr(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Na(e,t){var n=oa,r=xa(),s=t(),a=!lr(r.memoizedState,s);if(a&&(r.memoizedState=s,wo=!0),r=r.queue,Oa(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ia(9,ka.bind(null,n,r,s,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&aa)||Aa(n,t,s)}return s}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&ja(e)}function Ca(e,t,n){return n(function(){Ta(t)&&ja(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function ja(e){var t=Mi(e,1);null!==t&&rc(t,e,1,-1)}function Pa(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,oa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _a(){return xa().memoizedState}function Ra(e,t,n,r){var s=va();oa.flags|=e,s.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var s=xa();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&pa(r,a.deps))return void(s.memoizedState=Ia(t,n,i,r))}oa.flags|=e,s.memoizedState=Ia(1|t,n,i,r)}function Ma(e,t){return Ra(8390656,8,e,t)}function Oa(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Ua(e,t){return Da(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Fa.bind(null,t,e),n)}function Va(){}function za(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(lr(n,t)||(n=pt(),oa.lanes|=n,Ll|=n,e.baseState=!0),t)}function Wa(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{xt=n,ia.transition=r}}function qa(){return xa().memoizedState}function Qa(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Ya(t,n);else if(null!==(n=Di(e,t,n,r))){rc(n,e,r,tc()),Xa(n,t,r)}}function Ka(e,t,n){var r=nc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Ya(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,lr(o,a)){var l=t.interleaved;return null===l?(s.next=s,Ri(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Di(e,t,s,r))&&(rc(n,e,r,s=tc()),Xa(n,t,r))}}function Ja(e){var t=e.alternate;return e===oa||null!==t&&t===oa}function Ya(e,t){ha=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Za={readContext:Ii,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},$a={readContext:Ii,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qa.bind(null,oa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Pa,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oa,s=va();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&aa)||Aa(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ma(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Pl.identifierPrefix;if(ii){var n=Zs;t=":"+t+"R"+(n=(Xs&~(1<<32-at(Xs)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Ii,useCallback:za,useContext:Ii,useEffect:Oa,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Ua,useMemo:Ha,useReducer:ba,useRef:_a,useState:function(){return ba(wa)},useDebugValue:Va,useDeferredValue:function(e){return Ga(xa(),la.memoizedState,e)},useTransition:function(){return[ba(wa)[0],xa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Na,useId:qa,unstable_isNewReconciler:!1},to={readContext:Ii,useCallback:za,useContext:Ii,useEffect:Oa,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Ua,useMemo:Ha,useReducer:Ea,useRef:_a,useState:function(){return Ea(wa)},useDebugValue:Va,useDeferredValue:function(e){var t=xa();return null===la?t.memoizedState=e:Ga(t,la.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],xa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Na,useId:qa,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),s=nc(e),i=Fi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,s))&&(rc(t,e,s,r),Vi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),s=nc(e),i=Fi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Bi(e,i,s))&&(rc(t,e,s,r),Vi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),s=Fi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Bi(e,s,r))&&(rc(t,e,r,n),Vi(t,e,r))}};function io(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(s,i))}function ao(e,t,n){var r=!1,s=Ts,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(s=Rs(t)?Is:js.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?_s(e,s):Ts),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function oo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ii(i):(i=Rs(t)?Is:js.current,s.context=_s(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ro(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&so.enqueueReplaceState(s,s.state,null),Hi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fo="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),ho(0,t)},n}function po(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ho(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var xo=w.ReactCurrentOwner,wo=!1;function bo(e,t,n,r){t.child=null===e?Ei(t,null,n,r):bi(t,e.child,n,r)}function Eo(e,t,n,r,s){n=n.render;var i=t.ref;return Pi(t,s),r=ga(e,t,n,r,i,s),n=ya(),null===e||wo?(ii&&n&&ti(t),t.flags|=1,bo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s))}function So(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,No(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Wo(e,t,s)}return t.flags|=1,(e=Dc(i,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Wo(e,t,s);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,s)}function Ao(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Dl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Dl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Cs(Dl,Rl),Rl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Cs(Dl,Rl),Rl|=r;return bo(e,t,s,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,s){var i=Rs(n)?Is:js.current;return i=_s(t,i),Pi(t,s),n=ga(e,t,n,r,i,s),r=ya(),null===e||wo?(ii&&r&&ti(t),t.flags|=1,bo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s))}function To(e,t,n,r,s){if(Rs(n)){var i=!0;Ls(t)}else i=!1;if(Pi(t,s),null===t.stateNode)Go(e,t),ao(t,n,r),lo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=_s(t,c=Rs(n)?Is:js.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,a,r,c),Oi=!1;var d=t.memoizedState;a.state=d,Hi(t,r,a,s),l=t.memoizedState,o!==r||d!==l||Ps.current||Oi?("function"===typeof u&&(ro(t,n,u,r),l=t.memoizedState),(o=Oi||io(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ui(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ii(l):l=_s(t,l=Rs(n)?Is:js.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&oo(t,a,r,l),Oi=!1,d=t.memoizedState,a.state=d,Hi(t,r,a,s);var m=t.memoizedState;o!==h||d!==m||Ps.current||Oi?("function"===typeof f&&(ro(t,n,f,r),m=t.memoizedState),(c=Oi||io(t,n,c,r,d,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return jo(e,t,n,r,i,s)}function jo(e,t,n,r,s,i){ko(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Us(t,n,!1),Wo(e,t,i);r=t.stateNode,xo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):bo(e,t,o,i),t.memoizedState=r.state,s&&Us(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ms(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ms(0,t.context,!1),Yi(e,t.containerInfo)}function Io(e,t,n,r,s){return mi(),pi(s),t.flags|=256,bo(e,t,n,r),t.child}var _o,Ro,Do,Mo,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,s=t.pendingProps,a=ea.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Cs(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,s,0,null),e=Oc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Lc({mode:"visible",children:r.children},s,0,null),(a=Oc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=uo(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Pl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Mi(e,s),rc(r,e,s,-1))}return gc(),Bo(e,t,o,r=uo(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,si=us(s.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Ks[Js++]=Xs,Ks[Js++]=Zs,Ks[Js++]=Ys,Xs=e.id,Zs=e.overflow,Ys=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,s}return e=(o=e.child).sibling,s=Dc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&pi(r),bi(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function zo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ho(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),zo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ta(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}zo(t,!0,n,null,i);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return Rs(t.type)&&Ds(),Qo(t),null;case 3:return r=t.stateNode,Xi(),ks(Ps),ks(js),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(oc(ai),ai=null))),Ro(e,t),Qo(t),null;case 5:$i(t);var s=Ji(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Qo(t),null}if(e=Ji(qi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fs]=t,r[ms]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)Br(Or[s],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":se(r,a),Br("invalid",r)}for(var l in ve(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":q(r),$(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=es)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fs]=t,e[ms]=r,_o(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Br("cancel",e),Br("close",e),s=r;break;case"iframe":case"object":case"embed":Br("load",e),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)Br(Or[s],e);s=r;break;case"source":Br("error",e),s=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),s=r;break;case"details":Br("toggle",e),s=r;break;case"input":Y(e,r),s=J(e,r),Br("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Br("invalid",e)}for(a in ve(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=es)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ji(Ki.current),Ji(qi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[fs]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fs]=t,t.stateNode=r}return Qo(t),null;case 13:if(ks(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==si&&0!==(1&t.mode)&&0===(128&t.flags))fi(),mi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fs]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),a=!1}else null!==ai&&(oc(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return Xi(),Ro(e,t),null===e&&Hr(t.stateNode.containerInfo),Qo(t),null;case 10:return Ti(t.type._context),Qo(t),null;case 19:if(ks(ea),null===(a=t.memoizedState))return Qo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Hl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Qo(t),null}else 2*Xe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Cs(ea,r?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Jo(e,t){switch(ni(t),t.tag){case 1:return Rs(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),ks(Ps),ks(js),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $i(t),null;case 13:if(ks(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks(ea),null;case 4:return Xi(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}_o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Do=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ji(qi.current);var i,a=null;switch(n){case"input":s=J(e,s),r=J(e,r),a=[];break;case"select":s=L({},s,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=es)}for(u in ve(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Mo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,$o=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&tl(t,n,i)}s=s.next}while(s!==r)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fs],delete t[ms],delete t[gs],delete t[ys],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=es));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=hl,s=dl;hl=null,fl(e,t,n),dl=s,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?cs(e.parentNode,n):1===e.nodeType&&cs(e,n),zt(e)):cs(hl,n.stateNode));break;case 4:r=hl,s=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&tl(n,t,a),s=s.next}while(s!==r)}fl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ac(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(i(160));ml(a,o,s),hl=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Ac(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),sl(3,e)}catch(g){Ac(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ac(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(g){Ac(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(s,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(s,d):"dangerouslySetInnerHTML"===h?he(s,d):"children"===h?de(s,d):x(s,h,d,u)}switch(l){case"input":Z(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(s,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[ms]=a}catch(g){Ac(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Ac(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ac(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||h,gl(t,e),Xo=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($o=e,h=e.child;null!==h;){for(d=$o=h;null!==$o;){switch(m=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Ac(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==m?(m.return=f,$o=m):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Ac(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ac(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),ul(e,ll(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(i(161))}}catch(iy){Ac(e,e.return,iy)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){$o=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var s=$o,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Yo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=a,(Xo=l)&&!c)for($o=s;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?Sl(s):null!==l?(l.return=a,$o=l):Sl(s);for(;null!==i;)$o=i,wl(i,t,n),i=i.sibling;$o=s,Yo=o,Xo=c}bl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,$o=i):bl(e)}}function bl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||sl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Gi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(i(163))}Xo||512&t.flags&&il(t)}catch(f){Ac(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function El(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function Sl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(iy){Ac(t,n,iy)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(iy){Ac(t,s,iy)}}var i=t.return;try{il(t)}catch(iy){Ac(t,i,iy)}break;case 5:var a=t.return;try{il(t)}catch(iy){Ac(t,a,iy)}}}catch(iy){Ac(t,t.return,iy)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Nl,Al=Math.ceil,kl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,jl=0,Pl=null,Il=null,_l=0,Rl=0,Dl=As(0),Ml=0,Ol=null,Ll=0,Ul=0,Fl=0,Bl=null,Vl=null,zl=0,Hl=1/0,Gl=null,Wl=!1,ql=null,Ql=null,Kl=!1,Jl=null,Yl=0,Xl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&jl)?Xe():-1!==$l?$l:$l=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==_l?_l&-_l:null!==gi.transition?(0===ec&&(ec=pt()),ec):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(i(185));yt(e,n,r),0!==(2&jl)&&e===Pl||(e===Pl&&(0===(2&jl)&&(Ul|=n),4===Ml&&lc(e,_l)),sc(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Hl=Xe()+500,Bs&&Hs()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=dt(e,e===Pl?_l:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bs=!0,zs(e)}(cc.bind(null,e)):zs(cc.bind(null,e)),os(function(){0===(6&jl)&&Hs()}),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,ec=0,0!==(6&jl))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?_l:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var s=jl;jl|=2;var a=pc();for(Pl===e&&_l===t||(Gl=null,Hl=Xe()+500,fc(e,t));;)try{xc();break}catch(l){mc(e,l)}Ci(),kl.current=a,jl=s,null!==Il?t=0:(Pl=null,_l=0,t=Ml)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(r=s,t=ac(e,s))),1===t)throw n=Ol,fc(e,0),lc(e,r),sc(e,Xe()),n;if(6===t)lc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=yc(e,r))&&(0!==(a=mt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ol,fc(e,0),lc(e,r),sc(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ec(e,Vl,Gl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ss(Ec.bind(null,e,Vl,Gl),t);break}Ec(e,Vl,Gl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ss(Ec.bind(null,e,Vl,Gl),r);break}Ec(e,Vl,Gl);break;default:throw Error(i(329))}}}return sc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&jl))throw Error(i(327));Sc();var t=dt(e,0);if(0===(1&t))return sc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ol,fc(e,0),lc(e,t),sc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,Gl),sc(e,Xe()),null}function uc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Hl=Xe()+500,Bs&&Hs())}}function hc(e){null!==Jl&&0===Jl.tag&&0===(6&jl)&&Sc();var t=jl;jl|=1;var n=Tl.transition,r=xt;try{if(Tl.transition=null,xt=1,e)return e()}finally{xt=r,Tl.transition=n,0===(6&(jl=t))&&Hs()}}function dc(){Rl=Dl.current,ks(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,is(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ds();break;case 3:Xi(),ks(Ps),ks(js),ra();break;case 5:$i(r);break;case 4:Xi();break;case 13:case 19:ks(ea);break;case 10:Ti(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Il=e=Dc(e.current,null),_l=Rl=t,Ml=0,Ol=null,Fl=Ul=Ll=0,Vl=Bl=null,null!==_i){for(t=0;t<_i.length;t++)if(null!==(r=(n=_i[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}_i=null}return e}function mc(e,t){for(;;){var n=Il;try{if(Ci(),sa.current=Za,ua){for(var r=oa.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=oa=null,ha=!1,da=0,Cl.current=null,null===n||null===n.return){Ml=1,Ol=t,Il=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=_l,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=yo(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&go(a,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vo(y,o,l,0,t),pi(co(c,l));break e}}a=c=co(c,l),4!==Ml&&(Ml=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,mo(0,c,t));break e;case 1:l=c;var v=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ql||!Ql.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,po(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Za,null===e?Za:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Ul)||lc(Pl,_l)}function yc(e,t){var n=jl;jl|=2;var r=pc();for(Pl===e&&_l===t||(Gl=null,fc(e,t));;)try{vc();break}catch(s){mc(e,s)}if(Ci(),jl=n,kl.current=r,null!==Il)throw Error(i(261));return Pl=null,_l=0,Ml}function vc(){for(;null!==Il;)wc(Il)}function xc(){for(;null!==Il&&!Je();)wc(Il)}function wc(e){var t=Nl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Il=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Rl)))return void(Il=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Ml=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Ml&&(Ml=5)}function Ec(e,t,n){var r=xt,s=Tl.transition;try{Tl.transition=null,xt=1,function(e,t,n,r){do{Sc()}while(null!==Jl);if(0!==(6&jl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Pl&&(Il=Pl=null,_l=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,function(){return Sc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=xt;xt=1;var l=jl;jl|=4,Cl.current=null,function(e,t){if(ts=Gt,mr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(kg){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var m;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(m=d.firstChild);)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++h===r&&(c=o),null!==(m=d.nextSibling))break;f=(d=f).parentNode}d=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ns={focusedElem:e,selectionRange:n},Gt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(kg){Ac(t,t.return,kg)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}p=nl,nl=!1}(e,n),yl(n,e),pr(ns),Gt=!!ts,ns=ts=null,e.current=n,xl(n,e,s),Ye(),jl=l,xt=o,Tl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Jl=e,Yl=s),a=e.pendingLanes,0===a&&(Ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Hs()}(e,t,n,r)}finally{Tl.transition=s,xt=r}return null}function Sc(){if(null!==Jl){var e=wt(Yl),t=Tl.transition,n=xt;try{if(Tl.transition=null,xt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Yl=0,0!==(6&jl))throw Error(i(331));var s=jl;for(jl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var h=$o;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,$o=d;else for(;null!==$o;){var f=(h=$o).sibling,m=h.return;if(al(h),h===u){$o=null;break}if(null!==f){f.return=m,$o=f;break}$o=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,$o=v;break e}$o=a.return}}var x=e.current;for($o=x;null!==$o;){var w=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,$o=w;else e:for(o=x;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(E){Ac(l,l.return,E)}if(l===o){$o=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,$o=b;break e}$o=l.return}}if(jl=s,Hs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(E){}r=!0}return r}finally{xt=n,Tl.transition=t}}return!1}function Nc(e,t,n){e=Bi(e,t=mo(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),sc(e,t))}function Ac(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=Bi(t,e=po(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),sc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(_l&n)===n&&(4===Ml||3===Ml&&(130023424&_l)===_l&&500>Xe()-zl?fc(e,0):Fl|=n),sc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Mi(e,t))&&(yt(e,t,n),sc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Qe(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _c(e,t,n,r){return new Ic(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=_c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Oc(n.children,s,a,t);case N:o=8,s|=8;break;case A:return(e=_c(12,n,t,2|s)).elementType=A,e.lanes=a,e;case j:return(e=_c(13,n,t,s)).elementType=j,e.lanes=a,e;case P:return(e=_c(19,n,t,s)).elementType=P,e.lanes=a,e;case R:return Lc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case T:o=11;break e;case I:o=14;break e;case _:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=_c(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=_c(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=_c(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=_c(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=_c(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,s,i,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=_c(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function zc(e){if(!e)return Ts;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Os(e,n,t)}return t}function Hc(e,t,n,r,s,i,a,o,l){return(e=Vc(n,r,!0,e,0,i,0,o,l)).context=zc(null),n=e.current,(i=Fi(r=tc(),s=nc(n))).callback=void 0!==t&&null!==t?t:null,Bi(n,i,s),e.current.lanes=s,yt(e,s,r),sc(e,r),e}function Gc(e,t,n,r){var s=t.current,i=tc(),a=nc(s);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(s,t,a))&&(rc(e,s,a,i),Vi(e,s,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),mi();break;case 5:Zi(t);break;case 1:Rs(t.type)&&Ls(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(Si,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(Cs(ea,1&ea.current),null!==(e=Wo(e,t,n))?e.sibling:null);Cs(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n)}return Wo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,ii&&0!==(1048576&t.flags)&&ei(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var s=_s(t,js.current);Pi(t,n),s=ga(null,t,r,e,s,n);var a=ya();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(a=!0,Ls(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Li(t),s.updater=so,t.stateNode=s,s._reactInternals=t,lo(t,r,e,n),t=jo(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),bo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===I)return 14}return 2}(r),e=no(r,e),s){case 0:t=Co(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=So(null,t,r,no(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:no(r,s),n);case 1:return r=t.type,s=t.pendingProps,To(e,t,r,s=t.elementType===r?s:no(r,s),n);case 3:e:{if(Po(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Ui(e,t),Hi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Io(e,t,r,n,s=co(Error(i(423)),t));break e}if(r!==s){t=Io(e,t,r,n,s=co(Error(i(424)),t));break e}for(si=us(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),r===s){t=Wo(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&ui(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,rs(r,s)?o=null:null!==a&&rs(r,a)&&(t.flags|=32),ko(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Uo(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:no(r,s),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Cs(Si,r._currentValue),r._currentValue=o,null!==a)if(lr(a.value,o)){if(a.children===s.children&&!Ps.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ji(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ji(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pi(t,n),r=r(s=Ii(s)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return s=no(r=t.type,t.pendingProps),So(e,t,r,s=no(r.type,s),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:no(r,s),Go(e,t),t.tag=1,Rs(r)?(e=!0,Ls(t)):e=!1,Pi(t,n),ao(t,r,s),lo(t,r,s,n),jo(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return Ao(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=Wc(a);o.call(e)}}Gc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Wc(a);i.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[ps]=a.current,Hr(8===e.nodeType?e.parentNode:e),hc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[ps]=l.current,Hr(8===e.nodeType?e.parentNode:e),hc(function(){Gc(t,l,n,r)}),l}(n,t,e,s,r);return Wc(a)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Gc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc(function(){Gc(null,e,null,null)}),t[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),sc(t,Xe()),0===(6&jl)&&(Hl=Xe()+500,Hs()))}break;case 13:hc(function(){var t=Mi(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Qc(e,1)}},Et=function(e){if(13===e.tag){var t=Mi(e,134217728);if(null!==t)rc(t,e,134217728,tc());Qc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Mi(e,t);if(null!==n)rc(n,e,t,tc());Qc(e,t)}},Nt=function(){return xt},At=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Ee=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Es(r);if(!s)throw Error(i(90));Q(r),Z(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,je=hc;var tu={usingClientEntryPoint:!1,Events:[ws,bs,Es,ke,Ce,uc]},nu={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{st=su.inject(ru),it=su}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ps]=t.current,Hr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(hc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{OG:()=>mc,My:()=>ic,Ph:()=>lc,lX:()=>cc,Id:()=>fc,fg:()=>yc,qj:()=>dc,aT:()=>oc,lq:()=>uc,z:()=>hc,Q5:()=>xc});var s={};n.r(s),n.d(s,{hasBrowserEnv:()=>EI,hasStandardBrowserEnv:()=>NI,hasStandardBrowserWebWorkerEnv:()=>AI,navigator:()=>SI,origin:()=>kI});var i,a=n(43),o=n.t(a,2),l=n(391),c=n(950),u=n.t(c,2);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const d="popstate";function f(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,n,r){return void 0===n&&(n=null),h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=i.Pop,c=null,u=m();function m(){return(o.state||{idx:null}).idx}function v(){l=i.Pop;let e=m(),t=null==e?null:e-u;u=e,c&&c({action:l,location:w.location,delta:t})}function x(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:y(e);return n=n.replace(/ $/,"%20"),f(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,o.replaceState(h({},o.state,{idx:u}),""));let w={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(d,v),c=e,()=>{s.removeEventListener(d,v),c=null}},createHref:e=>t(s,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=g(w.location,e,t);n&&n(r,e),u=m()+1;let h=p(r,u),d=w.createHref(r);try{o.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;s.location.assign(d)}a&&c&&c({action:l,location:w.location,delta:1})},replace:function(e,t){l=i.Replace;let r=g(w.location,e,t);n&&n(r,e),u=m();let s=p(r,u),h=w.createHref(r);o.replaceState(s,"",h),a&&c&&c({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var w;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(w||(w={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),E(e,t,n,!1)}function E(e,t,n,r){let s=O(("string"===typeof t?v(t):t).pathname||"/",n);if(null==s)return null;let i=S(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=M(s);a=R(i[o],e,r)}return a}function S(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(f(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=V([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(f(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),S(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:_(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of N(e.path))s(e,t,r);else s(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=N(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const A=/^:[\w-]+$/,k=3,C=2,T=1,j=10,P=-2,I=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=P),t&&(r+=C),n.filter(e=>!I(e)).reduce((e,t)=>e+(A.test(t)?k:""===t?T:j),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:V([i,u.pathname]),pathnameBase:z(V([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=V([i,u.pathnameBase]))}return a}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:a,pattern:e}}function M(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let n=U(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function B(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=v(e):(s=h({},e),f(!s.pathname||!s.pathname.includes("?"),L("?","pathname","search",s)),f(!s.pathname||!s.pathname.includes("#"),L("#","pathname","hash",s)),f(!s.search||!s.search.includes("#"),L("#","search","hash",s)));let i,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?v(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:H(r),hash:G(s)}}(s,i),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const V=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],Q=(new Set(q),["get",...q]);new Set(Q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const J=a.createContext(null);const Y=a.createContext(null);const X=a.createContext(null);const Z=a.createContext(null);const $=a.createContext({outlet:null,matches:[],isDataRoute:!1});const ee=a.createContext(null);function te(){return null!=a.useContext(Z)}function ne(){return te()||f(!1),a.useContext(Z).location}function re(e){a.useContext(X).static||a.useLayoutEffect(e)}function se(){let{isDataRoute:e}=a.useContext($);return e?function(){let{router:e}=me(de.UseNavigateStable),t=ge(fe.UseNavigateStable),n=a.useRef(!1);re(()=>{n.current=!0});let r=a.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},s)))},[e,t]);return r}():function(){te()||f(!1);let e=a.useContext(J),{basename:t,future:n,navigator:r}=a.useContext(X),{matches:s}=a.useContext($),{pathname:i}=ne(),o=JSON.stringify(F(s,n.v7_relativeSplatPath)),l=a.useRef(!1);return re(()=>{l.current=!0}),a.useCallback(function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=B(n,JSON.parse(o),i,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:V([t,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)},[t,r,o,i,e])}()}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(X),{matches:s}=a.useContext($),{pathname:i}=ne(),o=JSON.stringify(F(s,r.v7_relativeSplatPath));return a.useMemo(()=>B(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function ae(e,t,n,r){te()||f(!1);let{navigator:s}=a.useContext(X),{matches:o}=a.useContext($),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,d=ne();if(t){var m;let e="string"===typeof t?v(t):t;"/"===u||(null==(m=e.pathname)?void 0:m.startsWith(u))||f(!1),h=e}else h=d;let p=h.pathname||"/",g=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:g});let x=he(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:V([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&x?a.createElement(Z.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:i.Pop}},x):x}function oe(){let e=function(){var e;let t=a.useContext(ee),n=pe(fe.UseRouteError),r=ge(fe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const le=a.createElement(oe,null);class ce extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement($.Provider,{value:this.props.routeContext},a.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(J);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement($.Provider,{value:t},r)}function he(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||f(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let i,h=!1,d=null,f=null;var m;n&&(i=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||le,c&&(u<0&&0===s?(m="route-fallback",!1||ye[m]||(ye[m]=!0),h=!0,f=null):u===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=i?d:h?f:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ue,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(ce,{location:n.location,revalidation:n.revalidation,component:d,error:i,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),fe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fe||{});function me(e){let t=a.useContext(J);return t||f(!1),t}function pe(e){let t=a.useContext(Y);return t||f(!1),t}function ge(e){let t=function(){let e=a.useContext($);return e||f(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||f(!1),n.route.id}const ye={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function xe(e){f(!1)}function we(e){let{basename:t="/",children:n=null,location:r,navigationType:s=i.Pop,navigator:o,static:l=!1,future:c}=e;te()&&f(!1);let u=t.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof r&&(r=v(r));let{pathname:d="/",search:m="",hash:p="",state:g=null,key:y="default"}=r,x=a.useMemo(()=>{let e=O(d,u);return null==e?null:{location:{pathname:e,search:m,hash:p,state:g,key:y},navigationType:s}},[u,d,m,p,g,y,s]);return null==x?null:a.createElement(X.Provider,{value:h},a.createElement(Z.Provider,{children:n,value:x}))}function be(e){let{children:t,location:n}=e;return ae(Ee(t),n)}new Promise(()=>{});a.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,Ee(e.props.children,s));e.type!==xe&&f(!1),e.props.index&&e.props.children&&f(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ee(e.props.children,s)),n.push(i)}),n}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(GV){}new Map;const ke=o.startTransition;u.flushSync,o.useId;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),x(function(e,t){let{pathname:n="/",search:r="",hash:s=""}=v(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),g("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:y(t))},function(e,t){m("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},o)));let l=i.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=a.useCallback(e=>{h&&ke?ke(()=>u(e)):u(e)},[u,h]);return a.useLayoutEffect(()=>l.listen(d),[l,d]),a.useEffect(()=>ve(r),[r]),a.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=e,m=Ne(e,Ae),{basename:p}=a.useContext(X),g=!1;if("string"===typeof u&&je.test(u)&&(n=u,Te))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(GV){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;te()||f(!1);let{basename:r,navigator:s}=a.useContext(X),{hash:i,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:V([r,o])),s.createHref({pathname:c,search:l,hash:i})}(u,{relative:s}),x=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=se(),u=ne(),h=ie(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:y(u)===y(h);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,h,r,s,n,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:d});return a.createElement("a",Se({},m,{href:n||v,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:c}))});var Ie,_e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));var Re=n(579);const De=(0,a.createContext)(),Me={en:{home:"Home",market:"Market",smartTrading:"Smart trading",loan:"Loan",account:"Account",language:"Language",marketTitle:"Market",forex:"Forex",crypto:"Crypto",stocks:"Stocks",etf:"ETF",futures:"Futures",smartTradingTitle:"Smart trading",spotPrice:"Spot price",chart:"Chart",accountTitle:"Account",balance:"Balance",totalBalance:"Total Balance",availableBalance:"Available Balance",pendingBalance:"Pending Balance",loanTitle:"Investment & Lending",borrowNow:"Borrow now",loading:"Loading...",error:"Error",retry:"Retry",close:"Close",save:"Save",cancel:"Cancel",products:"Products",company:"Company",policies:"Policies",aboutUs:"About Us",helpCenter:"Help Center",termsConditions:"Terms & Conditions",privacyPolicy:"Privacy Policy",copyright:"All rights reserved.",heroTitle:"Advanced Trading Platform",heroSubtitle:"Experience the future of trading with AI-powered algorithms, real-time market data, and comprehensive investment solutions.",getStarted:"Get Started",learnMore:"Learn More",statsTitle:"Trusted by Millions",featuresTitle:"Why Choose UBS Tokenize?",servicesTitle:"Our Services",heroDescription:"Join millions of traders worldwide who trust UBS Tokenize for their trading needs. Our platform offers cutting-edge technology, real-time data, and expert support.",startTradingNow:"Start Trading Now",viewMarkets:"View Markets",activeUsers:"Active Users",totalVolume:"Total Volume",countries:"Countries",satisfaction:"Satisfaction Rate",smartTradingFeature:"Smart Trading",smartTradingDesc:"Leverage AI-powered algorithms for optimal trading decisions.",investmentFeature:"Investment & Lending",investmentDesc:"Grow your assets with diverse investment options and flexible lending.",marketsFeature:"Markets",marketsDesc:"Access real-time data across various markets: crypto, forex, stocks, ETFs, futures.",securityFeature:"Security",securityDesc:"Bank-level security with advanced encryption and fraud protection.",supportFeature:"24/7 Support",supportDesc:"Round-the-clock customer support from our expert team.",mobileFeature:"Mobile Trading",mobileDesc:"Trade anywhere with our intuitive mobile application.",smartTradingService:"Smart Trading",smartTradingServiceDesc:"Leverage AI-powered algorithms for optimal trading decisions.",investmentService:"Investment & Lending",investmentServiceDesc:"Grow your assets with diverse investment options and flexible lending.",marketsService:"Markets",marketsServiceDesc:"Access real-time data across various markets: crypto, forex, stocks, ETFs, futures.",marketSubtitle:"Real-time market data across all asset classes",featuredMarkets:"Featured Markets",marketTable:"Market Data",loadingMarketData:"Loading market data...",failedToLoad:"Failed to load market data",accountSubtitle:"Manage your trading account and settings",accountSummary:"Account Summary",orders:"Orders",settings:"Settings",verification:"Account Verification",inviteFriends:"Invite Friends",liveChat:"Live Chat",notifications:"Notifications",loanSubtitle:"Flexible investment and lending solutions",loanAmount:"Loan Amount",currency:"Currency",loanTerm:"Loan Term",interestRate:"Interest Rate",monthlyPayment:"Monthly Payment",tradingOptions:"Trading Options",investment:"Investment",available:"Available",fee:"Fee",callUp:"Call (Up)",putDown:"Put (Down)",createPlan:"Create a plan to trade!",smartTradingInfo:"What is smart trading?",tradingStrategy:"Trading Strategy",marketAnalysis:"Market Analysis",riskWarning:"Risk Warning",createPlanTitle:"Create Trading Plan",amount:"Amount",timeframe:"Timeframe",amountLimit:"Amount Limit",dailyYield:"Daily Yield",product:"Product",create:"Create",faqTitle:"Smart Trading FAQ",name:"Name",price:"Price",change:"Change",volume:"Volume",high:"High",low:"Low",open:"Open",buy:"Buy",sell:"Sell",watchlist:"Watchlist",details:"Details"},vi:{home:"Trang ch\u1ee7",market:"Th\u1ecb tr\u01b0\u1eddng",smartTrading:"Giao d\u1ecbch th\xf4ng minh",loan:"Cho vay",account:"T\xe0i kho\u1ea3n",language:"Ng\xf4n ng\u1eef",marketTitle:"Th\u1ecb tr\u01b0\u1eddng",forex:"Ngo\u1ea1i h\u1ed1i",crypto:"Ti\u1ec1n \u0111i\u1ec7n t\u1eed",stocks:"C\u1ed5 phi\u1ebfu",etf:"ETF",futures:"H\u1ee3p \u0111\u1ed3ng t\u01b0\u01a1ng lai",smartTradingTitle:"Giao d\u1ecbch th\xf4ng minh",spotPrice:"Gi\xe1 giao ngay",chart:"Bi\u1ec3u \u0111\u1ed3",accountTitle:"T\xe0i kho\u1ea3n",balance:"S\u1ed1 d\u01b0",totalBalance:"T\u1ed5ng s\u1ed1 d\u01b0",availableBalance:"S\u1ed1 d\u01b0 kh\u1ea3 d\u1ee5ng",pendingBalance:"S\u1ed1 d\u01b0 ch\u1edd x\u1eed l\xfd",loanTitle:"\u0110\u1ea7u t\u01b0 & Cho vay",borrowNow:"Vay ngay",loading:"\u0110ang t\u1ea3i...",error:"L\u1ed7i",retry:"Th\u1eed l\u1ea1i",close:"\u0110\xf3ng",save:"L\u01b0u",cancel:"H\u1ee7y",products:"S\u1ea3n ph\u1ea9m",company:"C\xf4ng ty",policies:"Ch\xednh s\xe1ch",aboutUs:"V\u1ec1 ch\xfang t\xf4i",helpCenter:"Trung t\xe2m tr\u1ee3 gi\xfap",termsConditions:"\u0110i\u1ec1u kho\u1ea3n & \u0110i\u1ec1u ki\u1ec7n",privacyPolicy:"Ch\xednh s\xe1ch b\u1ea3o m\u1eadt",copyright:"B\u1ea3o l\u01b0u m\u1ecdi quy\u1ec1n.",heroTitle:"N\u1ec1n t\u1ea3ng giao d\u1ecbch ti\xean ti\u1ebfn",heroSubtitle:"Tr\u1ea3i nghi\u1ec7m t\u01b0\u01a1ng lai c\u1ee7a giao d\u1ecbch v\u1edbi thu\u1eadt to\xe1n AI, d\u1eef li\u1ec7u th\u1ecb tr\u01b0\u1eddng th\u1eddi gian th\u1ef1c v\xe0 gi\u1ea3i ph\xe1p \u0111\u1ea7u t\u01b0 to\xe0n di\u1ec7n.",getStarted:"B\u1eaft \u0111\u1ea7u",learnMore:"T\xecm hi\u1ec3u th\xeam",statsTitle:"\u0110\u01b0\u1ee3c tin t\u01b0\u1edfng b\u1edfi h\xe0ng tri\u1ec7u ng\u01b0\u1eddi",featuresTitle:"T\u1ea1i sao ch\u1ecdn UBS Tokenize?",servicesTitle:"D\u1ecbch v\u1ee5 c\u1ee7a ch\xfang t\xf4i",heroDescription:"Tham gia c\xf9ng h\xe0ng tri\u1ec7u nh\xe0 giao d\u1ecbch tr\xean to\xe0n th\u1ebf gi\u1edbi tin t\u01b0\u1edfng UBS Tokenize cho nhu c\u1ea7u giao d\u1ecbch c\u1ee7a h\u1ecd. N\u1ec1n t\u1ea3ng c\u1ee7a ch\xfang t\xf4i cung c\u1ea5p c\xf4ng ngh\u1ec7 ti\xean ti\u1ebfn, d\u1eef li\u1ec7u th\u1eddi gian th\u1ef1c v\xe0 h\u1ed7 tr\u1ee3 chuy\xean gia.",startTradingNow:"B\u1eaft \u0111\u1ea7u giao d\u1ecbch ngay",viewMarkets:"Xem th\u1ecb tr\u01b0\u1eddng",activeUsers:"Ng\u01b0\u1eddi d\xf9ng ho\u1ea1t \u0111\u1ed9ng",totalVolume:"T\u1ed5ng kh\u1ed1i l\u01b0\u1ee3ng",countries:"Qu\u1ed1c gia",satisfaction:"T\u1ef7 l\u1ec7 h\xe0i l\xf2ng",smartTradingFeature:"Giao d\u1ecbch th\xf4ng minh",smartTradingDesc:"T\u1eadn d\u1ee5ng thu\u1eadt to\xe1n AI \u0111\u1ec3 \u0111\u01b0a ra quy\u1ebft \u0111\u1ecbnh giao d\u1ecbch t\u1ed1i \u01b0u.",investmentFeature:"\u0110\u1ea7u t\u01b0 & Cho vay",investmentDesc:"T\u0103ng tr\u01b0\u1edfng t\xe0i s\u1ea3n v\u1edbi c\xe1c l\u1ef1a ch\u1ecdn \u0111\u1ea7u t\u01b0 \u0111a d\u1ea1ng v\xe0 cho vay linh ho\u1ea1t.",marketsFeature:"Th\u1ecb tr\u01b0\u1eddng",marketsDesc:"Truy c\u1eadp d\u1eef li\u1ec7u th\u1eddi gian th\u1ef1c tr\xean c\xe1c th\u1ecb tr\u01b0\u1eddng kh\xe1c nhau: ti\u1ec1n \u0111i\u1ec7n t\u1eed, ngo\u1ea1i h\u1ed1i, c\u1ed5 phi\u1ebfu, ETF, h\u1ee3p \u0111\u1ed3ng t\u01b0\u01a1ng lai.",securityFeature:"B\u1ea3o m\u1eadt",securityDesc:"B\u1ea3o m\u1eadt c\u1ea5p ng\xe2n h\xe0ng v\u1edbi m\xe3 h\xf3a ti\xean ti\u1ebfn v\xe0 b\u1ea3o v\u1ec7 ch\u1ed1ng gian l\u1eadn.",supportFeature:"H\u1ed7 tr\u1ee3 24/7",supportDesc:"H\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng su\u1ed1t ng\xe0y \u0111\xeam t\u1eeb \u0111\u1ed9i ng\u0169 chuy\xean gia c\u1ee7a ch\xfang t\xf4i.",mobileFeature:"Giao d\u1ecbch di \u0111\u1ed9ng",mobileDesc:"Giao d\u1ecbch m\u1ecdi n\u01a1i v\u1edbi \u1ee9ng d\u1ee5ng di \u0111\u1ed9ng tr\u1ef1c quan c\u1ee7a ch\xfang t\xf4i.",smartTradingService:"Giao d\u1ecbch th\xf4ng minh",smartTradingServiceDesc:"T\u1eadn d\u1ee5ng thu\u1eadt to\xe1n AI \u0111\u1ec3 \u0111\u01b0a ra quy\u1ebft \u0111\u1ecbnh giao d\u1ecbch t\u1ed1i \u01b0u.",investmentService:"\u0110\u1ea7u t\u01b0 & Cho vay",investmentServiceDesc:"T\u0103ng tr\u01b0\u1edfng t\xe0i s\u1ea3n v\u1edbi c\xe1c l\u1ef1a ch\u1ecdn \u0111\u1ea7u t\u01b0 \u0111a d\u1ea1ng v\xe0 cho vay linh ho\u1ea1t.",marketsService:"Th\u1ecb tr\u01b0\u1eddng",marketsServiceDesc:"Truy c\u1eadp d\u1eef li\u1ec7u th\u1eddi gian th\u1ef1c tr\xean c\xe1c th\u1ecb tr\u01b0\u1eddng kh\xe1c nhau: ti\u1ec1n \u0111i\u1ec7n t\u1eed, ngo\u1ea1i h\u1ed1i, c\u1ed5 phi\u1ebfu, ETF, h\u1ee3p \u0111\u1ed3ng t\u01b0\u01a1ng lai.",marketSubtitle:"D\u1eef li\u1ec7u th\u1ecb tr\u01b0\u1eddng th\u1eddi gian th\u1ef1c tr\xean t\u1ea5t c\u1ea3 c\xe1c lo\u1ea1i t\xe0i s\u1ea3n",featuredMarkets:"Th\u1ecb tr\u01b0\u1eddng n\u1ed5i b\u1eadt",marketTable:"D\u1eef li\u1ec7u th\u1ecb tr\u01b0\u1eddng",loadingMarketData:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u th\u1ecb tr\u01b0\u1eddng...",failedToLoad:"Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u th\u1ecb tr\u01b0\u1eddng",accountSubtitle:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n giao d\u1ecbch v\xe0 c\xe0i \u0111\u1eb7t c\u1ee7a b\u1ea1n",accountSummary:"T\xf3m t\u1eaft t\xe0i kho\u1ea3n",orders:"L\u1ec7nh",settings:"C\xe0i \u0111\u1eb7t",verification:"X\xe1c minh t\xe0i kho\u1ea3n",inviteFriends:"M\u1eddi b\u1ea1n b\xe8",liveChat:"Tr\xf2 chuy\u1ec7n tr\u1ef1c ti\u1ebfp",notifications:"Th\xf4ng b\xe1o",loanSubtitle:"Gi\u1ea3i ph\xe1p \u0111\u1ea7u t\u01b0 v\xe0 cho vay linh ho\u1ea1t",loanAmount:"S\u1ed1 ti\u1ec1n vay",currency:"Ti\u1ec1n t\u1ec7",loanTerm:"K\u1ef3 h\u1ea1n vay",interestRate:"L\xe3i su\u1ea5t",monthlyPayment:"Thanh to\xe1n h\xe0ng th\xe1ng",tradingOptions:"T\xf9y ch\u1ecdn giao d\u1ecbch",investment:"\u0110\u1ea7u t\u01b0",available:"C\xf3 s\u1eb5n",fee:"Ph\xed",callUp:"Mua (L\xean)",putDown:"B\xe1n (Xu\u1ed1ng)",createPlan:"T\u1ea1o k\u1ebf ho\u1ea1ch giao d\u1ecbch!",smartTradingInfo:"Giao d\u1ecbch th\xf4ng minh l\xe0 g\xec?",tradingStrategy:"Chi\u1ebfn l\u01b0\u1ee3c giao d\u1ecbch",marketAnalysis:"Ph\xe2n t\xedch th\u1ecb tr\u01b0\u1eddng",riskWarning:"C\u1ea3nh b\xe1o r\u1ee7i ro",createPlanTitle:"T\u1ea1o k\u1ebf ho\u1ea1ch giao d\u1ecbch",amount:"S\u1ed1 ti\u1ec1n",timeframe:"Khung th\u1eddi gian",amountLimit:"Gi\u1edbi h\u1ea1n s\u1ed1 ti\u1ec1n",dailyYield:"L\u1ee3i nhu\u1eadn h\xe0ng ng\xe0y",product:"S\u1ea3n ph\u1ea9m",create:"T\u1ea1o",faqTitle:"C\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p v\u1ec1 giao d\u1ecbch th\xf4ng minh",name:"T\xean",price:"Gi\xe1",change:"Thay \u0111\u1ed5i",volume:"Kh\u1ed1i l\u01b0\u1ee3ng",high:"Cao",low:"Th\u1ea5p",open:"M\u1edf",buy:"Mua",sell:"B\xe1n",watchlist:"Danh s\xe1ch theo d\xf5i",details:"Chi ti\u1ebft"},ja:{home:"\u30db\u30fc\u30e0",market:"\u30de\u30fc\u30b1\u30c3\u30c8",smartTrading:"\u30b9\u30de\u30fc\u30c8\u30c8\u30ec\u30fc\u30c7\u30a3\u30f3\u30b0",loan:"\u30ed\u30fc\u30f3",account:"\u30a2\u30ab\u30a6\u30f3\u30c8",language:"\u8a00\u8a9e",marketTitle:"\u30de\u30fc\u30b1\u30c3\u30c8",forex:"\u5916\u56fd\u70ba\u66ff",crypto:"\u6697\u53f7\u901a\u8ca8",stocks:"\u682a\u5f0f",etf:"ETF",futures:"\u5148\u7269",smartTradingTitle:"\u30b9\u30de\u30fc\u30c8\u30c8\u30ec\u30fc\u30c7\u30a3\u30f3\u30b0",spotPrice:"\u30b9\u30dd\u30c3\u30c8\u4fa1\u683c",chart:"\u30c1\u30e3\u30fc\u30c8",accountTitle:"\u30a2\u30ab\u30a6\u30f3\u30c8",balance:"\u6b8b\u9ad8",totalBalance:"\u7dcf\u6b8b\u9ad8",availableBalance:"\u5229\u7528\u53ef\u80fd\u6b8b\u9ad8",pendingBalance:"\u4fdd\u7559\u4e2d\u6b8b\u9ad8",loanTitle:"\u6295\u8cc7\u30fb\u878d\u8cc7",borrowNow:"\u4eca\u3059\u3050\u501f\u308a\u308b",loading:"\u8aad\u307f\u8fbc\u307f\u4e2d...",error:"\u30a8\u30e9\u30fc",retry:"\u518d\u8a66\u884c",close:"\u9589\u3058\u308b",save:"\u4fdd\u5b58",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",products:"\u5546\u54c1",company:"\u4f1a\u793e",policies:"\u30dd\u30ea\u30b7\u30fc",aboutUs:"\u79c1\u305f\u3061\u306b\u3064\u3044\u3066",helpCenter:"\u30d8\u30eb\u30d7\u30bb\u30f3\u30bf\u30fc",termsConditions:"\u5229\u7528\u898f\u7d04",privacyPolicy:"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc",copyright:"\u5168\u8457\u4f5c\u6a29\u6240\u6709."},ko:{home:"\ud648",market:"\ub9c8\ucf13",smartTrading:"\uc2a4\ub9c8\ud2b8 \ud2b8\ub808\uc774\ub529",loan:"\ub300\ucd9c",account:"\uacc4\uc815",language:"\uc5b8\uc5b4",marketTitle:"\ub9c8\ucf13",forex:"\uc678\ud658",crypto:"\uc554\ud638\ud654\ud3d0",stocks:"\uc8fc\uc2dd",etf:"ETF",futures:"\uc120\ubb3c",smartTradingTitle:"\uc2a4\ub9c8\ud2b8 \ud2b8\ub808\uc774\ub529",spotPrice:"\ud604\ubb3c \uac00\uaca9",chart:"\ucc28\ud2b8",accountTitle:"\uacc4\uc815",balance:"\uc794\uc561",totalBalance:"\ucd1d \uc794\uc561",availableBalance:"\uc0ac\uc6a9 \uac00\ub2a5 \uc794\uc561",pendingBalance:"\ub300\uae30 \uc911 \uc794\uc561",loanTitle:"\ud22c\uc790 \ubc0f \ub300\ucd9c",borrowNow:"\uc9c0\uae08 \ub300\ucd9c\ubc1b\uae30",loading:"\ub85c\ub529 \uc911...",error:"\uc624\ub958",retry:"\ub2e4\uc2dc \uc2dc\ub3c4",close:"\ub2eb\uae30",save:"\uc800\uc7a5",cancel:"\ucde8\uc18c",products:"\uc0c1\ud488",company:"\ud68c\uc0ac",policies:"\uc815\ucc45",aboutUs:"\ud68c\uc0ac \uc18c\uac1c",helpCenter:"\ub3c4\uc6c0\ub9d0 \uc13c\ud130",termsConditions:"\uc774\uc6a9\uc57d\uad00",privacyPolicy:"\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68",copyright:"\ubaa8\ub4e0 \uad8c\ub9ac \ubcf4\uc720."},zh:{home:"\u9996\u9875",market:"\u5e02\u573a",smartTrading:"\u667a\u80fd\u4ea4\u6613",loan:"\u8d37\u6b3e",account:"\u8d26\u6237",language:"\u8bed\u8a00",marketTitle:"\u5e02\u573a",forex:"\u5916\u6c47",crypto:"\u52a0\u5bc6\u8d27\u5e01",stocks:"\u80a1\u7968",etf:"ETF",futures:"\u671f\u8d27",smartTradingTitle:"\u667a\u80fd\u4ea4\u6613",spotPrice:"\u73b0\u8d27\u4ef7\u683c",chart:"\u56fe\u8868",accountTitle:"\u8d26\u6237",balance:"\u4f59\u989d",totalBalance:"\u603b\u4f59\u989d",availableBalance:"\u53ef\u7528\u4f59\u989d",pendingBalance:"\u5f85\u5904\u7406\u4f59\u989d",loanTitle:"\u6295\u8d44\u4e0e\u8d37\u6b3e",borrowNow:"\u7acb\u5373\u501f\u6b3e",loading:"\u52a0\u8f7d\u4e2d...",error:"\u9519\u8bef",retry:"\u91cd\u8bd5",close:"\u5173\u95ed",save:"\u4fdd\u5b58",cancel:"\u53d6\u6d88",products:"\u4ea7\u54c1",company:"\u516c\u53f8",policies:"\u653f\u7b56",aboutUs:"\u5173\u4e8e\u6211\u4eec",helpCenter:"\u5e2e\u52a9\u4e2d\u5fc3",termsConditions:"\u6761\u6b3e\u548c\u6761\u4ef6",privacyPolicy:"\u9690\u79c1\u653f\u7b56",copyright:"\u7248\u6743\u6240\u6709."},es:{home:"Inicio",market:"Mercado",smartTrading:"Trading inteligente",loan:"Pr\xe9stamo",account:"Cuenta",language:"Idioma",marketTitle:"Mercado",forex:"Forex",crypto:"Criptomonedas",stocks:"Acciones",etf:"ETF",futures:"Futuros",smartTradingTitle:"Trading inteligente",spotPrice:"Precio spot",chart:"Gr\xe1fico",accountTitle:"Cuenta",balance:"Saldo",totalBalance:"Saldo total",availableBalance:"Saldo disponible",pendingBalance:"Saldo pendiente",loanTitle:"Inversi\xf3n y pr\xe9stamos",borrowNow:"Pedir pr\xe9stamo",loading:"Cargando...",error:"Error",retry:"Reintentar",close:"Cerrar",save:"Guardar",cancel:"Cancelar",products:"Productos",company:"Empresa",policies:"Pol\xedticas",aboutUs:"Acerca de nosotros",helpCenter:"Centro de ayuda",termsConditions:"T\xe9rminos y condiciones",privacyPolicy:"Pol\xedtica de privacidad",copyright:"Todos los derechos reservados."},fr:{home:"Accueil",market:"March\xe9",smartTrading:"Trading intelligent",loan:"Pr\xeat",account:"Compte",language:"Langue",marketTitle:"March\xe9",forex:"Forex",crypto:"Cryptomonnaies",stocks:"Actions",etf:"ETF",futures:"Futurs",smartTradingTitle:"Trading intelligent",spotPrice:"Prix au comptant",chart:"Graphique",accountTitle:"Compte",balance:"Solde",totalBalance:"Solde total",availableBalance:"Solde disponible",pendingBalance:"Solde en attente",loanTitle:"Investissement et pr\xeats",borrowNow:"Emprunter maintenant",loading:"Chargement...",error:"Erreur",retry:"R\xe9essayer",close:"Fermer",save:"Enregistrer",cancel:"Annuler",products:"Produits",company:"Entreprise",policies:"Politiques",aboutUs:"\xc0 propos de nous",helpCenter:"Centre d'aide",termsConditions:"Termes et conditions",privacyPolicy:"Politique de confidentialit\xe9",copyright:"Tous droits r\xe9serv\xe9s."},de:{home:"Startseite",market:"Markt",smartTrading:"Intelligenter Handel",loan:"Darlehen",account:"Konto",language:"Sprache",marketTitle:"Markt",forex:"Forex",crypto:"Kryptow\xe4hrungen",stocks:"Aktien",etf:"ETF",futures:"Terminkontrakte",smartTradingTitle:"Intelligenter Handel",spotPrice:"Kassakurs",chart:"Diagramm",accountTitle:"Konto",balance:"Guthaben",totalBalance:"Gesamtguthaben",availableBalance:"Verf\xfcgbares Guthaben",pendingBalance:"Ausstehendes Guthaben",loanTitle:"Investition und Darlehen",borrowNow:"Jetzt leihen",loading:"Laden...",error:"Fehler",retry:"Wiederholen",close:"Schlie\xdfen",save:"Speichern",cancel:"Abbrechen",products:"Produkte",company:"Unternehmen",policies:"Richtlinien",aboutUs:"\xdcber uns",helpCenter:"Hilfezentrum",termsConditions:"Gesch\xe4ftsbedingungen",privacyPolicy:"Datenschutzrichtlinie",copyright:"Alle Rechte vorbehalten."},pt:{home:"In\xedcio",market:"Mercado",smartTrading:"Trading inteligente",loan:"Empr\xe9stimo",account:"Conta",language:"Idioma",marketTitle:"Mercado",forex:"Forex",crypto:"Criptomoedas",stocks:"A\xe7\xf5es",etf:"ETF",futures:"Futuros",smartTradingTitle:"Trading inteligente",spotPrice:"Pre\xe7o \xe0 vista",chart:"Gr\xe1fico",accountTitle:"Conta",balance:"Saldo",totalBalance:"Saldo total",availableBalance:"Saldo dispon\xedvel",pendingBalance:"Saldo pendente",loanTitle:"Investimento e empr\xe9stimos",borrowNow:"Pegar empr\xe9stimo",loading:"Carregando...",error:"Erro",retry:"Tentar novamente",close:"Fechar",save:"Salvar",cancel:"Cancelar",products:"Produtos",company:"Empresa",policies:"Pol\xedticas",aboutUs:"Sobre n\xf3s",helpCenter:"Central de ajuda",termsConditions:"Termos e condi\xe7\xf5es",privacyPolicy:"Pol\xedtica de privacidade",copyright:"Todos os direitos reservados."},ru:{home:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",market:"\u0420\u044b\u043d\u043e\u043a",smartTrading:"\u0423\u043c\u043d\u0430\u044f \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044f",loan:"\u041a\u0440\u0435\u0434\u0438\u0442",account:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",language:"\u042f\u0437\u044b\u043a",marketTitle:"\u0420\u044b\u043d\u043e\u043a",forex:"\u0424\u043e\u0440\u0435\u043a\u0441",crypto:"\u041a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u044b",stocks:"\u0410\u043a\u0446\u0438\u0438",etf:"ETF",futures:"\u0424\u044c\u044e\u0447\u0435\u0440\u0441\u044b",smartTradingTitle:"\u0423\u043c\u043d\u0430\u044f \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044f",spotPrice:"\u0421\u043f\u043e\u0442 \u0446\u0435\u043d\u0430",chart:"\u0413\u0440\u0430\u0444\u0438\u043a",accountTitle:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",balance:"\u0411\u0430\u043b\u0430\u043d\u0441",totalBalance:"\u041e\u0431\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441",availableBalance:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439 \u0431\u0430\u043b\u0430\u043d\u0441",pendingBalance:"\u041e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441",loanTitle:"\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438 \u0438 \u043a\u0440\u0435\u0434\u0438\u0442\u044b",borrowNow:"\u0412\u0437\u044f\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",error:"\u041e\u0448\u0438\u0431\u043a\u0430",retry:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",products:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b",company:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",policies:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0438",aboutUs:"\u041e \u043d\u0430\u0441",helpCenter:"\u0426\u0435\u043d\u0442\u0440 \u043f\u043e\u043c\u043e\u0449\u0438",termsConditions:"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f",privacyPolicy:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438",copyright:"\u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b."},th:{home:"\u0e2b\u0e19\u0e49\u0e32\u0e41\u0e23\u0e01",market:"\u0e15\u0e25\u0e32\u0e14",smartTrading:"\u0e01\u0e32\u0e23\u0e40\u0e17\u0e23\u0e14\u0e2d\u0e31\u0e08\u0e09\u0e23\u0e34\u0e22\u0e30",loan:"\u0e40\u0e07\u0e34\u0e19\u0e01\u0e39\u0e49",account:"\u0e1a\u0e31\u0e0d\u0e0a\u0e35",language:"\u0e20\u0e32\u0e29\u0e32",marketTitle:"\u0e15\u0e25\u0e32\u0e14",forex:"\u0e1f\u0e2d\u0e40\u0e23\u0e47\u0e01\u0e0b\u0e4c",crypto:"\u0e2a\u0e01\u0e38\u0e25\u0e40\u0e07\u0e34\u0e19\u0e14\u0e34\u0e08\u0e34\u0e17\u0e31\u0e25",stocks:"\u0e2b\u0e38\u0e49\u0e19",etf:"ETF",futures:"\u0e1f\u0e34\u0e27\u0e40\u0e08\u0e2d\u0e23\u0e4c\u0e2a",smartTradingTitle:"\u0e01\u0e32\u0e23\u0e40\u0e17\u0e23\u0e14\u0e2d\u0e31\u0e08\u0e09\u0e23\u0e34\u0e22\u0e30",spotPrice:"\u0e23\u0e32\u0e04\u0e32\u0e2a\u0e1b\u0e2d\u0e15",chart:"\u0e01\u0e23\u0e32\u0e1f",accountTitle:"\u0e1a\u0e31\u0e0d\u0e0a\u0e35",balance:"\u0e22\u0e2d\u0e14\u0e40\u0e07\u0e34\u0e19",totalBalance:"\u0e22\u0e2d\u0e14\u0e40\u0e07\u0e34\u0e19\u0e23\u0e27\u0e21",availableBalance:"\u0e22\u0e2d\u0e14\u0e40\u0e07\u0e34\u0e19\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49\u0e44\u0e14\u0e49",pendingBalance:"\u0e22\u0e2d\u0e14\u0e40\u0e07\u0e34\u0e19\u0e23\u0e2d\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23",loanTitle:"\u0e01\u0e32\u0e23\u0e25\u0e07\u0e17\u0e38\u0e19\u0e41\u0e25\u0e30\u0e40\u0e07\u0e34\u0e19\u0e01\u0e39\u0e49",borrowNow:"\u0e01\u0e39\u0e49\u0e40\u0e07\u0e34\u0e19\u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49",loading:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e42\u0e2b\u0e25\u0e14...",error:"\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14",retry:"\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48",close:"\u0e1b\u0e34\u0e14",save:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",cancel:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",products:"\u0e1c\u0e25\u0e34\u0e15\u0e20\u0e31\u0e13\u0e11\u0e4c",company:"\u0e1a\u0e23\u0e34\u0e29\u0e31\u0e17",policies:"\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22",aboutUs:"\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e40\u0e23\u0e32",helpCenter:"\u0e28\u0e39\u0e19\u0e22\u0e4c\u0e0a\u0e48\u0e27\u0e22\u0e40\u0e2b\u0e25\u0e37\u0e2d",termsConditions:"\u0e02\u0e49\u0e2d\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e41\u0e25\u0e30\u0e40\u0e07\u0e37\u0e48\u0e2d\u0e19\u0e44\u0e02",privacyPolicy:"\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e04\u0e27\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27",copyright:"\u0e2a\u0e07\u0e27\u0e19\u0e25\u0e34\u0e02\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e4c."},id:{home:"Beranda",market:"Pasar",smartTrading:"Trading pintar",loan:"Pinjaman",account:"Akun",language:"Bahasa",marketTitle:"Pasar",forex:"Forex",crypto:"Kripto",stocks:"Saham",etf:"ETF",futures:"Berjangka",smartTradingTitle:"Trading pintar",spotPrice:"Harga spot",chart:"Grafik",accountTitle:"Akun",balance:"Saldo",totalBalance:"Total saldo",availableBalance:"Saldo tersedia",pendingBalance:"Saldo tertunda",loanTitle:"Investasi dan pinjaman",borrowNow:"Pinjam sekarang",loading:"Memuat...",error:"Kesalahan",retry:"Coba lagi",close:"Tutup",save:"Simpan",cancel:"Batal",products:"Produk",company:"Perusahaan",policies:"Kebijakan",aboutUs:"Tentang kami",helpCenter:"Pusat bantuan",termsConditions:"Syarat dan ketentuan",privacyPolicy:"Kebijakan privasi",copyright:"Semua hak dilindungi."},ms:{home:"Laman utama",market:"Pasaran",smartTrading:"Perdagangan pintar",loan:"Pinjaman",account:"Akaun",language:"Bahasa",marketTitle:"Pasaran",forex:"Forex",crypto:"Kripto",stocks:"Saham",etf:"ETF",futures:"Hadapan",smartTradingTitle:"Perdagangan pintar",spotPrice:"Harga spot",chart:"Carta",accountTitle:"Akaun",balance:"Baki",totalBalance:"Jumlah baki",availableBalance:"Baki tersedia",pendingBalance:"Baki tertunda",loanTitle:"Pelaburan dan pinjaman",borrowNow:"Pinjam sekarang",loading:"Memuatkan...",error:"Ralat",retry:"Cuba lagi",close:"Tutup",save:"Simpan",cancel:"Batal",products:"Produk",company:"Syarikat",policies:"Dasar",aboutUs:"Tentang kami",helpCenter:"Pusat bantuan",termsConditions:"Terma dan syarat",privacyPolicy:"Dasar privasi",copyright:"Hak cipta terpelihara."}},Oe={en:"English",vi:"Ti\u1ebfng Vi\u1ec7t",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4",zh:"\u7b80\u4f53\u4e2d\u6587",es:"Espa\xf1ol",fr:"Fran\xe7ais",de:"Deutsch",pt:"Portugu\xeas",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",id:"Indonesian",ms:"Melayu"},Le=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(()=>localStorage.getItem("selectedLanguage")||"en");(0,a.useEffect)(()=>{localStorage.setItem("selectedLanguage",n)},[n]);const s={currentLanguage:n,changeLanguage:e=>{r(e)},t:e=>{var t;return(null===(t=Me[n])||void 0===t?void 0:t[e])||Me.en[e]||e},languageNames:Oe,translations:Me};return(0,Re.jsx)(De.Provider,{value:s,children:t})},Ue=()=>{const e=(0,a.useContext)(De);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};function Fe(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Be(e,t,n){Fe(e,t),t.set(e,n)}function Ve(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function ze(e,t){return e.get(Ve(e,t))}function He(e,t,n){return e.set(Ve(e,t),n),n}function Ge(e,t,n){const r=t.split("|").map(e=>e.trim());for(let i=0;i<r.length;i++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const s=new Error("invalid value for type ".concat(t));throw s.code="INVALID_ARGUMENT",s.argument="value.".concat(n),s.value=e,s}async function We(e){const t=Object.keys(e),n=await Promise.all(t.map(t=>Promise.resolve(e[t])));return n.reduce((e,n,r)=>(e[t[r]]=n,e),{})}function qe(e,t,n){for(let r in t){let s=t[r];const i=n?n[r]:null;i&&Ge(s,i,r),Object.defineProperty(e,r,{enumerable:!0,value:s,writable:!1})}}function Qe(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"===typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>Qe(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return Qe(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const n=Object.keys(e);return n.sort(),"{ "+n.map(n=>"".concat(Qe(n,t),": ").concat(Qe(e[n],t))).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ke(e,t){return e&&e.code===t}function Je(e){return Ke(e,"CALL_EXCEPTION")}function Ye(e,t,n){let r,s=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(Qe(n)));for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+Qe(t))}}r.push("code=".concat(t)),r.push("version=".concat("6.15.0")),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return qe(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&qe(r,{shortMessage:s}),r}function Xe(e,t,n,r){if(!e)throw Ye(t,n,r)}function Ze(e,t,n,r){Xe(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function $e(e,t,n){null==n&&(n=""),n&&(n=": "+n),Xe(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Xe(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const et=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e},[]);function tt(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),Xe(!1,"private constructor; use ".concat(e,"from* methods"),"UNSUPPORTED_OPERATION",{operation:t})}}function nt(e,t){Fe(e,t),t.add(e)}function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function st(e){var t=function(e,t){if("object"!=rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rt(t)?t:t+""}function it(e,t,n){return(t=st(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach(function(t){it(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lt(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}Ze(!1,"invalid BytesLike value",t||"value",e)}function ct(e,t){return lt(e,t,!1)}function ut(e,t){return lt(e,t,!0)}function ht(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function dt(e){return ht(e,!0)||e instanceof Uint8Array}const ft="0123456789abcdef";function mt(e){const t=ct(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=ft[(240&e)>>4]+ft[15&e]}return n}function pt(e){return"0x"+e.map(e=>mt(e).substring(2)).join("")}function gt(e){return ht(e,!0)?(e.length-2)/2:ct(e).length}function yt(e,t,n){const r=ct(e);return null!=n&&n>r.length&&Xe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),mt(r.slice(null==t?0:t,null==n?r.length:n))}function vt(e,t,n){const r=ct(e);Xe(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),n?s.set(r,t-r.length):s.set(r,0),mt(s)}function xt(e,t){return vt(e,t,!0)}const wt=BigInt(0),bt=BigInt(1),Et=9007199254740991;function St(e,t){const n=Ct(e,"value"),r=BigInt(Pt(t,"width"));if(Xe(n>>r===wt,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-bt){return-((~n&(bt<<r)-bt)+bt)}return n}function Nt(e,t){let n=kt(e,"value");const r=BigInt(Pt(t,"width")),s=bt<<r-bt;if(n<wt){n=-n,Xe(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(bt<<r)-bt)+bt}return Xe(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function At(e,t){const n=Ct(e,"value"),r=BigInt(Pt(t,"bits"));return n&(bt<<r)-bt}function kt(e,t){switch(typeof e){case"bigint":return e;case"number":return Ze(Number.isInteger(e),"underflow",t||"value",e),Ze(e>=-Et&&e<=Et,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(GV){Ze(!1,"invalid BigNumberish string: ".concat(GV.message),t||"value",e)}}Ze(!1,"invalid BigNumberish value",t||"value",e)}function Ct(e,t){const n=kt(e,t);return Xe(n>=wt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Tt="0123456789abcdef";function jt(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Tt[n>>4],t+=Tt[15&n];return BigInt(t)}return kt(e)}function Pt(e,t){switch(typeof e){case"bigint":return Ze(e>=-Et&&e<=Et,"overflow",t||"value",e),Number(e);case"number":return Ze(Number.isInteger(e),"underflow",t||"value",e),Ze(e>=-Et&&e<=Et,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return Pt(BigInt(e),t)}catch(GV){Ze(!1,"invalid numeric string: ".concat(GV.message),t||"value",e)}}Ze(!1,"invalid numeric value",t||"value",e)}function It(e,t){let n=Ct(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=Pt(t,"width");for(Xe(2*r>=n.length,"value exceeds width (".concat(r," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function _t(e){const t=Ct(e,"value");if(t===wt)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const e=2*s;r[s]=parseInt(n.substring(e,e+2),16)}return r}function Rt(e){let t=mt(dt(e)?e:_t(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const Dt=32,Mt=new Uint8Array(Dt),Ot=["then"],Lt={},Ut=new WeakMap;function Ft(e){return Ut.get(e)}function Bt(e,t){Ut.set(e,t)}function Vt(e,t){const n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));throw n.error=t,n}function zt(e,t,n){return e.indexOf(null)>=0?t.map((e,t)=>e instanceof Gt?zt(Ft(e),e,n):e):e.reduce((e,r,s)=>{let i=t.getValue(r);return r in e||(n&&i instanceof Gt&&(i=zt(Ft(i),i,n)),e[r]=i),e},{})}var Ht=new WeakMap;class Gt extends Array{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let s=t[1],i=(t[2]||[]).slice(),a=!0;r!==Lt&&(s=t,i=[],a=!1),super(s.length),Be(this,Ht,void 0),s.forEach((e,t)=>{this[t]=e});const o=i.reduce((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(Bt(this,Object.freeze(s.map((e,t)=>{const n=i[t];return null!=n&&1===o.get(n)?n:null}))),He(Ht,this,[]),null==ze(Ht,this)&&ze(Ht,this),!a)return;Object.freeze(this);const l=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=Pt(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&Vt("index ".concat(n),r),r}if(Ot.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return r.apply(this===n?e:this,s)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return Bt(l,Ft(this)),l}toArray(e){const t=[];return this.forEach((n,r)=>{n instanceof Error&&Vt("index ".concat(r),n),e&&n instanceof Gt&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){const t=Ft(this);return t.reduce((n,r,s)=>(Xe(null!=r,"value at index ".concat(s," unnamed"),"UNSUPPORTED_OPERATION",{operation:"toObject()"}),zt(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=Ft(this),r=[],s=[];for(let i=e;i<t;i++)r.push(this[i]),s.push(n[i]);return new Gt(Lt,r,s)}filter(e,t){const n=Ft(this),r=[],s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&Vt("index ".concat(i),a),e.call(t,a,i,this)&&(r.push(a),s.push(n[i]))}return new Gt(Lt,r,s)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const s=this[r];s instanceof Error&&Vt("index ".concat(r),s),n.push(e.call(t,s,r,this))}return n}getValue(e){const t=Ft(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&Vt("property ".concat(JSON.stringify(e)),n.error),n}static fromItems(e,t){return new Gt(Lt,e,t)}}function Wt(e){let t=_t(e);return Xe(t.length<=Dt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Dt,offset:t.length}),t.length!==Dt&&(t=ut(pt([Mt.slice(t.length%Dt),t]))),t}class qt{constructor(e,t,n,r){it(this,"name",void 0),it(this,"type",void 0),it(this,"localName",void 0),it(this,"dynamic",void 0),qe(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Ze(!1,e,this.localName,t)}}var Qt=new WeakMap,Kt=new WeakMap,Jt=new WeakSet;class Yt{constructor(){nt(this,Jt),Be(this,Qt,void 0),Be(this,Kt,void 0),He(Qt,this,[]),He(Kt,this,0)}get data(){return pt(ze(Qt,this))}get length(){return ze(Kt,this)}appendWriter(e){return Ve(Jt,this,Xt).call(this,ut(e.data))}writeBytes(e){let t=ut(e);const n=t.length%Dt;return n&&(t=ut(pt([t,Mt.slice(n)]))),Ve(Jt,this,Xt).call(this,t)}writeValue(e){return Ve(Jt,this,Xt).call(this,Wt(e))}writeUpdatableValue(){const e=ze(Qt,this).length;return ze(Qt,this).push(Mt),He(Kt,this,ze(Kt,this)+Dt),t=>{ze(Qt,this)[e]=Wt(t)}}}function Xt(e){return ze(Qt,this).push(e),He(Kt,this,ze(Kt,this)+e.length),e.length}var Zt=new WeakMap,$t=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakSet;class sn{constructor(e,t,n){nt(this,rn),it(this,"allowLoose",void 0),Be(this,Zt,void 0),Be(this,$t,void 0),Be(this,en,void 0),Be(this,tn,void 0),Be(this,nn,void 0),qe(this,{allowLoose:!!t}),He(Zt,this,ut(e)),He(en,this,0),He(tn,this,null),He(nn,this,null!=n?n:1024),He($t,this,0)}get data(){return mt(ze(Zt,this))}get dataLength(){return ze(Zt,this).length}get consumed(){return ze($t,this)}get bytes(){return new Uint8Array(ze(Zt,this))}subReader(e){const t=new sn(ze(Zt,this).slice(ze($t,this)+e),this.allowLoose,ze(nn,this));return He(tn,t,this),t}readBytes(e,t){let n=Ve(rn,this,on).call(this,0,e,!!t);return Ve(rn,this,an).call(this,e),He($t,this,ze($t,this)+n.length),n.slice(0,e)}readValue(){return jt(this.readBytes(Dt))}readIndex(){return Pt(jt(this.readBytes(Dt)))}}function an(e){var t;if(ze(tn,this))return Ve(rn,t=ze(tn,this),an).call(t,e);He(en,this,ze(en,this)+e),Xe(ze(nn,this)<1||ze(en,this)<=ze(nn,this)*this.dataLength,"compressed ABI data exceeds inflation ratio of ".concat(ze(nn,this)," ( see: https://github.com/ethers-io/ethers.js/issues/4537 )"),"BUFFER_OVERRUN",{buffer:ut(ze(Zt,this)),offset:ze($t,this),length:e,info:{bytesRead:ze(en,this),dataLength:this.dataLength}})}function on(e,t,n){let r=Math.ceil(t/Dt)*Dt;return ze($t,this)+r>ze(Zt,this).length&&(this.allowLoose&&n&&ze($t,this)+t<=ze(Zt,this).length?r=t:Xe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ut(ze(Zt,this)),length:ze(Zt,this).length,offset:ze($t,this)+r})),ze(Zt,this).slice(ze($t,this),ze($t,this)+r)}function ln(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function cn(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function un(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ln(e.outputLen),ln(e.blockLen)}function hn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dn(e,t){cn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const fn=BigInt(2**32-1),mn=BigInt(32);function pn(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&fn),l:Number(e>>mn&fn)}:{h:0|Number(e>>mn&fn),l:0|Number(e&fn)}}function gn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:a}=pn(e[s],t);[n[s],r[s]]=[i,a]}return[n,r]}const yn=(e,t,n)=>e<<n|t>>>32-n,vn=(e,t,n)=>t<<n|e>>>32-n,xn=(e,t,n)=>t<<n-32|e>>>64-n,wn=(e,t,n)=>e<<n-32|t>>>64-n;const bn={fromBig:pn,split:gn,toBig:(e,t)=>BigInt(e>>>0)<<mn|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:yn,rotlSL:vn,rotlBH:xn,rotlBL:wn,add:function(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,add5H:(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,add5L:(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0)},En="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Sn=e=>e instanceof Uint8Array,Nn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),An=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function kn(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!Sn(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class Cn{clone(){return this._cloneInto()}}function Tn(e){const t=t=>e().update(kn(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(En&&"function"===typeof En.getRandomValues)return En.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[Pn,In,_n]=[[],[],[]],Rn=BigInt(0),Dn=BigInt(1),Mn=BigInt(2),On=BigInt(7),Ln=BigInt(256),Un=BigInt(113);for(let QV=0,KV=Dn,JV=1,YV=0;QV<24;QV++){[JV,YV]=[YV,(2*JV+3*YV)%5],Pn.push(2*(5*YV+JV)),In.push((QV+1)*(QV+2)/2%64);let e=Rn;for(let t=0;t<7;t++)KV=(KV<<Dn^(KV>>On)*Un)%Ln,KV&Mn&&(e^=Dn<<(Dn<<BigInt(t))-Dn);_n.push(e)}const[Fn,Bn]=gn(_n,!0),Vn=(e,t,n)=>n>32?xn(e,t,n):yn(e,t,n),zn=(e,t,n)=>n>32?wn(e,t,n):vn(e,t,n);class Hn extends Cn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ln(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,s=(r+2)%10,i=n[s],a=n[s+1],o=Vn(i,a,1)^n[t],l=zn(i,a,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=o,e[r+n+1]^=l}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=In[n],i=Vn(t,s,r),a=zn(t,s,r),o=Pn[n];t=e[o],s=e[o+1],e[o]=i,e[o+1]=a}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Fn[r],e[1]^=Bn[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){hn(this);const{blockLen:t,state:n}=this,r=(e=kn(e)).length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){hn(this,!1),cn(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ln(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(dn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new Hn(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const Gn=(e,t,n)=>Tn(()=>new Hn(t,e,n)),Wn=Gn(1,136,32);let qn=!1;const Qn=function(e){return Wn(e)};let Kn=Qn;function Jn(e){const t=ct(e,"data");return mt(Kn(t))}Jn._=Qn,Jn.lock=function(){qn=!0},Jn.register=function(e){if(qn)throw new TypeError("keccak256 is locked");Kn=e},Object.freeze(Jn);const Yn=BigInt(0),Xn=BigInt(36);function Zn(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=t[s].charCodeAt(0);const r=ct(Jn(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(15&r[s>>1])>=8&&(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}const $n={};for(let QV=0;QV<10;QV++)$n[String(QV)]=String(QV);for(let QV=0;QV<26;QV++)$n[String.fromCharCode(65+QV)]=String(10+QV);function er(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>$n[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const tr=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function nr(e){if(Ze("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Zn(e);return Ze(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Ze(e.substring(2,4)===er(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Yn;for(let n=0;n<e.length;n++)t=t*Xn+tr[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Zn("0x"+t)}Ze(!1,"invalid address","address",e)}const rr={};function sr(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new lr(rr,"".concat(n?"":"u","int").concat(t),e,{signed:n,width:t})}function ir(e,t){return new lr(rr,"bytes".concat(t||""),e,{size:t})}const ar=Symbol.for("_ethers_typed");var or=new WeakMap;class lr{constructor(e,t,n,r){it(this,"type",void 0),it(this,"value",void 0),Be(this,or,void 0),it(this,"_typedSymbol",void 0),null==r&&(r=null),tt(rr,e,"Typed"),qe(this,{_typedSymbol:ar,type:t,value:n}),He(or,this,r),this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map(e=>e.format()).join(","),")"):this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return ze(or,this)}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===ze(or,this)?-1:!1===ze(or,this)?this.value.length:null}static from(e,t){return new lr(rr,e,t)}static uint8(e){return sr(e,8)}static uint16(e){return sr(e,16)}static uint24(e){return sr(e,24)}static uint32(e){return sr(e,32)}static uint40(e){return sr(e,40)}static uint48(e){return sr(e,48)}static uint56(e){return sr(e,56)}static uint64(e){return sr(e,64)}static uint72(e){return sr(e,72)}static uint80(e){return sr(e,80)}static uint88(e){return sr(e,88)}static uint96(e){return sr(e,96)}static uint104(e){return sr(e,104)}static uint112(e){return sr(e,112)}static uint120(e){return sr(e,120)}static uint128(e){return sr(e,128)}static uint136(e){return sr(e,136)}static uint144(e){return sr(e,144)}static uint152(e){return sr(e,152)}static uint160(e){return sr(e,160)}static uint168(e){return sr(e,168)}static uint176(e){return sr(e,176)}static uint184(e){return sr(e,184)}static uint192(e){return sr(e,192)}static uint200(e){return sr(e,200)}static uint208(e){return sr(e,208)}static uint216(e){return sr(e,216)}static uint224(e){return sr(e,224)}static uint232(e){return sr(e,232)}static uint240(e){return sr(e,240)}static uint248(e){return sr(e,248)}static uint256(e){return sr(e,256)}static uint(e){return sr(e,256)}static int8(e){return sr(e,-8)}static int16(e){return sr(e,-16)}static int24(e){return sr(e,-24)}static int32(e){return sr(e,-32)}static int40(e){return sr(e,-40)}static int48(e){return sr(e,-48)}static int56(e){return sr(e,-56)}static int64(e){return sr(e,-64)}static int72(e){return sr(e,-72)}static int80(e){return sr(e,-80)}static int88(e){return sr(e,-88)}static int96(e){return sr(e,-96)}static int104(e){return sr(e,-104)}static int112(e){return sr(e,-112)}static int120(e){return sr(e,-120)}static int128(e){return sr(e,-128)}static int136(e){return sr(e,-136)}static int144(e){return sr(e,-144)}static int152(e){return sr(e,-152)}static int160(e){return sr(e,-160)}static int168(e){return sr(e,-168)}static int176(e){return sr(e,-176)}static int184(e){return sr(e,-184)}static int192(e){return sr(e,-192)}static int200(e){return sr(e,-200)}static int208(e){return sr(e,-208)}static int216(e){return sr(e,-216)}static int224(e){return sr(e,-224)}static int232(e){return sr(e,-232)}static int240(e){return sr(e,-240)}static int248(e){return sr(e,-248)}static int256(e){return sr(e,-256)}static int(e){return sr(e,-256)}static bytes1(e){return ir(e,1)}static bytes2(e){return ir(e,2)}static bytes3(e){return ir(e,3)}static bytes4(e){return ir(e,4)}static bytes5(e){return ir(e,5)}static bytes6(e){return ir(e,6)}static bytes7(e){return ir(e,7)}static bytes8(e){return ir(e,8)}static bytes9(e){return ir(e,9)}static bytes10(e){return ir(e,10)}static bytes11(e){return ir(e,11)}static bytes12(e){return ir(e,12)}static bytes13(e){return ir(e,13)}static bytes14(e){return ir(e,14)}static bytes15(e){return ir(e,15)}static bytes16(e){return ir(e,16)}static bytes17(e){return ir(e,17)}static bytes18(e){return ir(e,18)}static bytes19(e){return ir(e,19)}static bytes20(e){return ir(e,20)}static bytes21(e){return ir(e,21)}static bytes22(e){return ir(e,22)}static bytes23(e){return ir(e,23)}static bytes24(e){return ir(e,24)}static bytes25(e){return ir(e,25)}static bytes26(e){return ir(e,26)}static bytes27(e){return ir(e,27)}static bytes28(e){return ir(e,28)}static bytes29(e){return ir(e,29)}static bytes30(e){return ir(e,30)}static bytes31(e){return ir(e,31)}static bytes32(e){return ir(e,32)}static address(e){return new lr(rr,"address",e)}static bool(e){return new lr(rr,"bool",!!e)}static bytes(e){return new lr(rr,"bytes",e)}static string(e){return new lr(rr,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new lr(rr,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===ar}static dereference(e,t){if(lr.isTyped(e)){if(e.type!==t)throw new Error("invalid type: expecetd ".concat(t,", got ").concat(e.type));return e.value}return e}}class cr extends qt{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=lr.dereference(t,"string");try{n=nr(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return nr(It(e.readValue(),20))}}class ur extends qt{constructor(e){super(e.name,e.type,"_",e.dynamic),it(this,"coder",void 0),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function hr(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map(t=>{const r=t.localName;return Xe(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),Xe(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]})}else Ze(!1,"invalid tuple value","tuple",n);Ze(t.length===r.length,"types/value length mismatch","tuple",n);let s=new Yt,i=new Yt,a=[];t.forEach((e,t)=>{let n=r[t];if(e.dynamic){let t=i.length;e.encode(i,n);let r=s.writeUpdatableValue();a.push(e=>{r(e+t)})}else e.encode(s,n)}),a.forEach(e=>{e(s.length)});let o=e.appendWriter(s);return o+=e.appendWriter(i),o}function dr(e,t){let n=[],r=[],s=e.subReader(0);return t.forEach(t=>{let i=null;if(t.dynamic){let n=e.readIndex(),r=s.subReader(n);try{i=t.decode(r)}catch(a){if(Ke(a,"BUFFER_OVERRUN"))throw a;i=a,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(a){if(Ke(a,"BUFFER_OVERRUN"))throw a;i=a,i.baseType=t.name,i.name=t.localName,i.type=t.type}if(void 0==i)throw new Error("investigate");n.push(i),r.push(t.localName||null)}),Gt.fromItems(n,r)}class fr extends qt{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),it(this,"coder",void 0),it(this,"length",void 0),qe(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=lr.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),$e(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let i=0;i<n.length;i++)s.push(this.coder);return hr(e,s,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),Xe(t*Dt<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Dt,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new ur(this.coder));return dr(e,n)}}class mr extends qt{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=lr.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class pr extends qt{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ut(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class gr extends pr{constructor(e){super("bytes",e)}decode(e){return mt(super.decode(e))}}class yr extends qt{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),it(this,"size",void 0),qe(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=ut(lr.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return mt(e.readBytes(this.size))}}const vr=new Uint8Array([]);class xr extends qt{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(vr)}decode(e){return e.readBytes(0),null}}const wr=BigInt(0),br=BigInt(1),Er=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Sr extends qt{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),it(this,"size",void 0),it(this,"signed",void 0),qe(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=kt(lr.dereference(t,this.type)),r=At(Er,256);if(this.signed){let e=At(r,8*this.size-1);(n>e||n<-(e+br))&&this._throwError("value out-of-bounds",t),n=Nt(n,256)}else(n<wr||n>At(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=At(e.readValue(),8*this.size);return this.signed&&(t=St(t,8*this.size)),t}}function Nr(e,t,n,r,s){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const Ar=Object.freeze({error:function(e,t,n,r,s){Ze(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:Nr,replace:function(e,t,n,r,s){return"OVERLONG"===e?(Ze("number"===typeof s,"invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),Nr(e,t,n))}});function kr(e,t){null==t&&(t=Ar.error);const n=ct(e,"bytes"),r=[];let s=0;for(;s<n.length;){const e=n[s++];if(e>>7===0){r.push(e);continue}let i=null,a=null;if(192===(224&e))i=1,a=127;else if(224===(240&e))i=2,a=2047;else{if(240!==(248&e)){s+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",s-1,n,r);continue}i=3,a=65535}if(s-1+i>=n.length){s+=t("OVERRUN",s-1,n,r);continue}let o=e&(1<<8-i-1)-1;for(let l=0;l<i;l++){let e=n[s];if(128!=(192&e)){s+=t("MISSING_CONTINUE",s,n,r),o=null;break}o=o<<6|63&e,s++}null!==o&&(o>1114111?s+=t("OUT_OF_RANGE",s-1-i,n,r,o):o>=55296&&o<=57343?s+=t("UTF16_SURROGATE",s-1-i,n,r,o):o<=a?s+=t("OVERLONG",s-1-i,n,r,o):r.push(o))}return r}function Cr(e,t){Ze("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){Xe(et.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const s=e.charCodeAt(r);Ze(r<e.length&&56320===(64512&s),"invalid surrogate pair","str",e);const i=65536+((1023&t)<<10)+(1023&s);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(63&i|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function Tr(e,t){return kr(e,t).map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}class jr extends pr{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Cr(lr.dereference(t,"string")))}decode(e){return Tr(super.decode(e))}}class Pr extends qt{constructor(e,t){let n=!1;const r=[];e.forEach(e=>{e.dynamic&&(n=!0),r.push(e.type)});super("tuple","tuple("+r.join(",")+")",t,n),it(this,"coders",void 0),qe(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e},{});return this.coders.forEach((n,r)=>{let s=n.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[r]))}),Object.freeze(e)}encode(e,t){const n=lr.dereference(t,"tuple");return hr(e,this.coders,n)}decode(e){return dr(e,this.coders)}}function Ir(e){return Jn(Cr(e))}var _r;function Rr(e){const t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}const Dr=Rr("external public payable override".split(" ")),Mr="constant external internal payable private public pure view override",Or=Rr(Mr.split(" ")),Lr="constructor error event fallback function receive struct",Ur=Rr(Lr.split(" ")),Fr="calldata memory storage payable indexed",Br=Rr(Fr.split(" ")),Vr=Rr([Lr,Fr,"tuple returns",Mr].join(" ").split(" ")),zr={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Hr=new RegExp("^(\\s*)"),Gr=new RegExp("^([0-9]+)"),Wr=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),qr=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Qr=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Kr=new WeakMap,Jr=new WeakMap,Yr=new WeakSet;class Xr{get offset(){return ze(Kr,this)}get length(){return ze(Jr,this).length-ze(Kr,this)}constructor(e){nt(this,Yr),Be(this,Kr,void 0),Be(this,Jr,void 0),He(Kr,this,0),He(Jr,this,e.slice())}clone(){return new Xr(ze(Jr,this))}reset(){He(Kr,this,0)}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error("expected keyword ".concat(t.text));return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error("expected ".concat(e,"; got ").concat(t.type," ").concat(JSON.stringify(t.text)))}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=Ve(Yr,this,Zr).call(this,ze(Kr,this)+1,e.match+1);return He(Kr,this,e.match+1),t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;ze(Kr,this)<e.match-1;){const e=this.peek().linkNext;t.push(Ve(Yr,this,Zr).call(this,ze(Kr,this)+1,e)),He(Kr,this,e)}return He(Kr,this,e.match+1),t}peek(){if(ze(Kr,this)>=ze(Jr,this).length)throw new Error("out-of-bounds");return ze(Jr,this)[ze(Kr,this)]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){var e;const t=this.peek();return He(Kr,this,(e=ze(Kr,this),e++,e)),t}toString(){const e=[];for(let t=ze(Kr,this);t<ze(Jr,this).length;t++){const n=ze(Jr,this)[t];e.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(e.join(" "),">")}}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new _r(ze(Jr,this).slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}function $r(e){const t=[],n=t=>{const n=i<e.length?JSON.stringify(e[i]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(i,": ").concat(t))};let r=[],s=[],i=0;for(;i<e.length;){let a=e.substring(i),o=a.match(Hr);o&&(i+=o[1].length,a=e.substring(i));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};t.push(l);let c=zr[a[0]]||"";if(c){if(l.type=c,l.text=a[0],i++,"OPEN_PAREN"===c)r.push(t.length-1),s.push(t.length-1);else if("CLOSE_PAREN"==c)0===r.length&&n("no matching open bracket"),l.match=r.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=s.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===c)l.linkBack=s.pop(),t[l.linkBack].linkNext=t.length-1,s.push(t.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=Pt(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(o=a.match(Wr),o){if(l.text=o[1],i+=l.text.length,Vr.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(Qr)){l.type="TYPE";continue}l.type="ID"}else{if(o=a.match(Gr),!o)throw new Error("unexpected token ".concat(JSON.stringify(a[0])," at position ").concat(i));l.text=o[1],l.type="NUMBER",i+=l.text.length}}return new Xr(t.map(e=>Object.freeze(e)))}function es(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function ts(e,t){if(t.peekKeyword(Ur)){const n=t.pop().text;if(n!==e)throw new Error("expected ".concat(e,", got ").concat(n))}return t.popType("ID")}function ns(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function rs(e){let t=ns(e,Or);return es(t,Rr("constant payable nonpayable".split(" "))),es(t,Rr("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function ss(e,t){return e.popParams().map(e=>xs.from(e,t))}function is(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return kt(e.pop().text);throw new Error("invalid gas")}return null}function as(e){if(e.length)throw new Error("unexpected tokens at offset ".concat(e.offset,": ").concat(e.toString()))}_r=Xr;const os=new RegExp(/^(.*)\[([0-9]*)\]$/);function ls(e){const t=e.match(Qr);if(Ze(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);Ze(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);Ze(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const cs={},us=Symbol.for("_ethers_internal"),hs="_ParamTypeInternal",ds="_ErrorInternal",fs="_EventInternal",ms="_ConstructorInternal",ps="_FallbackInternal",gs="_FunctionInternal",ys="_StructInternal";var vs=new WeakSet;class xs{constructor(e,t,n,r,s,i,a,o){if(nt(this,vs),it(this,"name",void 0),it(this,"type",void 0),it(this,"baseType",void 0),it(this,"indexed",void 0),it(this,"components",void 0),it(this,"arrayLength",void 0),it(this,"arrayChildren",void 0),tt(e,cs,"ParamType"),Object.defineProperty(this,us,{value:hs}),i&&(i=Object.freeze(i.slice())),"array"===r){if(null==a||null==o)throw new Error("")}else if(null!=a||null!=o)throw new Error("");if("tuple"===r){if(null==i)throw new Error("")}else if(null!=i)throw new Error("");qe(this,{name:t,type:n,baseType:r,indexed:s,components:i,arrayLength:a,arrayChildren:o})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(e=>n.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((e,r)=>n.components[r].walk(e,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],r=[e];return Ve(vs,this,ws).call(this,n,e,t,e=>{r[0]=e}),n.length&&await Promise.all(n),r[0]}static from(e,t){if(xs.isParamType(e))return e;if("string"===typeof e)try{return xs.from($r(e),t)}catch(a){Ze(!1,"invalid param type","obj",e)}else if(e instanceof Xr){let n="",r="",s=null;ns(e,Rr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",s=e.popParams().map(e=>xs.from(e)),n="tuple(".concat(s.map(e=>e.format()).join(","),")")):(n=ls(e.popType("TYPE")),r=n);let i=null,a=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();i=new xs(cs,"",n,r,null,s,a,i),a=t.value,n+=t.text,r="array",s=null}let o=null;if(ns(e,Br).has("indexed")){if(!t)throw new Error("");o=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new xs(cs,l,n,r,o,s,a,i)}const n=e.name;Ze(!n||"string"===typeof n&&n.match(qr),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(Ze(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let s=e.type,i=s.match(os);if(i){const t=parseInt(i[2]||"-1"),a=xs.from({type:i[1],components:e.components});return new xs(cs,n||"",s,"array",r,null,t,a)}if("tuple"===s||s.startsWith("tuple(")||s.startsWith("(")){const t=null!=e.components?e.components.map(e=>xs.from(e)):null;return new xs(cs,n||"",s,"tuple",r,t,null,null)}return s=ls(e.type),new xs(cs,n||"",s,s,r,null,null,null)}static isParamType(e){return e&&e[us]===hs}}function ws(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,i=t.slice();return i.forEach((t,r)=>{Ve(vs,s,ws).call(s,e,t,n,e=>{i[r]=e})}),void r(i)}if(this.isTuple()){const s=this.components;let i;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");i=s.map(e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error("missing value for component ".concat(e.name));return t[e.name]})}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach((t,r)=>{var a;Ve(vs,a=s[r],ws).call(a,e,t,n,e=>{i[r]=e})}),void r(i)}const s=n(this.type,t);s.then?e.push(async function(){r(await s)}()):r(s)}class bs{constructor(e,t,n){it(this,"type",void 0),it(this,"inputs",void 0),tt(e,cs,"Fragment"),qe(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{bs.from(JSON.parse(e))}catch(GV){}return bs.from($r(e))}if(e instanceof Xr){switch(e.peekKeyword(Ur)){case"constructor":return ks.from(e);case"error":return Ns.from(e);case"event":return As.from(e);case"fallback":case"receive":return Cs.from(e);case"function":return Ts.from(e);case"struct":return js.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return ks.from(e);case"error":return Ns.from(e);case"event":return As.from(e);case"fallback":case"receive":return Cs.from(e);case"function":return Ts.from(e);case"struct":return js.from(e)}Xe(!1,"unsupported type: ".concat(e.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Ze(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ks.isFragment(e)}static isError(e){return Ns.isFragment(e)}static isEvent(e){return As.isFragment(e)}static isFunction(e){return Ts.isFragment(e)}static isStruct(e){return js.isFragment(e)}}class Es extends bs{constructor(e,t,n,r){super(e,t,r),it(this,"name",void 0),Ze("string"===typeof n&&n.match(qr),"invalid identifier","name",n),r=Object.freeze(r.slice()),qe(this,{name:n})}}function Ss(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class Ns extends Es{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,us,{value:ds})}get selector(){return Ir(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Ss(e,this.inputs)),t.join(" ")}static from(e){if(Ns.isFragment(e))return e;if("string"===typeof e)return Ns.from($r(e));if(e instanceof Xr){const t=ts("error",e),n=ss(e);return as(e),new Ns(cs,t,n)}return new Ns(cs,e.name,e.inputs?e.inputs.map(xs.from):[])}static isFragment(e){return e&&e[us]===ds}}class As extends Es{constructor(e,t,n,r){super(e,"event",t,n),it(this,"anonymous",void 0),Object.defineProperty(this,us,{value:fs}),qe(this,{anonymous:r})}get topicHash(){return Ir(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Ss(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map(e=>xs.from(e));return new As(cs,e,t,!1).topicHash}static from(e){if(As.isFragment(e))return e;if("string"===typeof e)try{return As.from($r(e))}catch(t){Ze(!1,"invalid event fragment","obj",e)}else if(e instanceof Xr){const t=ts("event",e),n=ss(e,!0),r=!!ns(e,Rr(["anonymous"])).has("anonymous");return as(e),new As(cs,t,n,r)}return new As(cs,e.name,e.inputs?e.inputs.map(e=>xs.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[us]===fs}}class ks extends bs{constructor(e,t,n,r,s){super(e,t,n),it(this,"payable",void 0),it(this,"gas",void 0),Object.defineProperty(this,us,{value:ms}),qe(this,{payable:r,gas:s})}format(e){if(Xe(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=["constructor".concat(Ss(e,this.inputs))];return this.payable&&t.push("payable"),null!=this.gas&&t.push("@".concat(this.gas.toString())),t.join(" ")}static from(e){if(ks.isFragment(e))return e;if("string"===typeof e)try{return ks.from($r(e))}catch(t){Ze(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Xr){ns(e,Rr(["constructor"]));const t=ss(e),n=!!ns(e,Dr).has("payable"),r=is(e);return as(e),new ks(cs,"constructor",t,n,r)}return new ks(cs,"constructor",e.inputs?e.inputs.map(xs.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[us]===ms}}class Cs extends bs{constructor(e,t,n){super(e,"fallback",t),it(this,"payable",void 0),Object.defineProperty(this,us,{value:ps}),qe(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return"".concat(t,"()").concat(this.payable?" payable":"")}static from(e){if(Cs.isFragment(e))return e;if("string"===typeof e)try{return Cs.from($r(e))}catch(t){Ze(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Xr){const t=e.toString();Ze(e.peekKeyword(Rr(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(Rr(["fallback","receive"]))){const t=ss(e);return Ze(0===t.length,"receive cannot have arguments","obj.inputs",t),ns(e,Rr(["payable"])),as(e),new Cs(cs,[],!0)}let n=ss(e);n.length?Ze(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map(e=>e.format("minimal")).join(", ")):n=[xs.from("bytes")];const r=rs(e);if(Ze("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),ns(e,Rr(["returns"])).has("returns")){const t=ss(e);Ze(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return as(e),new Cs(cs,n,"payable"===r)}if("receive"===e.type)return new Cs(cs,[],!0);if("fallback"===e.type){const t=[xs.from("bytes")],n="payable"===e.stateMutability;return new Cs(cs,t,n)}Ze(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[us]===ps}}class Ts extends Es{constructor(e,t,n,r,s,i){super(e,"function",t,r),it(this,"constant",void 0),it(this,"outputs",void 0),it(this,"stateMutability",void 0),it(this,"payable",void 0),it(this,"gas",void 0),Object.defineProperty(this,us,{value:gs});qe(this,{constant:"view"===n||"pure"===n,gas:i,outputs:s=Object.freeze(s.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return Ir(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Ss(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Ss(e,this.outputs))),null!=this.gas&&t.push("@".concat(this.gas.toString()))),t.join(" ")}static getSelector(e,t){t=(t||[]).map(e=>xs.from(e));return new Ts(cs,e,"view",t,[],null).selector}static from(e){if(Ts.isFragment(e))return e;if("string"===typeof e)try{return Ts.from($r(e))}catch(n){Ze(!1,"invalid function fragment","obj",e)}else if(e instanceof Xr){const t=ts("function",e),n=ss(e),r=rs(e);let s=[];ns(e,Rr(["returns"])).has("returns")&&(s=ss(e));const i=is(e);return as(e),new Ts(cs,t,r,n,s,i)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Ts(cs,e.name,t,e.inputs?e.inputs.map(xs.from):[],e.outputs?e.outputs.map(xs.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[us]===gs}}class js extends Es{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,us,{value:ys})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return js.from($r(e))}catch(t){Ze(!1,"invalid struct fragment","obj",e)}else if(e instanceof Xr){const t=ts("struct",e),n=ss(e);return as(e),new js(cs,t,n)}return new js(cs,e.name,e.inputs?e.inputs.map(xs.from):[])}static isFragment(e){return e&&e[us]===ys}}const Ps=new Map;Ps.set(0,"GENERIC_PANIC"),Ps.set(1,"ASSERT_FALSE"),Ps.set(17,"OVERFLOW"),Ps.set(18,"DIVIDE_BY_ZERO"),Ps.set(33,"ENUM_RANGE_ERROR"),Ps.set(34,"BAD_STORAGE_DATA"),Ps.set(49,"STACK_UNDERFLOW"),Ps.set(50,"ARRAY_RANGE_ERROR"),Ps.set(65,"OUT_OF_MEMORY"),Ps.set(81,"UNINITIALIZED_FUNCTION_CALL");const Is=new RegExp(/^bytes([0-9]*)$/),_s=new RegExp(/^(u?int)([0-9]*)$/);let Rs=null,Ds=1024;var Ms=new WeakSet;class Os{constructor(){nt(this,Ms)}getDefaultValue(e){const t=e.map(e=>Ve(Ms,this,Ls).call(this,xs.from(e)));return new Pr(t,"_").defaultValue()}encode(e,t){$e(t.length,e.length,"types/values length mismatch");const n=e.map(e=>Ve(Ms,this,Ls).call(this,xs.from(e))),r=new Pr(n,"_"),s=new Yt;return r.encode(s,t),s.data}decode(e,t,n){const r=e.map(e=>Ve(Ms,this,Ls).call(this,xs.from(e)));return new Pr(r,"_").decode(new sn(t,n,Ds))}static _setDefaultMaxInflation(e){Ze("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Ds=e}static defaultAbiCoder(){return null==Rs&&(Rs=new Os),Rs}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let s="missing revert data",i=null,a=null;if(n){s="execution reverted";const e=ct(n);if(n=mt(n),0===e.length)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(e.length%32!==4)s+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===mt(e.slice(0,4)))try{i=r.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=": ".concat(JSON.stringify(i))}catch(l){s+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===mt(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},i="Panic due to ".concat(Ps.get(t)||"UNKNOWN","(").concat(t,")"),s+=": ".concat(i)}catch(l){s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const o={to:t.to?nr(t.to):null,data:t.data||"0x"};return t.from&&(o.from=nr(t.from)),Ye(s,"CALL_EXCEPTION",{action:e,data:n,reason:i,transaction:o,invocation:null,revert:a})}(e,t,n,Os.defaultAbiCoder())}}function Ls(e){if(e.isArray())return new fr(Ve(Ms,this,Ls).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Pr(e.components.map(e=>Ve(Ms,this,Ls).call(this,e)),e.name);switch(e.baseType){case"address":return new cr(e.name);case"bool":return new mr(e.name);case"string":return new jr(e.name);case"bytes":return new gr(e.name);case"":return new xr(e.name)}let t=e.type.match(_s);if(t){let n=parseInt(t[2]||"256");return Ze(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Sr(n/8,"int"===t[1],e.name)}if(t=e.type.match(Is),t){let n=parseInt(t[1]);return Ze(0!==n&&n<=32,"invalid bytes length","param",e),new yr(n,e.name)}Ze(!1,"invalid type","type",e.type)}function Us(e){return e&&"function"===typeof e.getAddress}async function Fs(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(Xe("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),Ze(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),nr(n)}function Bs(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?nr(e):(Xe(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Fs(e,t.resolveName(e))):Us(e)?Fs(e,e.getAddress()):e&&"function"===typeof e.then?Fs(e,e):void Ze(!1,"unsupported addressable value","target",e)}const Vs=new Uint8Array(32);Vs.fill(0);const zs=BigInt(-1),Hs=BigInt(0),Gs=BigInt(1),Ws=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const qs=It(Gs,32),Qs=It(Hs,32),Ks={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Js=["name","version","chainId","verifyingContract","salt"];function Ys(e){return function(t){return Ze("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const Xs={name:Ys("name"),version:Ys("version"),chainId:function(e){const t=kt(e,"domain.chainId");return Ze(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Rt(t)},verifyingContract:function(e){try{return nr(e).toLowerCase()}catch(t){}Ze(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=ct(e,"domain.salt");return Ze(32===t.length,'invalid domain value "salt"',"domain.salt",e),mt(t)}};function Zs(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);Ze(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const s=At(Ws,n?r-1:r),i=n?(s+Gs)*zs:Hs;return function(t){const r=kt(t,"value");return Ze(r>=i&&r<=s,"value out-of-bounds for ".concat(e),"value",r),It(n?Nt(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return Ze(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return Ze(ct(t).length===n,"invalid length for ".concat(e),"value",t),function(e){const t=ct(e),n=t.length%32;return n?pt([t,Vs.slice(n)]):mt(t)}(t)}}}switch(e){case"address":return function(e){return xt(nr(e),32)};case"bool":return function(e){return e?qs:Qs};case"bytes":return function(e){return Jn(e)};case"string":return function(e){return Ir(e)}}return null}function $s(e,t){return"".concat(e,"(").concat(t.map(e=>{let{name:t,type:n}=e;return n+" "+t}).join(","),")")}function ei(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var ti=new WeakMap,ni=new WeakMap,ri=new WeakMap,si=new WeakSet;class ii{get types(){return JSON.parse(ze(ti,this))}constructor(e){nt(this,si),it(this,"primaryType",void 0),Be(this,ti,void 0),Be(this,ni,void 0),Be(this,ri,void 0),He(ni,this,new Map),He(ri,this,new Map);const t=new Map,n=new Map,r=new Map,s={};Object.keys(e).forEach(i=>{s[i]=e[i].map(t=>{let{name:n,type:r}=t,{base:s,index:i}=ei(r);return"int"!==s||e.int||(s="int256"),"uint"!==s||e.uint||(s="uint256"),{name:n,type:s+(i||"")}}),t.set(i,new Set),n.set(i,[]),r.set(i,new Set)}),He(ti,this,JSON.stringify(s));for(const a in s){const r=new Set;for(const i of s[a]){Ze(!r.has(i.name),"duplicate variable name ".concat(JSON.stringify(i.name)," in ").concat(JSON.stringify(a)),"types",e),r.add(i.name);const s=ei(i.type).base;Ze(s!==a,"circular type reference to ".concat(JSON.stringify(s)),"types",e);Zs(s)||(Ze(n.has(s),"unknown type ".concat(JSON.stringify(s)),"types",e),n.get(s).push(a),t.get(a).add(s))}}const i=Array.from(n.keys()).filter(e=>0===n.get(e).length);Ze(0!==i.length,"missing primary type","types",e),Ze(1===i.length,"ambiguous primary types or unused types: ".concat(i.map(e=>JSON.stringify(e)).join(", ")),"types",e),qe(this,{primaryType:i[0]}),function s(i,a){Ze(!a.has(i),"circular type reference to ".concat(JSON.stringify(i)),"types",e),a.add(i);for(const e of t.get(i))if(n.has(e)){s(e,a);for(const t of a)r.get(t).add(e)}a.delete(i)}(this.primaryType,new Set);for(const[a,o]of r){const e=Array.from(o);e.sort(),ze(ni,this).set(a,$s(a,s[a])+e.map(e=>$s(e,s[e])).join(""))}}getEncoder(e){let t=ze(ri,this).get(e);return t||(t=Ve(si,this,ai).call(this,e),ze(ri,this).set(e,t)),t}encodeType(e){const t=ze(ni,this).get(e);return Ze(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Jn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Zs(e))return n(e,t);const r=ei(e).array;if(r)return Ze(-1===r.count||r.count===t.length,"array length mismatch; expected length ".concat(r.count),"value",t),t.map(e=>this._visit(r.prefix,e,n));const s=this.types[e];if(s)return s.reduce((e,r)=>{let{name:s,type:i}=r;return e[s]=this._visit(i,t[s],n),e},{});Ze(!1,"unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ii(e)}static getPrimaryType(e){return ii.from(e).primaryType}static hashStruct(e,t,n){return ii.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Ks[n];Ze(r,"invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),t.push({name:n,type:r})}return t.sort((e,t)=>Js.indexOf(e.name)-Js.indexOf(t.name)),ii.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return pt(["0x1901",ii.hashDomain(e),ii.from(t).hash(n)])}static hash(e,t,n){return Jn(ii.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const a in e)null==e[a]&&delete e[a];const s={};e.verifyingContract&&!ht(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const i=ii.from(t);i.visit(n,(e,t)=>("address"!==e||ht(t,20)||(s[t]="0x"),t));for(const a in s)s[a]=await r(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),{domain:e,value:n=i.visit(n,(e,t)=>"address"===e&&s[t]?s[t]:t)}}static getPayload(e,t,n){ii.hashDomain(e);const r={},s=[];Js.forEach(t=>{const n=e[t];null!=n&&(r[t]=Xs[t](n),s.push({name:t,type:Ks[t]}))});const i=ii.from(t);t=i.types;const a=Object.assign({},t);return Ze(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=s,i.encode(n),{types:a,domain:r,primaryType:i.primaryType,message:i.visit(n,(e,t)=>{if(e.match(/^bytes(\d*)/))return mt(ct(t));if(e.match(/^u?int/))return kt(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return Ze("string"===typeof t,"invalid string","value",t),t}Ze(!1,"unsupported type","type",e)})}}}function ai(e){{const t=Zs(e);if(t)return t}const t=ei(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{Ze(-1===t.count||t.count===r.length,"array length mismatch; expected length ".concat(t.count),"value",r);let s=r.map(n);return ze(ni,this).has(e)&&(s=s.map(Jn)),Jn(pt(s))}}const n=this.types[e];if(n){const t=Ir(ze(ni,this).get(e));return e=>{const r=n.map(t=>{let{name:n,type:r}=t;const s=this.getEncoder(r)(e[n]);return ze(ni,this).has(r)?Jn(s):s});return r.unshift(t),pt(r)}}Ze(!1,"unknown type: ".concat(e),"type",e)}function oi(e,t){return{address:nr(e),storageKeys:t.map((e,t)=>(Ze(ht(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase()))}}function li(e){if(Array.isArray(e))return e.map((t,n)=>Array.isArray(t)?(Ze(2===t.length,"invalid slot set","value[".concat(n,"]"),t),oi(t[0],t[1])):(Ze(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),oi(t.address,t.storageKeys)));Ze(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map(t=>{const n=e[t].reduce((e,t)=>(e[t]=!0,e),{});return oi(t,Object.keys(n).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}const ci="0x0000000000000000000000000000000000000000000000000000000000000000",ui=BigInt(0),hi=BigInt(1),di=BigInt(2),fi=BigInt(27),mi=BigInt(28),pi=BigInt(35),gi={};function yi(e){return xt(_t(e),32)}var vi=new WeakMap,xi=new WeakMap,wi=new WeakMap,bi=new WeakMap;class Ei{get r(){return ze(vi,this)}set r(e){Ze(32===gt(e),"invalid r","value",e),He(vi,this,mt(e))}get s(){return Ze(parseInt(ze(xi,this).substring(0,3))<8,"non-canonical s; use ._s","s",ze(xi,this)),ze(xi,this)}set s(e){Ze(32===gt(e),"invalid s","value",e),He(xi,this,mt(e))}get _s(){return ze(xi,this)}isValid(){return parseInt(ze(xi,this).substring(0,3))<8}get v(){return ze(wi,this)}set v(e){const t=Pt(e,"value");Ze(27===t||28===t,"invalid v","v",e),He(wi,this,t)}get networkV(){return ze(bi,this)}get legacyChainId(){const e=this.networkV;return null==e?null:Ei.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=ct(this.s);return this.yParity&&(e[0]|=128),mt(e)}get compactSerialized(){return pt([this.r,this.yParityAndS])}get serialized(){return pt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){Be(this,vi,void 0),Be(this,xi,void 0),Be(this,wi,void 0),Be(this,bi,void 0),tt(e,gi,"Signature"),He(vi,this,t),He(xi,this,n),He(wi,this,r),He(bi,this,null)}[Symbol.for("nodejs.util.inspect.custom")](){return'Signature { r: "'.concat(this.r,'", s: "').concat(this._s,'"').concat(this.isValid()?"":', valid: "false"',", yParity: ").concat(this.yParity,", networkV: ").concat(this.networkV," }")}clone(){const e=new Ei(gi,this.r,this._s,this.v);return this.networkV&&He(bi,e,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=kt(e,"v");return t==fi||t==mi?ui:(Ze(t>=pi,"invalid EIP-155 v","v",e),(t-pi)/di)}static getChainIdV(e,t){return kt(e)*di+BigInt(35+t-27)}static getNormalizedV(e){const t=kt(e);return t===ui||t===fi?27:t===hi||t===mi?28:(Ze(t>=pi,"invalid v","v",e),t&hi?27:28)}static from(e){function t(t,n){Ze(t,n,"signature",e)}if(null==e)return new Ei(gi,ci,ci,27);if("string"===typeof e){const n=ct(e,"signature");if(64===n.length){const e=mt(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new Ei(gi,e,mt(t),r)}if(65===n.length){const e=mt(n.slice(0,32)),t=mt(n.slice(32,64)),r=Ei.getNormalizedV(n[64]);return new Ei(gi,e,t,r)}t(!1,"invalid raw signature length")}if(e instanceof Ei)return e.clone();const n=e.r;t(null!=n,"missing r");const r=yi(n),s=function(e,n){if(null!=e)return yi(e);if(null!=n){t(ht(n,32),"invalid yParityAndS");const e=ct(n);return e[0]&=127,mt(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:i,v:a}=function(e,n,r){if(null!=e){const t=kt(e);return{networkV:t>=pi?t:void 0,v:Ei.getNormalizedV(t)}}if(null!=n)return t(ht(n,32),"invalid yParityAndS"),{v:128&ct(n)[0]?28:27};if(null!=r){switch(Pt(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new Ei(gi,r,s,a);return i&&He(bi,o,i),t(null==e.yParity||Pt(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}function Si(e){return{address:nr(e.address),nonce:kt(null!=e.nonce?e.nonce:0),chainId:kt(null!=e.chainId?e.chainId:0),signature:Ei.from(e.signature)}}function Ni(e){return async function(t,n){Xe(null==n||!n.cancelled,"request cancelled before sending","CANCELLED");const r=t.url.split(":")[0].toLowerCase();Xe("http"===r||"https"===r,"unsupported protocol ".concat(r),"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Xe("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const i=new AbortController,a=setTimeout(()=>{s=Ye("request timeout","TIMEOUT"),i.abort()},t.timeout);n&&n.addListener(()=>{s=Ye("request cancelled","CANCELLED"),i.abort()});const o=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:i.signal});let l;try{l=await fetch(t.url,o)}catch(aa){if(clearTimeout(a),s)throw s;throw aa}clearTimeout(a);const c={};l.headers.forEach((e,t)=>{c[t.toLowerCase()]=e});const u=await l.arrayBuffer(),h=null==u?null:new Uint8Array(u);return{statusCode:l.status,statusMessage:l.statusText,headers:c,body:h}}}Ni({});let Ai=Ni();const ki=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Ci=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Ti=!1;async function ji(e,t){try{const t=e.match(ki);if(!t)throw new Error("invalid data");return new oa(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return ct(t)}(t[3]):Cr(t[3].replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))}catch(n){return new oa(599,"BAD REQUEST (invalid data: URI)",{},null,new $i(e))}}function Pi(e){return async function(t,n){try{const n=t.match(Ci);if(!n)throw new Error("invalid link");return new $i("".concat(e).concat(n[2]))}catch(r){return new oa(599,"BAD REQUEST (invalid IPFS URI)",{},null,new $i(t))}}}const Ii={data:ji,ipfs:Pi("https://gateway.ipfs.io/ipfs/")},_i=new WeakMap;var Ri=new WeakMap,Di=new WeakMap;class Mi{constructor(e){Be(this,Ri,void 0),Be(this,Di,void 0),He(Ri,this,[]),He(Di,this,!1),_i.set(e,()=>{if(!ze(Di,this)){He(Di,this,!0);for(const e of ze(Ri,this))setTimeout(()=>{e()},0);He(Ri,this,[])}})}addListener(e){Xe(!ze(Di,this),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),ze(Ri,this).push(e)}get cancelled(){return ze(Di,this)}checkSignal(){Xe(!this.cancelled,"cancelled","CANCELLED",{})}}function Oi(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var Li=new WeakMap,Ui=new WeakMap,Fi=new WeakMap,Bi=new WeakMap,Vi=new WeakMap,zi=new WeakMap,Hi=new WeakMap,Gi=new WeakMap,Wi=new WeakMap,qi=new WeakMap,Qi=new WeakMap,Ki=new WeakMap,Ji=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Zi=new WeakSet;class $i{get url(){return ze(zi,this)}set url(e){He(zi,this,String(e))}get body(){return null==ze(Hi,this)?null:new Uint8Array(ze(Hi,this))}set body(e){if(null==e)He(Hi,this,void 0),He(Gi,this,void 0);else if("string"===typeof e)He(Hi,this,Cr(e)),He(Gi,this,"text/plain");else if(e instanceof Uint8Array)He(Hi,this,e),He(Gi,this,"application/octet-stream");else{if("object"!==typeof e)throw new Error("invalid body");He(Hi,this,Cr(JSON.stringify(e))),He(Gi,this,"application/json")}}hasBody(){return null!=ze(Hi,this)}get method(){return ze(Bi,this)?ze(Bi,this):this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),He(Bi,this,String(e).toUpperCase())}get headers(){const e=Object.assign({},ze(Fi,this));return ze(Wi,this)&&(e.authorization="Basic ".concat(function(e){const t=ct(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(Cr(ze(Wi,this))))),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&ze(Gi,this)&&(e["content-type"]=ze(Gi,this)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){ze(Fi,this)[String(e).toLowerCase()]=String(t)}clearHeaders(){He(Fi,this,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return ze(Wi,this)||null}setCredentials(e,t){Ze(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),He(Wi,this,"".concat(e,":").concat(t))}get allowGzip(){return ze(Ui,this)}set allowGzip(e){He(Ui,this,!!e)}get allowInsecureAuthentication(){return!!ze(Li,this)}set allowInsecureAuthentication(e){He(Li,this,!!e)}get timeout(){return ze(Vi,this)}set timeout(e){Ze(e>=0,"timeout must be non-zero","timeout",e),He(Vi,this,e)}get preflightFunc(){return ze(qi,this)||null}set preflightFunc(e){He(qi,this,e)}get processFunc(){return ze(Qi,this)||null}set processFunc(e){He(Qi,this,e)}get retryFunc(){return ze(Ki,this)||null}set retryFunc(e){He(Ki,this,e)}get getUrlFunc(){return ze(Xi,this)||Ai}set getUrlFunc(e){He(Xi,this,e)}constructor(e){nt(this,Zi),Be(this,Li,void 0),Be(this,Ui,void 0),Be(this,Fi,void 0),Be(this,Bi,void 0),Be(this,Vi,void 0),Be(this,zi,void 0),Be(this,Hi,void 0),Be(this,Gi,void 0),Be(this,Wi,void 0),Be(this,qi,void 0),Be(this,Qi,void 0),Be(this,Ki,void 0),Be(this,Ji,void 0),Be(this,Yi,void 0),Be(this,Xi,void 0),He(zi,this,String(e)),He(Li,this,!1),He(Ui,this,!0),He(Fi,this,{}),He(Bi,this,""),He(Vi,this,3e5),He(Yi,this,{slotInterval:250,maxAttempts:12}),He(Xi,this,null)}toString(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(ze(Hi,this)?mt(ze(Hi,this)):"null",">")}setThrottleParams(e){null!=e.slotInterval&&(ze(Yi,this).slotInterval=e.slotInterval),null!=e.maxAttempts&&(ze(Yi,this).maxAttempts=e.maxAttempts)}send(){return Xe(null==ze(Ji,this),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),He(Ji,this,new Mi(this)),Ve(Zi,this,ea).call(this,0,la()+this.timeout,0,this,new oa(0,"",{},null,this))}cancel(){Xe(null!=ze(Ji,this),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=_i.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Xe("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(e),")")});const r=new $i(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,He(Fi,r,Object.assign({},ze(Fi,this))),ze(Hi,this)&&He(Hi,r,new Uint8Array(ze(Hi,this))),He(Gi,r,ze(Gi,this)),r}clone(){const e=new $i(this.url);return He(Bi,e,ze(Bi,this)),ze(Hi,this)&&He(Hi,e,ze(Hi,this)),He(Gi,e,ze(Gi,this)),He(Fi,e,Object.assign({},ze(Fi,this))),He(Wi,e,ze(Wi,this)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),He(qi,e,ze(qi,this)),He(Qi,e,ze(Qi,this)),He(Ki,e,ze(Ki,this)),He(Yi,e,Object.assign({},ze(Yi,this))),He(Xi,e,ze(Xi,this)),e}static lockConfig(){Ti=!0}static getGateway(e){return Ii[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error("cannot intercept ".concat(e,"; use registerGetUrl"));if(Ti)throw new Error("gateways locked");Ii[e]=t}static registerGetUrl(e){if(Ti)throw new Error("gateways locked");Ai=e}static createGetUrlFunc(e){return Ni(e)}static createDataGateway(){return ji}static createIpfsGatewayFunc(e){return Pi(e)}}async function ea(e,t,n,r,s){if(e>=ze(Yi,this).maxAttempts)return s.makeServerError("exceeded maximum retry limit");Xe(la()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise(t=>setTimeout(t,e))}(n);let i=this.clone();const a=(i.url.split(":")[0]||"").toLowerCase();if(a in Ii){const e=await Ii[a](i.url,Oi(ze(Ji,r)));if(e instanceof oa){let t=e;if(this.processFunc){Oi(ze(Ji,r));try{t=await this.processFunc(i,t)}catch(d){null!=d.throttle&&"number"===typeof d.stall||t.makeServerError("error in post-processing function",d).assertOk()}}return t}i=e}this.preflightFunc&&(i=await this.preflightFunc(i));const o=await this.getUrlFunc(i,Oi(ze(Ji,r)));let l=new oa(o.statusCode,o.statusMessage,o.headers,o.body,r);if(301===l.statusCode||302===l.statusCode){try{var c;const n=l.headers.location||"";return Ve(Zi,c=i.redirect(n),ea).call(c,e+1,t,0,r,l)}catch(d){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(i,l,e))){var u;const n=l.headers["retry-after"];let s=ze(Yi,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(s=parseInt(n)),Ve(Zi,u=i.clone(),ea).call(u,e+1,t,s,r,l)}if(this.processFunc){Oi(ze(Ji,r));try{l=await this.processFunc(i,l)}catch(d){var h;null!=d.throttle&&"number"===typeof d.stall||l.makeServerError("error in post-processing function",d).assertOk();let n=ze(Yi,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return d.stall>=0&&(n=d.stall),Ve(Zi,h=i.clone(),ea).call(h,e+1,t,n,r,l)}}return l}var ta=new WeakMap,na=new WeakMap,ra=new WeakMap,sa=new WeakMap,ia=new WeakMap,aa=new WeakMap;class oa{toString(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(ze(sa,this)?mt(ze(sa,this)):"null",">")}get statusCode(){return ze(ta,this)}get statusMessage(){return ze(na,this)}get headers(){return Object.assign({},ze(ra,this))}get body(){return null==ze(sa,this)?null:new Uint8Array(ze(sa,this))}get bodyText(){try{return null==ze(sa,this)?"":Tr(ze(sa,this))}catch(e){Xe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){Xe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,s){Be(this,ta,void 0),Be(this,na,void 0),Be(this,ra,void 0),Be(this,sa,void 0),Be(this,ia,void 0),Be(this,aa,void 0),He(ta,this,e),He(na,this,t),He(ra,this,Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=String(n[t]),e),{})),He(sa,this,null==r?null:new Uint8Array(r)),He(ia,this,s||null),He(aa,this,{message:""})}makeServerError(e,t){let n;e?n="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(e,")"):(e="".concat(this.statusCode," ").concat(this.statusMessage),n="CLIENT ESCALATED SERVER ERROR (".concat(e,")"));const r=new oa(599,n,this.headers,this.body,ze(ia,this)||void 0);return He(aa,r,{message:e,error:t}),r}throwThrottleError(e,t){null==t?t=-1:Ze(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw qe(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=ze(sa,this)}get request(){return ze(ia,this)}ok(){return""===ze(aa,this).message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=ze(aa,this);""===e&&(e="server response ".concat(this.statusCode," ").concat(this.statusMessage));let n=null;this.request&&(n=this.request.url);let r=null;try{ze(sa,this)&&(r=Tr(ze(sa,this)))}catch(GV){}Xe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:"".concat(this.statusCode," ").concat(this.statusMessage)}})}}function la(){return(new Date).getTime()}const ca="0x0000000000000000000000000000000000000000";class ua{constructor(e,t,n){it(this,"fragment",void 0),it(this,"name",void 0),it(this,"signature",void 0),it(this,"topic",void 0),it(this,"args",void 0);const r=e.name,s=e.format();qe(this,{fragment:e,name:r,signature:s,topic:t,args:n})}}class ha{constructor(e,t,n,r){it(this,"fragment",void 0),it(this,"name",void 0),it(this,"args",void 0),it(this,"signature",void 0),it(this,"selector",void 0),it(this,"value",void 0);const s=e.name,i=e.format();qe(this,{fragment:e,name:s,args:n,signature:i,selector:t,value:r})}}class da{constructor(e,t,n){it(this,"fragment",void 0),it(this,"name",void 0),it(this,"args",void 0),it(this,"signature",void 0),it(this,"selector",void 0);const r=e.name,s=e.format();qe(this,{fragment:e,name:r,args:n,signature:s,selector:t})}}class fa{static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){it(this,"hash",void 0),it(this,"_isIndexed",void 0),qe(this,{hash:e,_isIndexed:!0})}}const ma={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},pa={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>"reverted with reason string ".concat(JSON.stringify(e))},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&ma[e.toString()]&&(t=ma[e.toString()]),"reverted with panic code 0x".concat(e.toString(16)," (").concat(t,")")}}};var ga=new WeakMap,ya=new WeakMap,va=new WeakMap,xa=new WeakMap,wa=new WeakSet;class ba{constructor(e){nt(this,wa),it(this,"fragments",void 0),it(this,"deploy",void 0),it(this,"fallback",void 0),it(this,"receive",void 0),Be(this,ga,void 0),Be(this,ya,void 0),Be(this,va,void 0),Be(this,xa,void 0);let t=[];t="string"===typeof e?JSON.parse(e):e,He(va,this,new Map),He(ga,this,new Map),He(ya,this,new Map);const n=[];for(const a of t)try{n.push(bs.from(a))}catch(i){console.log("[Warning] Invalid Fragment ".concat(JSON.stringify(a),":"),i.message)}qe(this,{fragments:Object.freeze(n)});let r=null,s=!1;He(xa,this,this.getAbiCoder()),this.fragments.forEach((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void qe(this,{deploy:e});case"fallback":return void(0===e.inputs.length?s=!0:(Ze(!r||e.payable!==r.payable,"conflicting fallback fragments","fragments[".concat(t,"]"),e),r=e,s=r.payable));case"function":n=ze(va,this);break;case"event":n=ze(ya,this);break;case"error":n=ze(ga,this);break;default:return}const i=e.format();n.has(i)||n.set(i,e)}),this.deploy||qe(this,{deploy:ks.from("constructor()")}),qe(this,{fallback:r,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){const e=this.fragments.map(e=>e.format("json"));return JSON.stringify(e.map(e=>JSON.parse(e)))}getAbiCoder(){return Os.defaultAbiCoder()}getFunctionName(e){const t=Ve(wa,this,Ea).call(this,e,null,!1);return Ze(t,"no matching function","key",e),t.name}hasFunction(e){return!!Ve(wa,this,Ea).call(this,e,null,!1)}getFunction(e,t){return Ve(wa,this,Ea).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(ze(va,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(ze(va,this).get(r),n)}}getEventName(e){const t=Ve(wa,this,Sa).call(this,e,null,!1);return Ze(t,"no matching event","key",e),t.name}hasEvent(e){return!!Ve(wa,this,Sa).call(this,e,null,!1)}getEvent(e,t){return Ve(wa,this,Sa).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(ze(ya,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(ze(ya,this).get(r),n)}}getError(e,t){if(ht(e)){const t=e.toLowerCase();if(pa[t])return Ns.from(pa[t].signature);for(const e of ze(ga,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of ze(ga,this))n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?Ns.from("error Error(string)"):"Panic"===e?Ns.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map(e=>JSON.stringify(e.format())).join(", ");Ze(!1,"ambiguous error description (i.e. ".concat(n,")"),"name",e)}return t[0]}if("Error(string)"===(e=Ns.from(e).format()))return Ns.from("error Error(string)");if("Panic(uint256)"===e)return Ns.from("error Panic(uint256)");const n=ze(ga,this).get(e);return n||null}forEachError(e){const t=Array.from(ze(ga,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(ze(ga,this).get(r),n)}}_decodeParams(e,t){return ze(xa,this).decode(e,t)}_encodeParams(e,t){return ze(xa,this).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);Ze(t,"unknown error","fragment",e),e=t}return Ze(yt(t,0,4)===e.selector,"data signature does not match error ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,yt(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);Ze(t,"unknown error","fragment",e),e=t}return pt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);Ze(t,"unknown function","fragment",e),e=t}return Ze(yt(t,0,4)===e.selector,"data signature does not match function ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,yt(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);Ze(t,"unknown function","fragment",e),e=t}return pt([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);Ze(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=ut(t);if(r.length%32===0)try{return ze(xa,this).decode(e.outputs,r)}catch(s){n="could not decode result data"}Xe(!1,n,"BAD_DATA",{value:mt(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=ct(e,"data"),r=Os.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=mt(n.slice(0,4)),t=this.getError(e);if(t)try{const e=ze(xa,this).decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(GV){r.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(t);return s&&(r.invocation={method:s.name,signature:s.signature,args:s.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);Ze(t,"unknown function","fragment",e),e=t}return mt(ze(xa,this).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);Ze(t,"unknown event","eventFragment",e),e=t}Xe(t.length<=e.inputs.length,"too many arguments for ".concat(e.format()),"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?Ir(t):"bytes"===e.type?Jn(mt(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=It(t):e.type.match(/^bytes/)?t=function(e,t){return vt(e,t,!1)}(t,32):"address"===e.type&&ze(xa,this).encode(["address"],[t]),xt(mt(t),32));for(t.forEach((t,s)=>{const i=e.inputs[s];i.indexed?null==t?n.push(null):"array"===i.baseType||"tuple"===i.baseType?Ze(!1,"filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?n.push(t.map(e=>r(i,e))):n.push(r(i,t)):Ze(null==t,"cannot filter non-indexed parameters; must be null","contract."+i.name,t)});n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);Ze(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],s=[];return e.anonymous||n.push(e.topicHash),Ze(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,i)=>{const a=t[i];if(e.indexed)if("string"===e.type)n.push(Ir(a));else if("bytes"===e.type)n.push(Jn(a));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(ze(xa,this).encode([e.type],[a]))}else r.push(e),s.push(a)}),{data:ze(xa,this).encode(r,s),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);Ze(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;Ze(ht(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],s=[],i=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(xs.from({type:"bytes32",name:e.name})),i.push(!0)):(r.push(e),i.push(!1)):(s.push(e),i.push(!1))});const a=null!=n?ze(xa,this).decode(r,pt(n)):null,o=ze(xa,this).decode(s,t,!0),l=[],c=[];let u=0,h=0;return e.inputs.forEach((e,t)=>{let n=null;if(e.indexed)if(null==a)n=new fa(null);else if(i[t])n=new fa(a[h++]);else try{n=a[h++]}catch(r){n=r}else try{n=o[u++]}catch(r){n=r}l.push(n),c.push(e.name||null)}),Gt.fromItems(l,c)}parseTransaction(e){const t=ct(e.data,"tx.data"),n=kt(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(mt(t.slice(0,4)));if(!r)return null;const s=ze(xa,this).decode(r.inputs,t.slice(4));return new ha(r,r.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new ua(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=mt(e),n=this.getError(yt(t,0,4));if(!n)return null;const r=ze(xa,this).decode(n.inputs,yt(t,4));return new da(n,n.selector,r)}static from(e){return e instanceof ba?e:"string"===typeof e?new ba(JSON.parse(e)):"function"===typeof e.formatJson?new ba(e.formatJson()):"function"===typeof e.format?new ba(e.format("json")):new ba(e)}}function Ea(e,t,n){if(ht(e)){const t=e.toLowerCase();for(const e of ze(va,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of ze(va,this))t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,s=!0;lr.isTyped(e)&&"overrides"===e.type&&(s=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||s&&e===n-1||r.splice(t,1)}for(let i=r.length-1;i>=0;i--){const e=r[i].inputs;for(let n=0;n<t.length;n++)if(lr.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(i,1);break}if(t[n].type!==e[n].baseType){r.splice(i,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");Ze(!1,"ambiguous function description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=ze(va,this).get(Ts.from(e).format());return r||null}function Sa(e,t,n){if(ht(e)){const t=e.toLowerCase();for(const e of ze(ya,this).values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of ze(ya,this))t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let s=0;s<t.length;s++)if(lr.isTyped(t[s])&&t[s].type!==n[s].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");Ze(!1,"ambiguous event description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=ze(ya,this).get(As.from(e).format());return r||null}const Na=BigInt(0);function Aa(e){return null==e?null:e}function ka(e){return null==e?null:e.toString()}class Ca{constructor(e,t,n){it(this,"gasPrice",void 0),it(this,"maxFeePerGas",void 0),it(this,"maxPriorityFeePerGas",void 0),qe(this,{gasPrice:Aa(e),maxFeePerGas:Aa(t),maxPriorityFeePerGas:Aa(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:ka(e),maxFeePerGas:ka(t),maxPriorityFeePerGas:ka(n)}}}function Ta(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=mt(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)s in e&&null!=e[s]&&(t[s]=kt(e[s],"request.".concat(s)));const r="type,nonce".split(/,/);for(const s of r)s in e&&null!=e[s]&&(t[s]=Pt(e[s],"request.".concat(s)));return e.accessList&&(t.accessList=li(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>dt(e)?mt(e):Object.assign({},e))),t}var ja=new WeakMap;class Pa{constructor(e,t){it(this,"provider",void 0),it(this,"number",void 0),it(this,"hash",void 0),it(this,"timestamp",void 0),it(this,"parentHash",void 0),it(this,"parentBeaconBlockRoot",void 0),it(this,"nonce",void 0),it(this,"difficulty",void 0),it(this,"gasLimit",void 0),it(this,"gasUsed",void 0),it(this,"stateRoot",void 0),it(this,"receiptsRoot",void 0),it(this,"blobGasUsed",void 0),it(this,"excessBlobGas",void 0),it(this,"miner",void 0),it(this,"prevRandao",void 0),it(this,"extraData",void 0),it(this,"baseFeePerGas",void 0),Be(this,ja,void 0),He(ja,this,e.transactions.map(e=>"string"!==typeof e?new Ma(e,t):e)),qe(this,{provider:t,hash:Aa(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Aa(e.prevRandao),extraData:e.extraData,baseFeePerGas:Aa(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return ze(ja,this).map(e=>"string"===typeof e?e:e.hash)}get prefetchedTransactions(){const e=ze(ja,this).slice();return 0===e.length?[]:(Xe("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:s,hash:i,miner:a,prevRandao:o,nonce:l,number:c,parentHash:u,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,timestamp:m,transactions:p}=this;return{_type:"Block",baseFeePerGas:ka(e),difficulty:ka(t),extraData:n,gasLimit:ka(r),gasUsed:ka(s),blobGasUsed:ka(this.blobGasUsed),excessBlobGas:ka(this.excessBlobGas),hash:i,miner:a,prevRandao:o,nonce:l,number:c,parentHash:u,timestamp:m,parentBeaconBlockRoot:h,stateRoot:d,receiptsRoot:f,transactions:p}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return ze(ja,this).length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=ze(ja,this)[e];else{const n=e.toLowerCase();for(const e of ze(ja,this)){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash===n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;Ze(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class Ia{constructor(e,t){it(this,"provider",void 0),it(this,"transactionHash",void 0),it(this,"blockHash",void 0),it(this,"blockNumber",void 0),it(this,"removed",void 0),it(this,"address",void 0),it(this,"data",void 0),it(this,"topics",void 0),it(this,"index",void 0),it(this,"transactionIndex",void 0),this.provider=t;const n=Object.freeze(e.topics.slice());qe(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Xe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Xe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Xe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}var _a=new WeakMap;class Ra{constructor(e,t){it(this,"provider",void 0),it(this,"to",void 0),it(this,"from",void 0),it(this,"contractAddress",void 0),it(this,"hash",void 0),it(this,"index",void 0),it(this,"blockHash",void 0),it(this,"blockNumber",void 0),it(this,"logsBloom",void 0),it(this,"gasUsed",void 0),it(this,"blobGasUsed",void 0),it(this,"cumulativeGasUsed",void 0),it(this,"gasPrice",void 0),it(this,"blobGasPrice",void 0),it(this,"type",void 0),it(this,"status",void 0),it(this,"root",void 0),Be(this,_a,void 0),He(_a,this,Object.freeze(e.logs.map(e=>new Ia(e,t))));let n=Na;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),qe(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return ze(_a,this)}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:s,blockHash:i,blockNumber:a,logsBloom:o,logs:l,status:c,root:u}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:n,cumulativeGasUsed:ka(this.cumulativeGasUsed),from:t,gasPrice:ka(this.gasPrice),blobGasUsed:ka(this.blobGasUsed),blobGasPrice:ka(this.blobGasPrice),gasUsed:ka(this.gasUsed),hash:r,index:s,logs:l,logsBloom:o,root:u,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return La(this)}reorderedEvent(e){return Xe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Oa(this,e)}}var Da=new WeakMap;class Ma{constructor(e,t){it(this,"provider",void 0),it(this,"blockNumber",void 0),it(this,"blockHash",void 0),it(this,"index",void 0),it(this,"hash",void 0),it(this,"type",void 0),it(this,"to",void 0),it(this,"from",void 0),it(this,"nonce",void 0),it(this,"gasLimit",void 0),it(this,"gasPrice",void 0),it(this,"maxPriorityFeePerGas",void 0),it(this,"maxFeePerGas",void 0),it(this,"maxFeePerBlobGas",void 0),it(this,"data",void 0),it(this,"value",void 0),it(this,"chainId",void 0),it(this,"signature",void 0),it(this,"accessList",void 0),it(this,"blobVersionedHashes",void 0),it(this,"authorizationList",void 0),Be(this,Da,void 0),this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,He(Da,this,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:s,to:i,from:a,nonce:o,data:l,signature:c,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:ka(this.chainId),data:l,from:a,gasLimit:ka(this.gasLimit),gasPrice:ka(this.gasPrice),hash:r,maxFeePerGas:ka(this.maxFeePerGas),maxPriorityFeePerGas:ka(this.maxPriorityFeePerGas),maxFeePerBlobGas:ka(this.maxFeePerBlobGas),nonce:o,signature:c,to:i,index:n,type:s,value:ka(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await We({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let s=ze(Da,this),i=-1,a=-1===s;const o=async()=>{if(a)return null;const{blockNumber:e,nonce:t}=await We({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(s=e);if(a)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===i&&(i=s-3,i<ze(Da,this)&&(i=ze(Da,this)));i<=e;){if(a)return null;const t=await this.provider.getBlock(i,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const i=await t.getTransaction(r);if(i.from===this.from&&i.nonce===this.nonce){if(a)return null;const t=await this.provider.getTransactionReceipt(i.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?r="repriced":"0x"===i.data&&i.from===i.to&&i.value===Na&&(r="cancelled"),Xe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:i.replaceableTransaction(s),hash:i.hash,receipt:t})}}i++}},l=e=>{if(null==e||0!==e.status)return e;Xe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},c=await this.provider.getTransactionReceipt(this.hash);if(0===n)return l(c);if(c){if(1===n||await c.confirmations()>=n)return l(c)}else if(await o(),0===n)return null;const u=new Promise((e,t)=>{const i=[],c=()=>{i.forEach(e=>e())};if(i.push(()=>{a=!0}),r>0){const e=setTimeout(()=>{c(),t(Ye("wait for transaction timeout","TIMEOUT"))},r);i.push(()=>{clearTimeout(e)})}const u=async r=>{if(await r.confirmations()>=n){c();try{e(l(r))}catch(s){t(s)}}};if(i.push(()=>{this.provider.off(this.hash,u)}),this.provider.on(this.hash,u),s>=0){const e=async()=>{try{await o()}catch(n){if(Ke(n,"TRANSACTION_REPLACED"))return c(),void t(n)}a||this.provider.once("block",e)};i.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return Xe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),La(this)}reorderedEvent(e){return Xe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Xe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Oa(this,e)}replaceableTransaction(e){Ze(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Ma(this,this.provider);return He(Da,t,e),t}}function Oa(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function La(e){return{orphan:"drop-transaction",tx:e}}var Ua=new WeakMap;class Fa{constructor(e,t,n){it(this,"filter",void 0),it(this,"emitter",void 0),Be(this,Ua,void 0),He(Ua,this,t),qe(this,{emitter:e,filter:n})}async removeListener(){null!=ze(Ua,this)&&await this.emitter.off(this.filter,ze(Ua,this))}}class Ba extends Ia{constructor(e,t,n){super(e,e.provider),it(this,"interface",void 0),it(this,"fragment",void 0),it(this,"args",void 0);qe(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Va extends Ia{constructor(e,t){super(e,e.provider),it(this,"error",void 0),qe(this,{error:t})}}var za=new WeakMap;class Ha extends Ra{constructor(e,t,n){super(n,t),Be(this,za,void 0),He(za,this,e)}get logs(){return super.logs.map(e=>{const t=e.topics.length?ze(za,this).getEvent(e.topics[0]):null;if(t)try{return new Ba(e,ze(za,this),t)}catch(n){return new Va(e,n)}return e})}}var Ga=new WeakMap;class Wa extends Ma{constructor(e,t,n){super(n,t),Be(this,Ga,void 0),He(Ga,this,e)}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new Ha(ze(Ga,this),this.provider,n)}}class qa extends Fa{constructor(e,t,n,r){super(e,t,n),it(this,"log",void 0),qe(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Qa extends qa{constructor(e,t,n,r,s){super(e,t,n,new Ba(s,e.interface,r));qe(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Ka=BigInt(0);function Ja(e){return e&&"function"===typeof e.call}function Ya(e){return e&&"function"===typeof e.estimateGas}function Xa(e){return e&&"function"===typeof e.resolveName}function Za(e){return e&&"function"===typeof e.sendTransaction}function $a(e){if(null!=e){if(Xa(e))return e;if(e.provider)return e.provider}}var eo=new WeakMap;class to{constructor(e,t,n){if(Be(this,eo,void 0),it(this,"fragment",void 0),qe(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=no(e.runner,"resolveName"),s=Xa(r)?r:null;He(eo,this,async function(){const r=await Promise.all(t.inputs.map((e,t)=>null==n[t]?null:e.walkAsync(n[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>Bs(e,s))):Bs(t,s):t)));return e.interface.encodeFilterTopics(t,r)}())}getTopicFilter(){return ze(eo,this)}}function no(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function ro(e){return null==e?null:e.provider||null}async function so(e,t){const n=lr.dereference(e,"overrides");Ze("object"===typeof n,"invalid overrides parameter","overrides",e);const r=Ta(n);return Ze(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),Ze(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function io(e){const t=async function(t){const n=await so(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await Bs(n.from,$a(e.runner)));const r=e.interface,s=kt(n.value||Ka,"overrides.value")===Ka,i="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||i||s||Ze(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),Ze(r.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data);return Ze(r.receive||r.fallback&&r.fallback.payable||s,"cannot send value to non-payable fallback","overrides.value",n.value),Ze(r.fallback||i,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;Xe(Za(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await r.sendTransaction(await t(n)),i=ro(e.runner);return new Wa(e.interface,i,s)},r=async e=>await n(e);return qe(r,{_contract:e,estimateGas:async function(n){const r=no(e.runner,"estimateGas");return Xe(Ya(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=no(e.runner,"call");Xe(Ja(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await t(n);try{return await r.call(s)}catch(i){if(Je(i)&&i.data)throw e.interface.makeError(i.data,s);throw i}}}),r}function ao(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];const i=e.interface.getFunction(t,r);return Xe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),i},r=async function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const i=n(...r);let a={};if(i.inputs.length+1===r.length&&(a=await so(r.pop()),a.from&&(a.from=await Bs(a.from,$a(e.runner)))),i.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const o=await async function(e,t,n){const r=no(e,"resolveName"),s=Xa(r)?r:null;return await Promise.all(t.map((e,t)=>e.walkAsync(n[t],(e,t)=>(t=lr.dereference(t,e),"address"===e?Bs(t,s):t))))}(e.runner,i.inputs,r);return Object.assign({},a,await We({to:e.getAddress(),data:e.interface.encodeFunctionData(i,o)}))},s=async function(){const e=await a(...arguments);return 1===e.length?e[0]:e},i=async function(){const t=e.runner;Xe(Za(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),s=ro(e.runner);return new Wa(e.interface,s,n)},a=async function(){const t=no(e.runner,"call");Xe(Ja(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await r(...arguments);let i="0x";try{i=await t.call(s)}catch(o){if(Je(o)&&o.data)throw e.interface.makeError(o.data,s);throw o}const a=n(...arguments);return e.interface.decodeFunctionResult(a,i)},o=async function(){return n(...arguments).constant?await s(...arguments):await i(...arguments)};return qe(o,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=no(e.runner,"estimateGas");return Xe(Ya(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return Xe(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),o}const oo=Symbol.for("_ethersInternal_contract"),lo=new WeakMap;function co(e){return lo.get(e[oo])}async function uo(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(ht(t,32))return t;const n=e.interface.getEvent(t);return Ze(n,"unknown fragment","name",t),n.topicHash};n=t.map(e=>null==e?null:Array.isArray(e)?e.map(r):r(e))}else"*"===t?n=[null]:"string"===typeof t?ht(t,32)?n=[t]:(r=e.interface.getEvent(t),Ze(r,"unknown fragment","event",t),n=[r.topicHash]):(s=t)&&"object"===typeof s&&"getTopicFilter"in s&&"function"===typeof s.getTopicFilter&&s.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):Ze(!1,"unknown event name","event",t);var s;n=n.map(e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()});return{fragment:r,tag:n.map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:n}}async function ho(e,t){const{subs:n}=co(e);return n.get((await uo(e,t)).tag)||null}async function fo(e,t,n){const r=ro(e.runner);Xe(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:i,topics:a}=await uo(e,n),{addr:o,subs:l}=co(e);let c=l.get(i);if(!c){const t={address:o||e,topics:a},u=t=>{let r=s;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(i){}if(r){const i=r,a=s?e.interface.decodeEventLog(s,t.data,t.topics):[];po(e,n,a,r=>new Qa(e,r,n,i,t))}else po(e,n,[],r=>new qa(e,r,n,t))};let h=[];c={tag:i,listeners:[],start:()=>{h.length||h.push(r.on(t,u))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,u)}},l.set(i,c)}return c}let mo=Promise.resolve();async function po(e,t,n,r){try{await mo}catch(i){}const s=async function(e,t,n,r){await mo;const s=await ho(e,t);if(!s)return!1;const a=s.listeners.length;return s.listeners=s.listeners.filter(t=>{let{listener:s,once:a}=t;const o=Array.from(n);r&&o.push(r(a?null:s));try{s.call(e,...o)}catch(i){}return!a}),0===s.listeners.length&&(s.stop(),co(e).subs.delete(s.tag)),a>0}(e,t,n,r);return mo=s,await s}const go=["then"];class yo{constructor(e,t,n,r){it(this,"target",void 0),it(this,"interface",void 0),it(this,"runner",void 0),it(this,"filters",void 0),it(this,oo,void 0),it(this,"fallback",void 0),Ze("string"===typeof e||Us(e),"invalid value for Contract target","target",e),null==n&&(n=null);const s=ba.from(t);let i;qe(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,oo,{value:{}});let a=null,o=null;if(r){const e=ro(n);o=new Wa(this.interface,e,r)}let l=new Map;if("string"===typeof e)if(ht(e))a=e,i=Promise.resolve(e);else{const t=no(n,"resolveName");if(!Xa(t))throw Ye("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=t.resolveName(e).then(t=>{if(null==t)throw Ye("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return co(this).addr=t,t})}else i=e.getAddress().then(e=>{if(null==e)throw new Error("TODO");return co(this).addr=e,e});var c,u;c=this,u={addrPromise:i,addr:a,deployTx:o,subs:l},lo.set(c[oo],u);const h=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||go.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!Ke(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>go.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return qe(this,{filters:h}),qe(this,{fallback:s.receive||s.fallback?io(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||go.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!Ke(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||go.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new yo(this.target,this.interface,e)}attach(e){return new yo(e,this.interface,this.runner)}async getAddress(){return await co(this).addrPromise}async getDeployedCode(){const e=ro(this.runner);Xe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=ro(this.runner);return Xe(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(s){n(s)}};r()})}deploymentTransaction(){return co(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return ao(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];const i=e.interface.getEvent(t,r);return Xe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),i},r=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return new to(e,n(...r),r)};return qe(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return Xe(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:s}=co(this),i=r||await s,{fragment:a,topics:o}=await uo(this,e),l={address:i,topics:o,fromBlock:t,toBlock:n},c=ro(this.runner);return Xe(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map(e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Ba(e,this.interface,t)}catch(n){return new Va(e,n)}return new Ia(e,c)})}async on(e,t){const n=await fo(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await fo(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await po(this,e,n,null)}async listenerCount(e){if(e){const t=await ho(this,e);return t?t.listeners.length:0}const{subs:t}=co(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await ho(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}const{subs:t}=co(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map(e=>{let{listener:t}=e;return t}));return n}async off(e,t){const n=await ho(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),co(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await ho(this,e);if(!t)return this;t.stop(),co(this).subs.delete(t.tag)}else{const{subs:e}=co(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends yo{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class vo extends(function(){return yo}()){}const xo=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function wo(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),s=1,i=[0,1];for(let w=1;w<r;w++)i.push(s+=n());let a=n(),o=t;t+=a;let l=0,c=0;function u(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const h=2**31,d=h>>>1,f=d>>1,m=h-1;let p=0;for(let w=0;w<31;w++)p=p<<1|u();let g=[],y=0,v=h;for(;;){let e=Math.floor(((p-y+1)*s-1)/v),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<i[r]?n=r:t=r}if(0==t)break;g.push(t);let a=y+Math.floor(v*i[t]/s),o=y+Math.floor(v*i[t+1]/s)-1;for(;0==((a^o)&d);)p=p<<1&m|u(),a=a<<1&m,o=o<<1&m|1;for(;a&~o&f;)p=p&d|p<<1&m>>>1|u(),a=a<<1^d,o=(o^d)<<1|d|1;y=a,v=1+o-a}let x=r-4;return g.map(t=>{switch(t-x){case 3:return x+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return x+256+(e[o++]<<8|e[o++]);case 1:return x+e[o++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,n)=>t[e.charCodeAt(0)]=n);let n=e.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,a=0,o=0;s<n;s++)o=o<<6|t[e.charCodeAt(s)],a+=6,a>=8&&(r[i++]=o>>(a-=8));return r}(e)))}function bo(e){return 1&e?~e>>1:e>>1}function Eo(e,t){let n=Array(e);for(let r=0,s=0;r<e;r++)n[r]=s+=bo(t());return n}function So(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),s=e();if(!s)break;t+=r;for(let e=0;e<s;e++)n.push(t+e);t+=s+1}return n}function No(e){return ko(()=>{let t=So(e);if(t.length)return t})}function Ao(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(To(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(jo(n,e))}return t.flat()}function ko(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Co(e,t,n){let r=Array(e).fill().map(()=>[]);for(let s=0;s<t;s++)Eo(e,n).forEach((e,t)=>r[t].push(e));return r}function To(e,t){let n=1+t(),r=t(),s=ko(t);return Co(s.length,1+e,t).flatMap((e,t)=>{let[i,...a]=e;return Array(s[t]).fill().map((e,t)=>{let s=t*r;return[i+t*n,a.map(e=>e+s)]})})}function jo(e,t){return Co(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}function Po(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function Io(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function _o(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function Ro(e,t){let n=e.length,r=n-t.length;for(let s=0;0==r&&s<n;s++)r=e[s]-t[s];return r}const Do=44032,Mo=4352,Oo=4449,Lo=4519,Uo=28,Fo=588;function Bo(e){return e>>24&255}function Vo(e){return 16777215&e}let zo,Ho,Go,Wo;function qo(e){return e>=Do&&e<55204}function Qo(e,t){if(e>=Mo&&e<4371&&t>=Oo&&t<4470)return Do+(e-Mo)*Fo+(t-Oo)*Uo;if(qo(e)&&t>Lo&&t<4547&&(e-Do)%Uo==0)return e+(t-Lo);{let n=Wo.get(e);return n&&(n=n.get(t),n)?n:-1}}function Ko(e){zo||function(){let e=wo("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");zo=new Map(No(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),Ho=new Set(So(e)),Go=new Map,Wo=new Map;for(let[t,n]of Ao(e)){if(!Ho.has(t)&&2==n.length){let[e,r]=n,s=Wo.get(e);s||(s=new Map,Wo.set(e,s)),s.set(r,t)}Go.set(t,n.reverse())}}();let t=[],n=[],r=!1;function s(e){let n=zo.get(e);n&&(r=!0,e|=n),t.push(e)}for(let i of e)for(;;){if(i<128)t.push(i);else if(qo(i)){let e=i-Do,t=e%Fo/Uo|0,n=e%Uo;s(Mo+(e/Fo|0)),s(Oo+t),n>0&&s(Lo+n)}else{let e=Go.get(i);e?n.push(...e):s(i)}if(!n.length)break;i=n.pop()}if(r&&t.length>1){let e=Bo(t[0]);for(let n=1;n<t.length;n++){let r=Bo(t[n]);if(0==r||e<=r){e=r;continue}let s=n-1;for(;;){let n=t[s+1];if(t[s+1]=t[s],t[s]=n,!s)break;if(e=Bo(t[--s]),e<=r)break}e=Bo(t[n])}}return t}function Jo(e){return Ko(e).map(Vo)}function Yo(e){return function(e){let t=[],n=[],r=-1,s=0;for(let i of e){let e=Bo(i),a=Vo(i);if(-1==r)0==e?r=a:t.push(a);else if(s>0&&s>=e)0==e?(t.push(r,...n),n.length=0,r=a):n.push(a),s=e;else{let i=Qo(r,a);i>=0?r=i:0==s&&0==e?(t.push(r),r=a):(n.push(a),s=e)}}return r>=0&&t.push(r,...n),t}(Ko(e))}const Xo=".",Zo=e=>Array.from(e);function $o(e,t){return e.P.has(t)||e.Q.has(t)}class el extends Array{get is_emoji(){return!0}}let tl,nl,rl,sl,il,al,ol,ll,cl,ul,hl,dl;function fl(){if(tl)return;let e=wo("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>So(e),n=()=>new Set(t()),r=(e,t)=>t.forEach(t=>e.add(t));tl=new Map(Ao(e)),nl=n(),rl=t(),sl=new Set(t().map(e=>rl[e])),rl=new Set(rl),il=n(),al=n();let s=No(e),i=e();const a=()=>{let e=new Set;return t().forEach(t=>r(e,s[t])),r(e,t()),e};ol=ko(t=>{let n=ko(e).map(e=>e+96);if(n.length){let r=t>=i;return n[0]-=32,n=_o(n),r&&(n="Restricted[".concat(n,"]")),{N:n,P:a(),Q:a(),M:!e(),R:r}}}),ll=n(),cl=new Map;let o=t().concat(Zo(ll)).sort((e,t)=>e-t);o.forEach((t,n)=>{let r=e(),s=o[n]=r?o[n-r]:{V:[],M:new Map};s.V.push(t),ll.has(t)||cl.set(t,s)});for(let{V:u,M:h}of new Set(cl.values())){let e=[];for(let n of u){let t=ol.filter(e=>$o(e,n)),s=e.find(e=>{let{G:n}=e;return t.some(e=>n.has(e))});s||(s={G:new Set,V:[]},e.push(s)),s.V.push(n),r(s.G,t)}let t=e.flatMap(e=>Zo(e.G));for(let{G:n,V:r}of e){let e=new Set(t.filter(e=>!n.has(e)));for(let t of r)h.set(t,e)}}ul=new Set;let l=new Set;const c=e=>ul.has(e)?l.add(e):ul.add(e);for(let u of ol){for(let e of u.P)c(e);for(let e of u.Q)c(e)}for(let u of ul)cl.has(u)||l.has(u)||cl.set(u,1);r(ul,Jo(ul)),hl=function(e){let t=[],n=So(e);return function e(n,r,s){let{S:i,B:a}=n;if(!(4&i&&s===r[r.length-1])){2&i&&(s=r[r.length-1]),1&i&&t.push(r);for(let t of a)for(let n of t.Q)e(t,[...r,n],s)}}(function t(r){return{S:e(),B:ko(()=>{let r=So(e).map(e=>n[e]);if(r.length)return t(r)}),Q:r}}([]),[]),t}(e).map(e=>el.from(e)).sort(Ro),dl=new Map;for(let u of hl){let e=[dl];for(let t of u){let n=e.map(e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n});65039===t?e.push(...n):e=n}for(let t of e)t.V=u}}function ml(e){return(yl(e)?"":"".concat(pl(gl([e]))," "))+Po(e)}function pl(e){return'"'.concat(e,'"\u200e')}function gl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Po,r=[];var s;s=e[0],fl(),rl.has(s)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,a=e.length;for(let o=0;o<a;o++){let t=e[o];yl(t)&&(r.push(_o(e.slice(i,o))),r.push(n(t)),i=o+1)}return r.push(_o(e.slice(i,a))),r.join("")}function yl(e){return fl(),il.has(e)}function vl(e,t,n){if(!e)return[];fl();let r=0;return e.split(Xo).map(e=>{let s=Io(e),i={input:s,offset:r};r+=s.length+1;try{let e,r=i.tokens=Sl(s,t,n),a=r.length;if(!a)throw new Error("empty label");let o=i.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(o),!(i.emoji=a>1||r[0].is_emoji)&&o.every(e=>e<128))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error('invalid label extension: "'.concat(_o(e.slice(0,4)),'"'))}(o),e="ASCII";else{let t=r.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(rl.has(o[0]))throw El("leading combining mark");for(let e=1;e<a;e++){let t=r[e];if(!t.is_emoji&&rl.has(t[0]))throw El('emoji + combining mark: "'.concat(_o(r[e-1])," + ").concat(gl([t[0]]),'"'))}!function(e){let t=e[0],n=xo.get(t);if(n)throw El("leading ".concat(n));let r=e.length,s=-1;for(let i=1;i<r;i++){t=e[i];let r=xo.get(t);if(r){if(s==i)throw El("".concat(n," + ").concat(r));s=i+1,n=r}}if(s==r)throw El("trailing ".concat(n))}(o);let n=Zo(new Set(t)),[s]=function(e){let t=ol;for(let n of e){let e=t.filter(e=>$o(e,n));if(!e.length)throw ol.some(e=>$o(e,n))?bl(t[0],n):wl(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!$o(e,n))throw bl(e,n);if(e.M){let e=Jo(t);for(let t=1,n=e.length;t<n;t++)if(sl.has(e[t])){let r=t+1;for(let s;r<n&&sl.has(s=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==s)throw new Error("duplicate non-spacing marks: ".concat(ml(s)));if(r-t>4)throw new Error("excessive non-spacing marks: ".concat(pl(gl(e.slice(t-1,r)))," (").concat(r-t,"/").concat(4,")"));t=r}}}(s,t),function(e,t){let n,r=[];for(let s of t){let e=cl.get(s);if(1===e)return;if(e){let t=e.M.get(s);if(n=n?n.filter(e=>t.has(e)):Zo(t),!n.length)return}else r.push(s)}if(n)for(let s of n)if(r.every(e=>$o(s,e)))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(s.N))}(s,n),e=s.N}else e="Emoji"}i.type=e}catch(a){i.error=a}return i})}function xl(e){return e.map(t=>{let{input:n,error:r,output:s}=t;if(r){let t=r.message;throw new Error(1==e.length?t:"Invalid label ".concat(pl(gl(n,63)),": ").concat(t))}return _o(s)}).join(Xo)}function wl(e){return new Error("disallowed character: ".concat(ml(e)))}function bl(e,t){let n=ml(t),r=ol.find(e=>e.P.has(t));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function El(e){return new Error("illegal placement: ".concat(e))}function Sl(e,t,n){let r=[],s=[];for(e=e.slice().reverse();e.length;){let i=Al(e);if(i)s.length&&(r.push(t(s)),s=[]),r.push(n(i));else{let t=e.pop();if(ul.has(t))s.push(t);else{let e=tl.get(t);if(e)s.push(...e);else if(!nl.has(t))throw wl(t)}}}return s.length&&r.push(t(s)),r}function Nl(e){return e.filter(e=>65039!=e)}function Al(e,t){let n,r=dl,s=e.length;for(;s&&(r=r.get(e[--s]),r);){let{V:i}=r;i&&(n=i,t&&t.push(...e.slice(s).reverse()),e.length=s)}return n}const kl=new Uint8Array(32);function Cl(e){return Ze(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Tl(e){const t=Cr(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return xl(vl(e,Yo,Nl))}(e)}catch(t){Ze(!1,"invalid ENS name (".concat(t.message,")"),"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let s=0;s<t.length;s++){46===t[s]&&(n.push(Cl(t.slice(r,s))),r=s+1)}return Ze(r<t.length,"invalid ENS name; empty component","name",e),n.push(Cl(t.slice(r))),n}function jl(e){Ze("string"===typeof e,"invalid ENS name; not a string","name",e),Ze(e.length,"invalid ENS name (empty label)","name",e);let t=kl;const n=Tl(e);for(;n.length;)t=Jn(pt([t,Jn(n.pop())]));return mt(t)}function Pl(e,t){const n=null!=t?t:63;return Ze(n<=255,"DNS encoded label cannot exceed 255","length",n),mt(pt(Tl(e).map(t=>{Ze(t.length<=n,"label ".concat(JSON.stringify(e)," exceeds ").concat(n," bytes"),"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}kl.fill(0);class Il extends Cn{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Nn(this.buffer)}update(e){hn(this);const{view:t,buffer:n,blockLen:r}=this,s=(e=kn(e)).length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);if(a===r){const t=Nn(e);for(;r<=s-i;i+=r)this.process(t,i);continue}n.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hn(this),dn(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let u=i;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,o,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const a=Nn(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=o/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:i,pos:a}=this;return e.length=r,e.pos=a,e.finished=s,e.destroyed=i,r%t&&e.buffer.set(n),e}}const _l=(e,t,n)=>e&t^~e&n,Rl=(e,t,n)=>e&t^e&n^t&n,Dl=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ml=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ol=new Uint32Array(64);class Ll extends Il{constructor(){super(64,32,8,!1),this.A=0|Ml[0],this.B=0|Ml[1],this.C=0|Ml[2],this.D=0|Ml[3],this.E=0|Ml[4],this.F=0|Ml[5],this.G=0|Ml[6],this.H=0|Ml[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:i,G:a,H:o}=this;return[e,t,n,r,s,i,a,o]}set(e,t,n,r,s,i,a,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|i,this.G=0|a,this.H=0|o}process(e,t){for(let u=0;u<16;u++,t+=4)Ol[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Ol[u-15],t=Ol[u-2],n=An(e,7)^An(e,18)^e>>>3,r=An(t,17)^An(t,19)^t>>>10;Ol[u]=r+Ol[u-7]+n+Ol[u-16]|0}let{A:n,B:r,C:s,D:i,E:a,F:o,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(An(a,6)^An(a,11)^An(a,25))+_l(a,o,l)+Dl[u]+Ol[u]|0,t=(An(n,2)^An(n,13)^An(n,22))+Rl(n,r,s)|0;c=l,l=o,o=a,a=i+e|0,i=s,s=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,s,i,a,o,l,c)}roundClean(){Ol.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ul=Tn(()=>new Ll),[Fl,Bl]=(()=>bn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Vl=new Uint32Array(80),zl=new Uint32Array(80);class Hl extends Il{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:s,Cl:i,Dh:a,Dl:o,Eh:l,El:c,Fh:u,Fl:h,Gh:d,Gl:f,Hh:m,Hl:p}=this;return[e,t,n,r,s,i,a,o,l,c,u,h,d,f,m,p]}set(e,t,n,r,s,i,a,o,l,c,u,h,d,f,m,p){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|s,this.Cl=0|i,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|m,this.Hl=0|p}process(e,t){for(let v=0;v<16;v++,t+=4)Vl[v]=e.getUint32(t),zl[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|Vl[v-15],t=0|zl[v-15],n=bn.rotrSH(e,t,1)^bn.rotrSH(e,t,8)^bn.shrSH(e,t,7),r=bn.rotrSL(e,t,1)^bn.rotrSL(e,t,8)^bn.shrSL(e,t,7),s=0|Vl[v-2],i=0|zl[v-2],a=bn.rotrSH(s,i,19)^bn.rotrBH(s,i,61)^bn.shrSH(s,i,6),o=bn.rotrSL(s,i,19)^bn.rotrBL(s,i,61)^bn.shrSL(s,i,6),l=bn.add4L(r,o,zl[v-7],zl[v-16]),c=bn.add4H(l,n,a,Vl[v-7],Vl[v-16]);Vl[v]=0|c,zl[v]=0|l}let{Ah:n,Al:r,Bh:s,Bl:i,Ch:a,Cl:o,Dh:l,Dl:c,Eh:u,El:h,Fh:d,Fl:f,Gh:m,Gl:p,Hh:g,Hl:y}=this;for(let v=0;v<80;v++){const e=bn.rotrSH(u,h,14)^bn.rotrSH(u,h,18)^bn.rotrBH(u,h,41),t=bn.rotrSL(u,h,14)^bn.rotrSL(u,h,18)^bn.rotrBL(u,h,41),x=u&d^~u&m,w=h&f^~h&p,b=bn.add5L(y,t,w,Bl[v],zl[v]),E=bn.add5H(b,g,e,x,Fl[v],Vl[v]),S=0|b,N=bn.rotrSH(n,r,28)^bn.rotrBH(n,r,34)^bn.rotrBH(n,r,39),A=bn.rotrSL(n,r,28)^bn.rotrBL(n,r,34)^bn.rotrBL(n,r,39),k=n&s^n&a^s&a,C=r&i^r&o^i&o;g=0|m,y=0|p,m=0|d,p=0|f,d=0|u,f=0|h,({h:u,l:h}=bn.add(0|l,0|c,0|E,0|S)),l=0|a,c=0|o,a=0|s,o=0|i,s=0|n,i=0|r;const T=bn.add3L(S,A,C);n=bn.add3H(T,E,N,k),r=0|T}({h:n,l:r}=bn.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:s,l:i}=bn.add(0|this.Bh,0|this.Bl,0|s,0|i)),({h:a,l:o}=bn.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:c}=bn.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:h}=bn.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=bn.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:m,l:p}=bn.add(0|this.Gh,0|this.Gl,0|m,0|p)),({h:g,l:y}=bn.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,s,i,a,o,l,c,u,h,d,f,m,p,g,y)}roundClean(){Vl.fill(0),zl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Gl=Tn(()=>new Hl);const Wl=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();Wl.crypto||Wl.msCrypto;function ql(e){switch(e){case"sha256":return Ul.create();case"sha512":return Gl.create()}Ze(!1,"invalid hashing algorithm name","algorithm",e)}const Ql=function(e){return ql("sha256").update(e).digest()},Kl=function(e){return ql("sha512").update(e).digest()};let Jl=Ql,Yl=Kl,Xl=!1,Zl=!1;function $l(e){const t=ct(e,"data");return mt(Jl(t))}function ec(e){const t=ct(e,"data");return mt(Yl(t))}$l._=Ql,$l.lock=function(){Xl=!0},$l.register=function(e){if(Xl)throw new Error("sha256 is locked");Jl=e},Object.freeze($l),ec._=Kl,ec.lock=function(){Zl=!0},ec.register=function(e){if(Zl)throw new Error("sha512 is locked");Yl=e},Object.freeze($l);BigInt(0);const tc=BigInt(1),nc=BigInt(2),rc=e=>e instanceof Uint8Array,sc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ic(e){if(!rc(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=sc[e[n]];return t}function ac(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function oc(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,s=e.slice(t,t+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function lc(e){return ac(ic(e))}function cc(e){if(!rc(e))throw new Error("Uint8Array expected");return ac(ic(Uint8Array.from(e).reverse()))}function uc(e,t){return oc(e.toString(16).padStart(2*t,"0"))}function hc(e,t){return uc(e,t).reverse()}function dc(e,t,n){let r;if("string"===typeof t)try{r=oc(t)}catch(GV){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(GV))}else{if(!rc(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const s=r.length;if("number"===typeof n&&s!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(s));return r}function fc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let s=0;return t.forEach(e=>{if(!rc(e))throw new Error("Uint8Array expected");r.set(e,s),s+=e.length}),r}const mc=e=>(nc<<BigInt(e-1))-tc,pc=e=>new Uint8Array(e),gc=e=>Uint8Array.from(e);function yc(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=pc(e),s=pc(e),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},o=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n(s,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc();s=o(gc([0]),e),r=o(),0!==e.length&&(s=o(gc([1]),e),r=o())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return fc(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}}const vc={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function xc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const s=vc[n];if("function"!==typeof s)throw new Error('Invalid validator "'.concat(n,'", expected function'));const i=e[t];if((!r||void 0!==i)&&!s(i,e))throw new Error("Invalid param ".concat(String(t),"=").concat(i," (").concat(typeof i,"), expected ").concat(n))};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}const wc=BigInt(0),bc=BigInt(1),Ec=BigInt(2),Sc=BigInt(3),Nc=BigInt(4),Ac=BigInt(5),kc=BigInt(8);BigInt(9),BigInt(16);function Cc(e,t){const n=e%t;return n>=wc?n:t+n}function Tc(e,t,n){if(n<=wc||t<wc)throw new Error("Expected power/modulo > 0");if(n===bc)return wc;let r=bc;for(;t>wc;)t&bc&&(r=r*e%n),e=e*e%n,t>>=bc;return r}function jc(e,t,n){let r=e;for(;t-- >wc;)r*=r,r%=n;return r}function Pc(e,t){if(e===wc||t<=wc)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=Cc(e,t),r=t,s=wc,i=bc,a=bc,o=wc;for(;n!==wc;){const e=r/n,t=r%n,l=s-a*e,c=i-o*e;r=n,n=t,s=a,i=o,a=l,o=c}if(r!==bc)throw new Error("invert: does not exist");return Cc(s,t)}function Ic(e){if(e%Nc===Sc){const t=(e+bc)/Nc;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%kc===Ac){const t=(e-Ac)/kc;return function(e,n){const r=e.mul(n,Ec),s=e.pow(r,t),i=e.mul(n,s),a=e.mul(e.mul(i,Ec),s),o=e.mul(i,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-bc)/Ec;let n,r,s;for(n=e-bc,r=0;n%Ec===wc;n/=Ec,r++);for(s=Ec;s<e&&Tc(s,t,e)!==e-bc;s++);if(1===r){const t=(e+bc)/Nc;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+bc)/Ec;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,s),n),c=e.pow(a,i),u=e.pow(a,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,bc<<BigInt(o-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),o=t}return c}}(e)}const _c=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rc(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Dc(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Mc(e){const t=Dc(e);return t+Math.ceil(t/2)}class Oc extends Cn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,un(e);const n=kn(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(e){return hn(this),this.iHash.update(e),this}digestInto(e){hn(this),cn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:i,outputLen:a}=this;return e.finished=r,e.destroyed=s,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Lc=(e,t,n)=>new Oc(e,t).update(n).digest();Lc.create=(e,t)=>new Oc(e,t);const Uc=BigInt(0),Fc=BigInt(1);function Bc(e){return function(e){const t=_c.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});xc(e,t)}(e.Fp),xc(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(ot(ot(ot({},Rc(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:Vc,aT:zc}=r,Hc={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Hc;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Vc(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Hc,n="string"===typeof e?zc(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=Hc._parseInt(n.subarray(2)),{d:a,l:o}=Hc._parseInt(i);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),s=t(n(e.r)),i=r.length/2,a=s.length/2,o=n(i),l=n(a);return"30".concat(n(a+i+4),"02").concat(l).concat(s,"02").concat(o).concat(r)}},Gc=BigInt(0),Wc=BigInt(1),qc=(BigInt(2),BigInt(3));BigInt(4);function Qc(e){const t=function(e){const t=Bc(e);xc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(ot({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const s=t.toAffine();return fc(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function i(e){const{a:r,b:s}=t,i=n.sqr(e),a=n.mul(i,e);return n.add(n.add(a,n.mul(e,r)),s)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&Gc<e&&e<t.n}function o(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:i}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=ic(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"===typeof e?e:lc(dc("private key",e,r))}catch(l){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return s&&(a=Cc(a,i)),o(a),a}const c=new Map;function u(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const s=e=>n.eql(e,n.ZERO);return s(t)&&s(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(s(dc("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const s=n.sqr(r),a=i(e);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:s}=this,{px:i,py:a,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(i,s)),c=n.eql(n.mul(r,o),n.mul(a,s));return l&&c}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,s=n.mul(r,qc),{px:i,py:a,pz:o}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(i,i),f=n.mul(a,a),m=n.mul(o,o),p=n.mul(i,a);return p=n.add(p,p),u=n.mul(i,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(s,m),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(s,u),m=n.mul(e,m),p=n.sub(d,m),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,m),d=n.mul(d,p),c=n.add(c,d),m=n.mul(a,o),m=n.add(m,m),d=n.mul(m,p),l=n.sub(l,d),u=n.mul(m,f),u=n.add(u,u),u=n.add(u,u),new h(l,c,u)}add(e){u(e);const{px:r,py:s,pz:i}=this,{px:a,py:o,pz:l}=e;let c=n.ZERO,d=n.ZERO,f=n.ZERO;const m=t.a,p=n.mul(t.b,qc);let g=n.mul(r,a),y=n.mul(s,o),v=n.mul(i,l),x=n.add(r,s),w=n.add(a,o);x=n.mul(x,w),w=n.add(g,y),x=n.sub(x,w),w=n.add(r,i);let b=n.add(a,l);return w=n.mul(w,b),b=n.add(g,v),w=n.sub(w,b),b=n.add(s,i),c=n.add(o,l),b=n.mul(b,c),c=n.add(y,v),b=n.sub(b,c),f=n.mul(m,w),c=n.mul(p,v),f=n.add(c,f),c=n.sub(y,f),f=n.add(y,f),d=n.mul(c,f),y=n.add(g,g),y=n.add(y,g),v=n.mul(m,v),w=n.mul(p,w),y=n.add(y,v),v=n.sub(g,v),v=n.mul(m,v),w=n.add(w,v),g=n.mul(y,w),d=n.add(d,g),g=n.mul(b,w),c=n.mul(x,c),c=n.sub(c,g),g=n.mul(x,y),f=n.mul(b,f),f=n.add(f,g),new h(c,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,c,e,e=>{const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)})}multiplyUnsafe(e){const r=h.ZERO;if(e===Gc)return r;if(o(e),e===Wc)return this;const{endo:s}=t;if(!s)return f.unsafeLadder(this,e);let{k1neg:i,k1:a,k2neg:l,k2:c}=s.splitScalar(e),u=r,d=r,m=this;for(;a>Gc||c>Gc;)a&Wc&&(u=u.add(m)),c&Wc&&(d=d.add(m)),m=m.double(),a>>=Wc,c>>=Wc;return i&&(u=u.negate()),l&&(d=d.negate()),d=new h(n.mul(d.px,s.beta),d.py,d.pz),u.add(d)}multiply(e){o(e);let r,s,i=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:o,k2:l}=a.splitScalar(i);let{p:c,f:u}=this.wNAF(t),{p:d,f:m}=this.wNAF(l);c=f.constTimeNegate(e,c),d=f.constTimeNegate(o,d),d=new h(n.mul(d.px,a.beta),d.py,d.pz),r=c.add(d),s=u.add(m)}else{const{p:e,f:t}=this.wNAF(i);r=e,s=t}return h.normalizeZ([r,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,s=(e,t)=>t!==Gc&&t!==Wc&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=s(this,t).add(s(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:s}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(s));const a=n.mul(t,e),o=n.mul(r,e),l=n.mul(s,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Wc)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Wc?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ic(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,s=t;for(;n>Uc;)n&Fc&&(r=r.add(s)),s=s.double(),n>>=Fc;return r},precomputeWindow(e,t){const{windows:n,windowSize:s}=r(t),i=[];let a=e,o=a;for(let r=0;r<n;r++){o=a,i.push(o);for(let e=1;e<s;e++)o=o.add(a),i.push(o);a=o.double()}return i},wNAF(t,s,i){const{windows:a,windowSize:o}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<a;e++){const t=e*o;let r=Number(i&u);i>>=d,r>o&&(r-=h,i+=Fc);const a=t,f=t+Math.abs(r)-1,m=e%2!==0,p=r<0;0===r?c=c.add(n(m,s[a])):l=l.add(n(p,s[f]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const s=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,s),1!==s&&t.set(e,r(i))),this.wNAF(s,i,n)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:a}}function Kc(e){const t=function(e){const t=Bc(e);return xc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(ot({lowS:!0},t))}(e),{Fp:n,n:r}=t,s=n.BYTES+1,i=2*n.BYTES+1;function a(e){return Cc(e,r)}function o(e){return Pc(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:h}=Qc(ot(ot({},t),{},{toBytes(e,t,r){const s=t.toAffine(),i=n.toBytes(s.x),a=fc;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),i):a(Uint8Array.from([4]),i,n.toBytes(s.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==s||2!==r&&3!==r){if(t===i&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(s," compressed bytes or ").concat(i," uncompressed bytes"))}{const e=lc(a);if(!(Gc<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let s=n.sqrt(t);return 1===(1&r)!==((s&Wc)===Wc)&&(s=n.neg(s)),{x:e,y:s}}var o}})),d=e=>ic(uc(e,t.nByteLength));function f(e){return e>r>>Wc}const m=(e,t,n)=>lc(e.slice(t,n));class p{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=dc("compactSignature",e,2*n),new p(m(e,0,n),m(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Hc.toSig(dc("DER",e));return new p(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new p(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:s,recovery:i}=this,c=x(dc("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const u=2===i||3===i?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&i)?"02":"03",f=l.fromHex(h+d(u)),m=o(u),p=a(-c*m),g=a(s*m),y=l.BASE.multiplyAndAddUnsafe(f,p,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return oc(this.toDERHex())}toDERHex(){return Hc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return oc(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(e){try{return c(e),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=Mc(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,s=Dc(t),i=Mc(t);if(r<16||r<i||r>1024)throw new Error("expected ".concat(i,"-1024 bytes of input, got ").concat(r));const a=Cc(n?lc(e):cc(e),t-bc)+bc;return n?hc(a,s):uc(a,s)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===s||r===i:n?r===2*s||r===2*i:e instanceof l}const v=t.bits2int||function(e){const n=lc(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},x=t.bits2int_modN||function(e){return a(v(e))},w=mc(t.nBitLength);function b(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Gc<=e&&e<w))throw new Error("bigint expected < 2^".concat(t.nBitLength));return uc(e,t.nByteLength)}function E(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(["recovered","canonical"].some(e=>e in s))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:u}=t;let{lowS:d,prehash:m,extraEntropy:g}=s;null==d&&(d=!0),e=dc("msgHash",e),m&&(e=dc("prehashed msgHash",i(e)));const y=x(e),w=c(r),E=[b(w),b(y)];if(null!=g){const e=!0===g?u(n.BYTES):g;E.push(dc("extraEntropy",e))}const N=fc(...E),A=y;return{seed:N,k2sig:function(e){const t=v(e);if(!h(t))return;const n=o(t),r=l.BASE.multiply(t).toAffine(),s=a(r.x);if(s===Gc)return;const i=a(n*a(A+s*w));if(i===Gc)return;let c=(r.x===s?0:2)|Number(r.y&Wc),u=i;return d&&f(i)&&(u=function(e){return f(e)?a(-e):e}(i),c^=1),new p(s,u,c)}}}const S={lowS:t.lowS,prehash:!1},N={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const{seed:s,k2sig:i}=E(e,n,r),a=t;return yc(a.hash.outputLen,a.nByteLength,a.hmac)(s,i)},verify:function(e,n,r){var s;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N;const c=e;if(n=dc("msgHash",n),r=dc("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:h}=i;let d,f;try{if("string"===typeof c||c instanceof Uint8Array)try{d=p.fromDER(c)}catch(S){if(!(S instanceof Hc.Err))throw S;d=p.fromCompact(c)}else{if("object"!==typeof c||"bigint"!==typeof c.r||"bigint"!==typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;d=new p(e,t)}}f=l.fromHex(r)}catch(A){if("PARSE"===A.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;h&&(n=t.hash(n));const{r:m,s:g}=d,y=x(n),v=o(g),w=a(y*v),b=a(m*v),E=null===(s=l.BASE.multiplyAndAddUnsafe(f,w,b))||void 0===s?void 0:s.toAffine();return!!E&&a(E.x)===m},ProjectivePoint:l,Signature:p,utils:g}}function Jc(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Lc(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let s=0;return t.forEach(e=>{if(!Sn(e))throw new Error("Uint8Array expected");r.set(e,s),s+=e.length}),r}(...r))},randomBytes:jn}}const Yc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Xc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zc=BigInt(1),$c=BigInt(2),eu=(e,t)=>(e+t/$c)/t;function tu(e){const t=Yc,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,h=jc(u,n,t)*u%t,d=jc(h,n,t)*u%t,f=jc(d,$c,t)*c%t,m=jc(f,s,t)*f%t,p=jc(m,i,t)*m%t,g=jc(p,o,t)*p%t,y=jc(g,l,t)*g%t,v=jc(y,o,t)*p%t,x=jc(v,n,t)*u%t,w=jc(x,a,t)*m%t,b=jc(w,r,t)*c%t,E=jc(b,$c,t);if(!nu.eql(nu.sqr(E),e))throw new Error("Cannot find square root");return E}const nu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=wc)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:s,nByteLength:i}=Rc(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Ic(e),o=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:mc(s),ZERO:wc,ONE:bc,create:t=>Cc(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return wc<=t&&t<e},is0:e=>e===wc,isOdd:e=>(e&bc)===bc,neg:t=>Cc(-t,e),eql:(e,t)=>e===t,sqr:t=>Cc(t*t,e),add:(t,n)=>Cc(t+n,e),sub:(t,n)=>Cc(t-n,e),mul:(t,n)=>Cc(t*n,e),pow:(e,t)=>function(e,t,n){if(n<wc)throw new Error("Expected power > 0");if(n===wc)return e.ONE;if(n===bc)return t;let r=e.ONE,s=t;for(;n>wc;)n&bc&&(r=e.mul(r,s)),s=e.sqr(s),n>>=bc;return r}(o,e,t),div:(t,n)=>Cc(t*Pc(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Pc(t,e),sqrt:r.sqrt||(e=>a(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,s)=>e.is0(r)?t:(n[s]=t,e.mul(t,r)),e.ONE),s=e.inv(r);return t.reduceRight((t,r,s)=>e.is0(r)?t:(n[s]=e.mul(t,n[s]),e.mul(t,r)),s),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?hc(e,i):uc(e,i),fromBytes:e=>{if(e.length!==i)throw new Error("Fp.fromBytes: expected ".concat(i,", got ").concat(e.length));return n?cc(e):lc(e)}});return Object.freeze(o)}(Yc,void 0,void 0,{sqrt:tu}),ru=function(e,t){const n=t=>Kc(ot(ot({},e),Jc(t)));return Object.freeze(ot(ot({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:nu,n:Xc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Xc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Zc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=eu(i*e,t),l=eu(-r*e,t);let c=Cc(e-o*n-l*s,t),u=Cc(-o*r-l*i,t);const h=c>a,d=u>a;if(h&&(c=t-c),d&&(u=t-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:c,k2neg:d,k2:u}}}},Ul);BigInt(0);ru.ProjectivePoint;var su=new WeakMap;class iu{constructor(e){Be(this,su,void 0),Ze(32===gt(e),"invalid private key","privateKey","[REDACTED]"),He(su,this,mt(e))}get privateKey(){return ze(su,this)}get publicKey(){return iu.computePublicKey(ze(su,this))}get compressedPublicKey(){return iu.computePublicKey(ze(su,this),!0)}sign(e){Ze(32===gt(e),"invalid digest length","digest",e);const t=ru.sign(ut(e),ut(ze(su,this)),{lowS:!0});return Ei.from({r:It(t.r,32),s:It(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=iu.computePublicKey(e);return mt(ru.getSharedSecret(ut(ze(su,this)),ct(t),!1))}static computePublicKey(e,t){let n=ct(e,"key");if(32===n.length){return mt(ru.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return mt(ru.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){Ze(32===gt(e),"invalid digest length","digest",e);const n=Ei.from(t);let r=ru.Signature.fromCompact(ut(pt([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const s=r.recoverPublicKey(ut(e));return Ze(null!=s,"invalid signature for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,n){const r=ru.ProjectivePoint.fromHex(iu.computePublicKey(e).substring(2)),s=ru.ProjectivePoint.fromHex(iu.computePublicKey(t).substring(2));return"0x"+r.add(s).toHex(!!n)}}function au(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function ou(e,t,n){let r=0;for(let s=0;s<n;s++)r=256*r+e[t+s];return r}function lu(e,t,n,r){const s=[];for(;n<t+1+r;){const i=cu(e,n);s.push(i.result),Xe((n+=i.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:s}}function cu(e,t){Xe(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{Xe(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const s=ou(e,t+1,r);return n(t+1+r+s),lu(e,t,t+1+r,r+s)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),lu(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const s=ou(e,t+1,r);n(t+1+r+s);return{consumed:1+r+s,result:mt(e.slice(t+1+r,t+1+r+s))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:mt(e.slice(t+1,t+1+r))}}return{consumed:1,result:au(e[t])}}function uu(e){const t=ct(e,"data"),n=cu(t,0);return Ze(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function hu(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function du(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(du(e))}),t.length<=55)return t.unshift(192+t.length),t;const n=hu(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(ct(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=hu(t.length);return n.unshift(183+n.length),n.concat(t)}const fu="0123456789abcdef";function mu(e){let t="0x";for(const n of du(e))t+=fu[n>>4],t+=fu[15&n];return t}function pu(e,t){return function(e){let t;return t="string"===typeof e?iu.computePublicKey(e,!1):e.publicKey,nr(Jn("0x"+t.substring(4)).substring(26))}(iu.recoverPublicKey(e,t))}const gu=BigInt(0),yu=BigInt(2),vu=BigInt(27),xu=BigInt(28),wu=BigInt(35),bu=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Eu=131072;function Su(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=$l(t).substring(4),"0x"+n}function Nu(e){return"0x"===e?null:nr(e)}function Au(e,t){try{return li(e)}catch(n){Ze(!1,n.message,t,e)}}function ku(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!Array.isArray(r))throw new Error("authorization[".concat(n,"]: invalid array"));if(6!==r.length)throw new Error("authorization[".concat(n,"]: wrong length"));if(!r[1])throw new Error("authorization[".concat(n,"]: null address"));t.push({address:Nu(r[1]),nonce:Tu(r[2],"nonce"),chainId:Tu(r[0],"chainId"),signature:Ei.from({yParity:Cu(r[3],"yParity"),r:xt(r[4],32),s:xt(r[5],32)})})}return t}catch(n){Ze(!1,n.message,t,e)}}function Cu(e,t){return"0x"===e?0:Pt(e,t)}function Tu(e,t){if("0x"===e)return gu;const n=kt(e,t);return Ze(n<=bu,"value exceeds uint size",t,n),n}function ju(e,t){const n=kt(e,"value"),r=_t(n);return Ze(r.length<=32,"value too large","tx.".concat(t),n),r}function Pu(e){return li(e).map(e=>[e.address,e.storageKeys])}function Iu(e,t){Ze(Array.isArray(e),"invalid ".concat(t),"value",e);for(let n=0;n<e.length;n++)Ze(ht(e[n],32),"invalid ${ param } hash","value[".concat(n,"]"),e[n]);return e}function _u(e,t){let n;try{if(n=Cu(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(a){Ze(!1,"invalid yParity","yParity",t[0])}const r=xt(t[1],32),s=xt(t[2],32),i=Ei.from({r:r,s:s,yParity:n});e.signature=i}var Ru=new WeakMap,Du=new WeakMap,Mu=new WeakMap,Ou=new WeakMap,Lu=new WeakMap,Uu=new WeakMap,Fu=new WeakMap,Bu=new WeakMap,Vu=new WeakMap,zu=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,Wu=new WeakMap,qu=new WeakMap,Qu=new WeakMap,Ku=new WeakMap,Ju=new WeakMap,Yu=new WeakSet;class Xu{get type(){return ze(Ru,this)}set type(e){switch(e){case null:He(Ru,this,null);break;case 0:case"legacy":He(Ru,this,0);break;case 1:case"berlin":case"eip-2930":He(Ru,this,1);break;case 2:case"london":case"eip-1559":He(Ru,this,2);break;case 3:case"cancun":case"eip-4844":He(Ru,this,3);break;case 4:case"pectra":case"eip-7702":He(Ru,this,4);break;default:Ze(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=ze(Du,this);return null==e&&3===this.type?ca:e}set to(e){He(Du,this,null==e?null:nr(e))}get nonce(){return ze(Ou,this)}set nonce(e){He(Ou,this,Pt(e,"value"))}get gasLimit(){return ze(Lu,this)}set gasLimit(e){He(Lu,this,kt(e))}get gasPrice(){const e=ze(Uu,this);return null!=e||0!==this.type&&1!==this.type?e:gu}set gasPrice(e){He(Uu,this,null==e?null:kt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=ze(Fu,this);return null==e?2===this.type||3===this.type?gu:null:e}set maxPriorityFeePerGas(e){He(Fu,this,null==e?null:kt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=ze(Bu,this);return null==e?2===this.type||3===this.type?gu:null:e}set maxFeePerGas(e){He(Bu,this,null==e?null:kt(e,"maxFeePerGas"))}get data(){return ze(Mu,this)}set data(e){He(Mu,this,mt(e))}get value(){return ze(Vu,this)}set value(e){He(Vu,this,kt(e,"value"))}get chainId(){return ze(zu,this)}set chainId(e){He(zu,this,kt(e))}get signature(){return ze(Hu,this)||null}set signature(e){He(Hu,this,null==e?null:Ei.from(e))}get accessList(){const e=ze(Gu,this)||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){He(Gu,this,null==e?null:li(e))}get authorizationList(){const e=ze(Ju,this)||null;return null==e&&4===this.type?[]:e}set authorizationList(e){He(Ju,this,null==e?null:e.map(e=>Si(e)))}get maxFeePerBlobGas(){const e=ze(Wu,this);return null==e&&3===this.type?gu:e}set maxFeePerBlobGas(e){He(Wu,this,null==e?null:kt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=ze(qu,this);return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){Ze(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Ze(ht(e[t],32),"invalid blobVersionedHash","value[".concat(t,"]"),e[t])}He(qu,this,e)}get blobs(){return null==ze(Ku,this)?null:ze(Ku,this).map(e=>Object.assign({},e))}set blobs(e){if(null==e)return void He(Ku,this,null);const t=[],n=[];for(let r=0;r<e.length;r++){const s=e[r];if(dt(s)){Xe(ze(Qu,this),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=ct(s);if(Ze(e.length<=Eu,"blob is too large","blobs[".concat(r,"]"),s),e.length!==Eu){const t=new Uint8Array(Eu);t.set(e),e=t}const i=ze(Qu,this).blobToKzgCommitment(e),a=mt(ze(Qu,this).computeBlobKzgProof(e,i));t.push({data:mt(e),commitment:mt(i),proof:a}),n.push(Su(1,i))}else{const e=mt(s.commitment);t.push({data:mt(s.data),commitment:e,proof:mt(s.proof)}),n.push(Su(1,e))}}He(Ku,this,t),He(qu,this,n)}get kzg(){return ze(Qu,this)}set kzg(e){He(Qu,this,null==e?null:function(e){return{blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return ct(e.blobToKzgCommitment(mt(t)))}else if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return ct(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"===typeof e.blobToKZGCommitment)return ct(e.blobToKZGCommitment(mt(t)));Ze(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,n)=>"computeBlobProof"in e&&"function"===typeof e.computeBlobProof?ct(e.computeBlobProof(mt(t),mt(n))):"computeBlobKzgProof"in e&&"function"===typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,n):"computeBlobKZGProof"in e&&"function"===typeof e.computeBlobKZGProof?ct(e.computeBlobKZGProof(mt(t),mt(n))):void Ze(!1,"unsupported KZG library","kzg",e)}}(e))}constructor(){nt(this,Yu),Be(this,Ru,void 0),Be(this,Du,void 0),Be(this,Mu,void 0),Be(this,Ou,void 0),Be(this,Lu,void 0),Be(this,Uu,void 0),Be(this,Fu,void 0),Be(this,Bu,void 0),Be(this,Vu,void 0),Be(this,zu,void 0),Be(this,Hu,void 0),Be(this,Gu,void 0),Be(this,Wu,void 0),Be(this,qu,void 0),Be(this,Qu,void 0),Be(this,Ku,void 0),Be(this,Ju,void 0),He(Ru,this,null),He(Du,this,null),He(Ou,this,0),He(Lu,this,gu),He(Uu,this,null),He(Fu,this,null),He(Bu,this,null),He(Mu,this,"0x"),He(Vu,this,gu),He(zu,this,gu),He(Hu,this,null),He(Gu,this,null),He(Wu,this,null),He(qu,this,null),He(Qu,this,null),He(Ku,this,null),He(Ju,this,null)}get hash(){return null==this.signature?null:Jn(Ve(Yu,this,Zu).call(this,!0,!1))}get unsignedHash(){return Jn(this.unsignedSerialized)}get from(){return null==this.signature?null:pu(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:iu.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){return Ve(Yu,this,Zu).call(this,!0,!0)}get unsignedSerialized(){return Ve(Yu,this,Zu).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=ze(Wu,this)||ze(qu,this);null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Xe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Xe(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Xe(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return null!=this.type?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):t?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(r&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Xu.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Xu;if("string"===typeof e){const t=ct(e);if(t[0]>=127)return Xu.from(function(e){const t=uu(e);Ze(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:Cu(t[0],"nonce"),gasPrice:Tu(t[1],"gasPrice"),gasLimit:Tu(t[2],"gasLimit"),to:Nu(t[3]),value:Tu(t[4],"value"),data:mt(t[5]),chainId:gu};if(6===t.length)return n;const r=Tu(t[6],"v"),s=Tu(t[7],"r"),i=Tu(t[8],"s");if(s===gu&&i===gu)n.chainId=r;else{let e=(r-wu)/yu;e<gu&&(e=gu),n.chainId=e,Ze(e!==gu||r===vu||r===xu,"non-canonical legacy v","v",t[6]),n.signature=Ei.from({r:xt(t[7],32),s:xt(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Xu.from(function(e){const t=uu(ct(e).slice(1));Ze(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",mt(e));const n={type:1,chainId:Tu(t[0],"chainId"),nonce:Cu(t[1],"nonce"),gasPrice:Tu(t[2],"gasPrice"),gasLimit:Tu(t[3],"gasLimit"),to:Nu(t[4]),value:Tu(t[5],"value"),data:mt(t[6]),accessList:Au(t[7],"accessList")};return 8===t.length||_u(n,t.slice(8)),n}(t));case 2:return Xu.from(function(e){const t=uu(ct(e).slice(1));Ze(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",mt(e));const n={type:2,chainId:Tu(t[0],"chainId"),nonce:Cu(t[1],"nonce"),maxPriorityFeePerGas:Tu(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Tu(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Tu(t[4],"gasLimit"),to:Nu(t[5]),value:Tu(t[6],"value"),data:mt(t[7]),accessList:Au(t[8],"accessList")};return 9===t.length||_u(n,t.slice(9)),n}(t));case 3:return Xu.from(function(e){let t=uu(ct(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],s=t[2],i=t[3];Ze(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),Ze(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),Ze(Array.isArray(i),"invalid network format: proofs not an array","fields[3]",i),Ze(e.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",t),Ze(e.length===i.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:s[n],proof:i[n]});t=t[0]}Ze(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: ".concat(n),"data",mt(e));const s={type:3,chainId:Tu(t[0],"chainId"),nonce:Cu(t[1],"nonce"),maxPriorityFeePerGas:Tu(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Tu(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Tu(t[4],"gasLimit"),to:Nu(t[5]),value:Tu(t[6],"value"),data:mt(t[7]),accessList:Au(t[8],"accessList"),maxFeePerBlobGas:Tu(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(s.blobs=r),Ze(null!=s.to,"invalid address for transaction type: ".concat(n),"data",e),Ze(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let i=0;i<s.blobVersionedHashes.length;i++)Ze(ht(s.blobVersionedHashes[i],32),"invalid blobVersionedHash at index ".concat(i,": must be length 32"),"data",e);return 11===t.length||_u(s,t.slice(11)),s}(t));case 4:return Xu.from(function(e){const t=uu(ct(e).slice(1));Ze(Array.isArray(t)&&(10===t.length||13===t.length),"invalid field count for transaction type: 4","data",mt(e));const n={type:4,chainId:Tu(t[0],"chainId"),nonce:Cu(t[1],"nonce"),maxPriorityFeePerGas:Tu(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Tu(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Tu(t[4],"gasLimit"),to:Nu(t[5]),value:Tu(t[6],"value"),data:mt(t[7]),accessList:Au(t[8],"accessList"),authorizationList:ku(t[9],"authorizationList")};return 10===t.length||_u(n,t.slice(10)),n}(t))}Xe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Xu;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Ei.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(Ze(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Ze(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(Ze(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Ze(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function Zu(e,t){Xe(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[ju(e.nonce,"nonce"),ju(e.gasPrice||0,"gasPrice"),ju(e.gasLimit,"gasLimit"),e.to||"0x",ju(e.value,"value"),e.data];let r=gu;if(e.chainId!=gu)r=kt(e.chainId,"tx.chainId"),Ze(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==gu&&(n.push(_t(r)),n.push("0x"),n.push("0x")),mu(n);let s=BigInt(27+t.yParity);return r!==gu?s=Ei.getChainIdV(r,t.v):BigInt(t.v)!==s&&Ze(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(_t(s)),n.push(_t(t.r)),n.push(_t(t.s)),mu(n)}(this,n);case 1:return function(e,t){const n=[ju(e.chainId,"chainId"),ju(e.nonce,"nonce"),ju(e.gasPrice||0,"gasPrice"),ju(e.gasLimit,"gasLimit"),e.to||"0x",ju(e.value,"value"),e.data,Pu(e.accessList||[])];return t&&(n.push(ju(t.yParity,"recoveryParam")),n.push(_t(t.r)),n.push(_t(t.s))),pt(["0x01",mu(n)])}(this,n);case 2:return function(e,t){const n=[ju(e.chainId,"chainId"),ju(e.nonce,"nonce"),ju(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ju(e.maxFeePerGas||0,"maxFeePerGas"),ju(e.gasLimit,"gasLimit"),e.to||"0x",ju(e.value,"value"),e.data,Pu(e.accessList||[])];return t&&(n.push(ju(t.yParity,"yParity")),n.push(_t(t.r)),n.push(_t(t.s))),pt(["0x02",mu(n)])}(this,n);case 3:return function(e,t,n){const r=[ju(e.chainId,"chainId"),ju(e.nonce,"nonce"),ju(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ju(e.maxFeePerGas||0,"maxFeePerGas"),ju(e.gasLimit,"gasLimit"),e.to||ca,ju(e.value,"value"),e.data,Pu(e.accessList||[]),ju(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Iu(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(ju(t.yParity,"yParity")),r.push(_t(t.r)),r.push(_t(t.s)),n)?pt(["0x03",mu([r,n.map(e=>e.data),n.map(e=>e.commitment),n.map(e=>e.proof)])]):pt(["0x03",mu(r)])}(this,n,t?this.blobs:null);case 4:return function(e,t){const n=[ju(e.chainId,"chainId"),ju(e.nonce,"nonce"),ju(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ju(e.maxFeePerGas||0,"maxFeePerGas"),ju(e.gasLimit,"gasLimit"),e.to||"0x",ju(e.value,"value"),e.data,Pu(e.accessList||[]),(r=e.authorizationList||[],r.map(e=>[ju(e.chainId,"chainId"),e.address,ju(e.nonce,"nonce"),ju(e.signature.yParity,"yParity"),_t(e.signature.r),_t(e.signature.s)]))];var r;return t&&(n.push(ju(t.yParity,"yParity")),n.push(_t(t.r)),n.push(_t(t.s))),pt(["0x04",mu(n)])}(this,n)}Xe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}const $u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const eh=BigInt(58);var th;function nh(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Ze(!1,"unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}class rh{constructor(e){it(this,"name",void 0),qe(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const sh=new RegExp("^(ipfs)://(.*)$","i"),ih=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),sh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var ah=new WeakMap,oh=new WeakMap,lh=new WeakSet;class ch{constructor(e,t,n){nt(this,lh),it(this,"provider",void 0),it(this,"address",void 0),it(this,"name",void 0),Be(this,ah,void 0),Be(this,oh,void 0),qe(this,{provider:e,address:t,name:n}),He(ah,this,null),He(oh,this,new vo(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return null==ze(ah,this)&&He(ah,this,(async()=>{try{return await ze(oh,this).supportsInterface("0x9061b923")}catch(e){if(Ke(e,"CALL_EXCEPTION"))return!1;throw He(ah,this,null),e}})()),await ze(ah,this)}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await Ve(lh,this,uh).call(this,"addr(bytes32)");return null==e||e===ca?null:e}catch(s){if(Ke(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await Ve(lh,this,uh).call(this,"addr(bytes32,uint)",[t]);if(ht(n,20))return nr(n)}let t=null;for(const i of this.provider.plugins)if(i instanceof rh&&i.supportsCoinType(e)){t=i;break}if(null==t)return null;const n=await Ve(lh,this,uh).call(this,"addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;Xe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(e,")"),info:{coinType:e,data:n}})}async getText(e){const t=await Ve(lh,this,uh).call(this,"text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await Ve(lh,this,uh).call(this,"contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return"".concat(e,"://").concat(function(e){const t=ct(e);let n=jt(t),r="";for(;n;)r=$u[Number(n%eh)]+r,n/=eh;for(let s=0;s<t.length&&!t[s];s++)r=$u[0]+r;return r}("0x"+t[2]))}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://".concat(n[1]);Xe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<ih.length;r++){const s=n.match(ih[r]);if(null==s)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=nh(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===i?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(s[2]||"").split("/");if(2!==o.length)return e.push({type:"!".concat(i,"caip"),value:s[2]||""}),{url:null,linkage:e};const l=o[1],c=new vo(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===i){const t=await c.ownerOf(l);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===i){const t=await c.balanceOf(a,l);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await c[r](l);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===i&&(u=u.replace("{id}",It(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=nh(u)),e.push({type:"metadata-url",value:u});let h={};const d=await new $i(u).send();d.assertOk();try{h=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(t){const n=d.body;return n&&e.push({type:"!metadata",value:mt(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let f=h.image;if("string"!==typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(sh))return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=nh(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return Xe(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await hh.call(ch,e,n);if(null!=r){const s=new ch(e,r,t);return n===t||await s.supportsWildcard()?s:null}n=n.split(".").slice(1).join(".")}}}async function uh(e,t){t=(t||[]).slice();const n=ze(oh,this).interface;t.unshift(jl(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),Xe(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Pl(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await ze(oh,this)[e](...t);return r?n.decodeFunctionResult(r,s)[0]:s}catch(s){if(!Ke(s,"CALL_EXCEPTION"))throw s}return null}async function hh(e,t){const n=await th.getEnsAddress(e);try{const r=new vo(n,["function resolver(bytes32) view returns (address)"],e),s=await r.resolver(jl(t),{enableCcipRead:!0});return s===ca?null:s}catch(r){throw r}}th=ch;const dh=BigInt(0);function fh(e,t){return function(n){return null==n?t:e(n)}}function mh(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(t=>e(t))}}function ph(e,t){return n=>{const r={};for(const i in e){let a=i;if(t&&i in t&&!(a in n))for(const e of t[i])if(e in n){a=e;break}try{const t=e[i](n[a]);void 0!==t&&(r[i]=t)}catch(s){const e=s instanceof Error?s.message:"not-an-error";Xe(!1,"invalid value for value.".concat(i," (").concat(e,")"),"BAD_DATA",{value:n})}}return r}}function gh(e){return Ze(ht(e,!0),"invalid data","value",e),e}function yh(e){return Ze(ht(e,32),"invalid hash","value",e),e}const vh=ph({address:nr,blockHash:yh,blockNumber:Pt,data:gh,index:Pt,removed:fh(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}Ze(!1,"invalid boolean; ".concat(JSON.stringify(e)),"value",e)},!1),topics:mh(yh),transactionHash:yh,transactionIndex:Pt},{index:["logIndex"]});const xh=ph({hash:fh(yh),parentHash:yh,parentBeaconBlockRoot:fh(yh,null),number:Pt,timestamp:Pt,nonce:fh(gh),difficulty:kt,gasLimit:kt,gasUsed:kt,stateRoot:fh(yh,null),receiptsRoot:fh(yh,null),blobGasUsed:fh(kt,null),excessBlobGas:fh(kt,null),miner:fh(nr),prevRandao:fh(yh,null),extraData:gh,baseFeePerGas:fh(kt)},{prevRandao:["mixHash"]});const wh=ph({transactionIndex:Pt,blockNumber:Pt,transactionHash:yh,address:nr,topics:mh(yh),data:gh,index:Pt,blockHash:yh},{index:["logIndex"]});const bh=ph({to:fh(nr,null),from:fh(nr,null),contractAddress:fh(nr,null),index:Pt,root:fh(mt),gasUsed:kt,blobGasUsed:fh(kt,null),logsBloom:fh(gh),blockHash:yh,hash:yh,logs:mh(function(e){return wh(e)}),blockNumber:Pt,cumulativeGasUsed:kt,effectiveGasPrice:fh(kt),blobGasPrice:fh(kt,null),status:fh(Pt),type:fh(Pt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Eh(e){e.to&&kt(e.to)===dh&&(e.to="0x0000000000000000000000000000000000000000");const t=ph({hash:yh,index:fh(Pt,void 0),type:e=>"0x"===e||null==e?0:Pt(e),accessList:fh(li,null),blobVersionedHashes:fh(mh(yh,!0),null),authorizationList:fh(mh(e=>{let t;if(e.signature)t=e.signature;else{let n=e.yParity;"0x1b"===n?n=0:"0x1c"===n&&(n=1),t=Object.assign({},e,{yParity:n})}return{address:nr(e.address),chainId:kt(e.chainId),nonce:kt(e.nonce),signature:Ei.from(t)}},!1),null),blockHash:fh(yh,null),blockNumber:fh(Pt,null),transactionIndex:fh(Pt,null),from:nr,gasPrice:fh(kt),maxPriorityFeePerGas:fh(kt),maxFeePerGas:fh(kt),maxFeePerBlobGas:fh(kt,null),gasLimit:kt,to:fh(nr,null),value:kt,nonce:Pt,data:gh,creates:fh(nr,null),chainId:fh(kt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=nr(e.from);let n=kt(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,nr(yt(Jn(mu([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=Ei.from(e.signature):t.signature=Ei.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&kt(t.blockHash)===dh&&(t.blockHash=null),t}class Sh{constructor(e){it(this,"name",void 0),qe(this,{name:e})}clone(){return new Sh(this.name)}}class Nh extends Sh{constructor(e,t){null==e&&(e=0),super("org.ethers.network.plugins.GasCost#".concat(e||0)),it(this,"effectiveBlock",void 0),it(this,"txBase",void 0),it(this,"txCreate",void 0),it(this,"txDataZero",void 0),it(this,"txDataNonzero",void 0),it(this,"txAccessListStorageKey",void 0),it(this,"txAccessListAddress",void 0);const n={effectiveBlock:e};function r(e,r){let s=(t||{})[e];null==s&&(s=r),Ze("number"===typeof s,"invalud value for ".concat(e),"costs",t),n[e]=s}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),qe(this,n)}clone(){return new Nh(this.effectiveBlock,this)}}class Ah extends Sh{constructor(e,t){super("org.ethers.plugins.network.Ens"),it(this,"address",void 0),it(this,"targetNetwork",void 0),qe(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new Ah(this.address,this.targetNetwork)}}var kh=new WeakMap,Ch=new WeakMap;class Th extends Sh{get url(){return ze(kh,this)}get processFunc(){return ze(Ch,this)}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),Be(this,kh,void 0),Be(this,Ch,void 0),He(kh,this,e),He(Ch,this,t)}clone(){return this}}const jh=new Map;var Ph=new WeakMap,Ih=new WeakMap,_h=new WeakMap;class Rh{constructor(e,t){Be(this,Ph,void 0),Be(this,Ih,void 0),Be(this,_h,void 0),He(Ph,this,e),He(Ih,this,kt(t)),He(_h,this,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return ze(Ph,this)}set name(e){He(Ph,this,e)}get chainId(){return ze(Ih,this)}set chainId(e){He(Ih,this,kt(e,"chainId"))}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===kt(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===kt(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===kt(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(ze(_h,this).values())}attachPlugin(e){if(ze(_h,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return ze(_h,this).set(e.name,e.clone()),this}getPlugin(e){return ze(_h,this).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new Rh(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Nh;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=li(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(Oh)return;function e(e,t,n){const r=function(){const r=new Rh(e,t);return null!=n.ensNetwork&&r.attachPlugin(new Ah(null,n.ensNetwork)),r.attachPlugin(new Nh),(n.plugins||[]).forEach(e=>{r.attachPlugin(e)}),r};Rh.register(e,r),Rh.register(t,r),n.altNames&&n.altNames.forEach(e=>{Rh.register(e,r)})}Oh=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[Mh("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Mh("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return Rh.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=jh.get(e);if(t)return t();if("bigint"===typeof e)return new Rh("unknown",e);Ze(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){Ze("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Rh(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new Ah(e.ensAddress,e.ensNetwork)),t}Ze(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=jh.get(e);n&&Ze(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",e),jh.set(e,t)}}function Dh(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error("invalid gwei value: ".concat(e));const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error("invalid gwei value: ".concat(e));for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function Mh(e){return new Th(e,async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,s]=await Promise.all([n.send(),e()]);r=t;const i=r.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:Dh(i.maxFee,9),maxPriorityFeePerGas:Dh(i.maxPriorityFee,9)}}catch(s){Xe(!1,"error encountered with polygon gas station (".concat(JSON.stringify(n.url),")"),"SERVER_ERROR",{request:n,response:r,error:s})}})}let Oh=!1;function Lh(e){return JSON.parse(JSON.stringify(e))}var Uh=new WeakMap,Fh=new WeakMap,Bh=new WeakMap,Vh=new WeakMap,zh=new WeakSet;class Hh{constructor(e){nt(this,zh),Be(this,Uh,void 0),Be(this,Fh,void 0),Be(this,Bh,void 0),Be(this,Vh,void 0),He(Uh,this,e),He(Fh,this,null),He(Bh,this,4e3),He(Vh,this,-2)}get pollingInterval(){return ze(Bh,this)}set pollingInterval(e){He(Bh,this,e)}start(){ze(Fh,this)||(He(Fh,this,ze(Uh,this)._setTimeout(Ve(zh,this,Gh).bind(this),ze(Bh,this))),Ve(zh,this,Gh).call(this))}stop(){ze(Fh,this)&&(ze(Uh,this)._clearTimeout(ze(Fh,this)),He(Fh,this,null))}pause(e){this.stop(),e&&He(Vh,this,-2)}resume(){this.start()}}async function Gh(){try{const e=await ze(Uh,this).getBlockNumber();if(-2===ze(Vh,this))return void He(Vh,this,e);if(e!==ze(Vh,this)){for(let t=ze(Vh,this)+1;t<=e;t++){if(null==ze(Fh,this))return;await ze(Uh,this).emit("block",t)}He(Vh,this,e)}}catch(e){}null!=ze(Fh,this)&&He(Fh,this,ze(Uh,this)._setTimeout(Ve(zh,this,Gh).bind(this),ze(Bh,this)))}var Wh=new WeakMap,qh=new WeakMap,Qh=new WeakMap;class Kh{constructor(e){Be(this,Wh,void 0),Be(this,qh,void 0),Be(this,Qh,void 0),He(Wh,this,e),He(Qh,this,!1),He(qh,this,e=>{this._poll(e,ze(Wh,this))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){ze(Qh,this)||(He(Qh,this,!0),ze(qh,this).call(this,-2),ze(Wh,this).on("block",ze(qh,this)))}stop(){ze(Qh,this)&&(He(Qh,this,!1),ze(Wh,this).off("block",ze(qh,this)))}pause(e){this.stop()}resume(){this.start()}}var Jh=new WeakMap,Yh=new WeakMap;class Xh extends Kh{constructor(e,t){super(e),Be(this,Jh,void 0),Be(this,Yh,void 0),He(Jh,this,t),He(Yh,this,-2)}pause(e){e&&He(Yh,this,-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(ze(Jh,this));null!=n&&(-2===ze(Yh,this)?He(Yh,this,n.number):n.number>ze(Yh,this)&&(t.emit(ze(Jh,this),n.number),He(Yh,this,n.number)))}}var Zh=new WeakMap;class $h extends Kh{constructor(e,t){super(e),Be(this,Zh,void 0),He(Zh,this,Lh(t))}async _poll(e,t){throw new Error("@TODO")}}var ed=new WeakMap;class td extends Kh{constructor(e,t){super(e),Be(this,ed,void 0),He(ed,this,t)}async _poll(e,t){const n=await t.getTransactionReceipt(ze(ed,this));n&&t.emit(ze(ed,this),n)}}var nd=new WeakMap,rd=new WeakMap,sd=new WeakMap,id=new WeakMap,ad=new WeakMap,od=new WeakSet;class ld{constructor(e,t){nt(this,od),Be(this,nd,void 0),Be(this,rd,void 0),Be(this,sd,void 0),Be(this,id,void 0),Be(this,ad,void 0),He(nd,this,e),He(rd,this,Lh(t)),He(sd,this,Ve(od,this,cd).bind(this)),He(id,this,!1),He(ad,this,-2)}start(){ze(id,this)||(He(id,this,!0),-2===ze(ad,this)&&ze(nd,this).getBlockNumber().then(e=>{He(ad,this,e)}),ze(nd,this).on("block",ze(sd,this)))}stop(){ze(id,this)&&(He(id,this,!1),ze(nd,this).off("block",ze(sd,this)))}pause(e){this.stop(),e&&He(ad,this,-2)}resume(){this.start()}}async function cd(e){if(-2===ze(ad,this))return;const t=Lh(ze(rd,this));t.fromBlock=ze(ad,this)+1,t.toBlock=e;const n=await ze(nd,this).getLogs(t);if(0!==n.length)for(const r of n)ze(nd,this).emit(ze(rd,this),r),He(ad,this,r.blockNumber);else ze(ad,this)<e-60&&He(ad,this,e-60)}const ud=BigInt(2);function hd(e){return e&&"function"===typeof e.then}function dd(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return"bigint:".concat(t.toString());if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce((e,n)=>(e[n]=t[n],e),{})}return t})}class fd{constructor(e){it(this,"name",void 0),qe(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function md(e){return(e=Array.from(new Set(e).values())).sort(),e}async function pd(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(ht(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:dd("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:dd("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map(e=>null==e?null:Array.isArray(e)?md(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(n.address){const e=[],s=[],i=n=>{ht(n)?e.push(n):s.push((async()=>{e.push(await Bs(n,t))})())};Array.isArray(n.address)?n.address.forEach(i):i(n.address),s.length&&await Promise.all(s),r.address=md(e.map(e=>e.toLowerCase()))}return{filter:r,tag:dd("event",r),type:"event"}}Ze(!1,"unknown ProviderEvent","event",e)}function gd(){return(new Date).getTime()}const yd={cacheTimeout:250,pollingInterval:4e3};var vd=new WeakMap,xd=new WeakMap,wd=new WeakMap,bd=new WeakMap,Ed=new WeakMap,Sd=new WeakMap,Nd=new WeakMap,Ad=new WeakMap,kd=new WeakMap,Cd=new WeakMap,Td=new WeakMap,jd=new WeakMap,Pd=new WeakSet;class Id{constructor(e,t){if(nt(this,Pd),Be(this,vd,void 0),Be(this,xd,void 0),Be(this,wd,void 0),Be(this,bd,void 0),Be(this,Ed,void 0),Be(this,Sd,void 0),Be(this,Nd,void 0),Be(this,Ad,void 0),Be(this,kd,void 0),Be(this,Cd,void 0),Be(this,Td,void 0),Be(this,jd,void 0),He(jd,this,Object.assign({},yd,t||{})),"any"===e)He(Sd,this,!0),He(Ed,this,null);else if(e){const t=Rh.from(e);He(Sd,this,!1),He(Ed,this,Promise.resolve(t)),setTimeout(()=>{this.emit("network",t,null)},0)}else He(Sd,this,!1),He(Ed,this,null);He(Ad,this,-1),He(Nd,this,new Map),He(vd,this,new Map),He(xd,this,new Map),He(wd,this,null),He(bd,this,!1),He(kd,this,1),He(Cd,this,new Map),He(Td,this,!1)}get pollingInterval(){return ze(jd,this).pollingInterval}get provider(){return this}get plugins(){return Array.from(ze(xd,this).values())}attachPlugin(e){if(ze(xd,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return ze(xd,this).set(e.name,e.connect(this)),this}getPlugin(e){return ze(xd,this).get(e)||null}get disableCcipRead(){return ze(Td,this)}set disableCcipRead(e){He(Td,this,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),s=t.toLowerCase(),i=[];for(let o=0;o<n.length;o++){const t=n[o],l=t.replace("{sender}",r).replace("{data}",s),c=new $i(l);-1===t.indexOf("{data}")&&(c.body={data:s,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:o,urls:n});let u,h="unknown error";try{u=await c.send()}catch(a){i.push(a.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:{error:a}});continue}try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(h=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(a){}Xe(u.statusCode<400||u.statusCode>=500,"response not found during CCIP fetch: ".concat(h),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:h}}),i.push(h)}Xe(!1,"error encountered during CCIP fetch: ".concat(i.map(e=>JSON.stringify(e)).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:i}})}_wrapBlock(e,t){return new Pa(function(e){const t=xh(e);return t.transactions=e.transactions.map(e=>"string"===typeof e?e:Eh(e)),t}(e),this)}_wrapLog(e,t){return new Ia(function(e){return vh(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Ra(function(e){return bh(e)}(e),this)}_wrapTransactionResponse(e,t){return new Ma(Eh(e),this)}_detectNetwork(){Xe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Xe(!1,"unsupported method: ".concat(e.method),"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Pt(await Ve(Pd,this,_d).call(this,{method:"getBlockNumber"}),"%response");return ze(Ad,this)>=0&&He(Ad,this,e),e}_getAddress(e){return Bs(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return ht(e)?ht(e,32)?e:Rt(e):("bigint"===typeof e&&(e=Pt(e,"blockTag")),"number"===typeof e?e>=0?Rt(e):ze(Ad,this)>=0?Rt(ze(Ad,this)+e):this.getBlockNumber().then(t=>Rt(t+e)):void Ze(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?md(e.map(e=>e.toLowerCase())):e.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,r=(e,r,s)=>{let i;switch(e.length){case 0:break;case 1:i=e[0];break;default:e.sort(),i=e}if(n&&(null!=r||null!=s))throw new Error("invalid filter");const a={};return i&&(a.address=i),t.length&&(a.topics=t),r&&(a.fromBlock=r),s&&(a.toBlock=s),n&&(a.blockHash=n),a};let s,i,a=[];if(e.address)if(Array.isArray(e.address))for(const o of e.address)a.push(this._getAddress(o));else a.push(this._getAddress(e.address));return"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(i=this._getBlockTag(e.toBlock)),a.filter(e=>"string"!==typeof e).length||null!=s&&"string"!==typeof s||null!=i&&"string"!==typeof i?Promise.all([Promise.all(a),s,i]).then(e=>r(e[0],e[1],e[2])):r(a,s,i)}_getTransactionRequest(e){const t=Ta(e),n=[];if(["to","from"].forEach(e=>{if(null==t[e])return;const r=Bs(t[e],this);hd(r)?n.push(async function(){t[e]=await r}()):t[e]=r}),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);hd(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==ze(Ed,this)){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw ze(Ed,this)===e&&He(Ed,this,null),t}})();return He(Ed,this,e),(await e).clone()}const e=ze(Ed,this),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(ze(Sd,this)?(this.emit("network",n,t),ze(Ed,this)===e&&He(Ed,this,Promise.resolve(n))):Xe(!1,"network changed: ".concat(t.chainId," => ").concat(n.chainId," "),"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await We({_block:Ve(Pd,this,Od).call(this,"latest",!1),gasPrice:(async()=>{try{return kt(await Ve(Pd,this,_d).call(this,{method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return kt(await Ve(Pd,this,_d).call(this,{method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let s=null,i=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(i=null!=r?r:BigInt("1000000000"),s=a.baseFeePerGas*ud+i),new Ca(n,s,i)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new $i(n.url),r=await n.processFunc(t,this,e);return new Ca(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return hd(t)&&(t=await t),kt(await Ve(Pd,this,_d).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await We({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Ve(Pd,this,Dd).call(this,Ve(Pd,this,Rd).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return kt(await Ve(Pd,this,Md).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Pt(await Ve(Pd,this,Md).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return mt(await Ve(Pd,this,Md).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const r=kt(t,"position");return mt(await Ve(Pd,this,Md).call(this,{method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await We({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Xu.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,r).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:r}=await We({network:this.getNetwork(),params:Ve(Pd,this,Od).call(this,e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await We({network:this.getNetwork(),params:Ve(Pd,this,_d).call(this,{method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await We({network:this.getNetwork(),params:Ve(Pd,this,_d).call(this,{method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await Ve(Pd,this,_d).call(this,{method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await We({network:this.getNetwork(),result:Ve(Pd,this,_d).call(this,{method:"getTransactionResult",hash:e})});return null==t?null:mt(t)}async getLogs(e){let t=this._getFilter(e);hd(t)&&(t=await t);const{network:n,params:r}=await We({network:this.getNetwork(),params:Ve(Pd,this,_d).call(this,{method:"getLogs",filter:t})});return r.map(e=>this._wrapLog(e,n))}_getProvider(e){Xe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await ch.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=jl((e=nr(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await ch.getEnsAddress(this),r=new vo(n,["function resolver(bytes32) view returns (address)"],this),s=await r.resolver(t);if(null==s||s===ca)return null;const i=new vo(s,["function name(bytes32) view returns (string)"],this),a=await i.name(t);return await this.resolveName(a)!==e?null:a}catch(n){if(Ke(n,"BAD_DATA")&&"0x"===n.value)return null;if(Ke(n,"CALL_EXCEPTION"))return null;throw n}}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise(async(t,s)=>{let i=null;const a=async n=>{try{const s=await this.getTransactionReceipt(e);if(null!=s&&n-s.blockNumber+1>=r)return t(s),void(i&&(clearTimeout(i),i=null))}catch(s){console.log("EEE",s)}this.once("block",a)};null!=n&&(i=setTimeout(()=>{null!=i&&(i=null,this.off("block",a),s(Ye("timeout","TIMEOUT",{reason:"timeout"})))},n)),a(await this.getBlockNumber())})}async waitForBlock(e){Xe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=ze(Cd,this).get(e);t&&(t.timer&&clearTimeout(t.timer),ze(Cd,this).delete(e))}_setTimeout(e,t){var n,r;null==t&&(t=0);const s=(He(kd,this,(n=ze(kd,this),r=n++,n)),r),i=()=>{ze(Cd,this).delete(s),e()};if(this.paused)ze(Cd,this).set(s,{timer:null,func:i,time:t});else{const e=setTimeout(i,t);ze(Cd,this).set(s,{timer:e,func:i,time:gd()})}return s}_forEachSubscriber(e){for(const t of ze(vd,this).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new fd(e.type);case"block":{const e=new Hh(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Xh(this,e.type);case"event":return new ld(this,e.filter);case"transaction":return new td(this,e.hash);case"orphan":return new $h(this,e.filter)}throw new Error("unsupported event: ".concat(e.type))}_recoverSubscriber(e,t){for(const n of ze(vd,this).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=ze(wd,this)&&t.pause(ze(wd,this));break}}async on(e,t){const n=await Ve(Pd,this,Ud).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=ze(wd,this)&&n.subscriber.pause(ze(wd,this))),this}async once(e,t){const n=await Ve(Pd,this,Ud).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=ze(wd,this)&&n.subscriber.pause(ze(wd,this))),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=await Ve(Pd,this,Ld).call(this,e,n);if(!s||0===s.listeners.length)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(t=>{let{listener:r,once:s}=t;const i=new Fa(this,s?null:r,e);try{r.call(this,...n,i)}catch(a){}return!s}),0===s.listeners.length&&(s.started&&s.subscriber.stop(),ze(vd,this).delete(s.tag)),i>0}async listenerCount(e){if(e){const t=await Ve(Pd,this,Ld).call(this,e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of ze(vd,this).values())t+=n.length;return t}async listeners(e){if(e){const t=await Ve(Pd,this,Ld).call(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}let t=[];for(const{listeners:n}of ze(vd,this).values())t=t.concat(n.map(e=>{let{listener:t}=e;return t}));return t}async off(e,t){const n=await Ve(Pd,this,Ld).call(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),ze(vd,this).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await Ve(Pd,this,Ud).call(this,e);n&&r.stop(),ze(vd,this).delete(t)}else for(const[t,{started:n,subscriber:r}]of ze(vd,this))n&&r.stop(),ze(vd,this).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return ze(bd,this)}destroy(){this.removeAllListeners();for(const e of ze(Cd,this).keys())this._clearTimeout(e);He(bd,this,!0)}get paused(){return null!=ze(wd,this)}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(He(Ad,this,-1),null!=ze(wd,this)){if(ze(wd,this)==!!e)return;Xe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),He(wd,this,!!e);for(const t of ze(Cd,this).values())t.timer&&clearTimeout(t.timer),t.time=gd()-t.time}resume(){if(null!=ze(wd,this)){this._forEachSubscriber(e=>e.resume()),He(wd,this,null);for(const e of ze(Cd,this).values()){let t=e.time;t<0&&(t=0),e.time=gd(),setTimeout(e.func,t)}}}}async function _d(e){const t=ze(jd,this).cacheTimeout;if(t<0)return await this._perform(e);const n=dd(e.method,e);let r=ze(Nd,this).get(n);return r||(r=this._perform(e),ze(Nd,this).set(n,r),setTimeout(()=>{ze(Nd,this).get(n)===r&&ze(Nd,this).delete(n)},t)),await r}async function Rd(e,t,n){Xe(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=Ta(e);try{return mt(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(s){if(!this.disableCcipRead&&Je(s)&&s.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===yt(s.data,0,4)){const e=s.data,i=await Bs(r.to,this);let a;try{a=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Xe(gt(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=yt(e,0,32);Xe(yt(n,0,12)===yt(Wd,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=yt(n,12);try{const n=[],r=Pt(yt(e,32,64)),s=Pt(yt(e,r,r+32)),i=yt(e,r+32);for(let e=0;e<s;e++){const t=Fd(i,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(s){Xe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Bd(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(s){Xe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Xe(yt(e,100,128)===yt(Wd,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=yt(e,96,100);try{const n=Bd(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(s){Xe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}(yt(s.data,4))}catch(s){Xe(!1,s.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}Xe(a.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const o=await this.ccipReadFetch(r,a.calldata,a.urls);Xe(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:s.data,errorArgs:a.errorArgs}});const l={to:i,data:pt([a.selector,Gd([o,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await Ve(Pd,this,Rd).call(this,l,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(s){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:s}),s}}throw s}}async function Dd(e){const{value:t}=await We({network:this.getNetwork(),value:e});return t}async function Md(e,t,n){let r=this._getAddress(t),s=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof s||([r,s]=await Promise.all([r,s])),await Ve(Pd,this,Dd).call(this,Ve(Pd,this,_d).call(this,Object.assign(e,{address:r,blockTag:s})))}async function Od(e,t){if(ht(e,32))return await Ve(Pd,this,_d).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await Ve(Pd,this,_d).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})}async function Ld(e,t){let n=await pd(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await pd({orphan:"drop-log",log:t[0]},this)),ze(vd,this).get(n.tag)||null}async function Ud(e){const t=await pd(e,this),n=t.tag;let r=ze(vd,this).get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},ze(vd,this).set(n,r)}return r}function Fd(e,t){try{const n=Bd(e,t);if(n)return Tr(n)}catch(n){}return null}function Bd(e,t){if("0x"===e)return null;try{const n=Pt(yt(e,t,t+32)),r=Pt(yt(e,n,n+32));return yt(e,n+32,n+32+r)}catch(n){}return null}function Vd(e){const t=_t(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function zd(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Hd=new Uint8Array([]);function Gd(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(Hd),n+=32;for(let r=0;r<e.length;r++){const s=ct(e[r]);t[r]=Vd(n),t.push(Vd(s.length)),t.push(zd(s)),n+=32+32*Math.ceil(s.length/32)}return pt(t)}const Wd="0x0000000000000000000000000000000000000000000000000000000000000000";function qd(e,t){if(e.provider)return e.provider;Xe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Qd(e,t){let n=Ta(t);if(null!=n.to&&(n.to=Bs(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),Bs(t,e)]).then(e=>{let[t,n]=e;return Ze(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t})}else n.from=e.getAddress();return await We(n)}class Kd{constructor(e){it(this,"provider",void 0),qe(this,{provider:e||null})}async getNonce(e){return qd(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Qd(this,e)}async populateTransaction(e){const t=qd(this,"populateTransaction"),n=await Qd(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){Ze(kt(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const s=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!s?0!==n.type&&1!==n.type||!s||Ze(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):Ze(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();Xe(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(Xe(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):Xe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type&&4!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await We(n)}async populateAuthorization(e){const t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await qd(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return qd(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return qd(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=qd(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=qd(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Xu.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}authorize(e){Xe(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Jd=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,Zd=new WeakMap,$d=new WeakMap,ef=new WeakMap,tf=new WeakSet;class nf{constructor(e){nt(this,tf),Be(this,Jd,void 0),Be(this,Yd,void 0),Be(this,Xd,void 0),Be(this,Zd,void 0),Be(this,$d,void 0),Be(this,ef,void 0),He(Jd,this,e),He(Yd,this,null),He(Xd,this,Ve(tf,this,rf).bind(this)),He(Zd,this,!1),He($d,this,null),He(ef,this,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){ze(Zd,this)||(He(Zd,this,!0),Ve(tf,this,rf).call(this,-2))}stop(){ze(Zd,this)&&(He(Zd,this,!1),He(ef,this,!0),Ve(tf,this,sf).call(this),ze(Jd,this).off("block",ze(Xd,this)))}pause(e){e&&Ve(tf,this,sf).call(this),ze(Jd,this).off("block",ze(Xd,this))}resume(){this.start()}}async function rf(e){try{null==ze(Yd,this)&&He(Yd,this,this._subscribe(ze(Jd,this)));let e=null;try{e=await ze(Yd,this)}catch(t){if(!Ke(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return He(Yd,this,null),void ze(Jd,this)._recoverSubscriber(this,this._recover(ze(Jd,this)));const n=await ze(Jd,this).getNetwork();if(ze($d,this)||He($d,this,n),ze($d,this).chainId!==n.chainId)throw new Error("chaid changed");if(ze(ef,this))return;const r=await ze(Jd,this).send("eth_getFilterChanges",[e]);await this._emitResults(ze(Jd,this),r)}catch(t){console.log("@TODO",t)}ze(Jd,this).once("block",ze(Xd,this))}function sf(){const e=ze(Yd,this);e&&(He(Yd,this,null),e.then(e=>{ze(Jd,this).destroyed||ze(Jd,this).send("eth_uninstallFilter",[e])}))}var af=new WeakMap;class of extends nf{constructor(e,t){var n;super(e),Be(this,af,void 0),He(af,this,(n=t,JSON.parse(JSON.stringify(n))))}_recover(e){return new ld(e,ze(af,this))}async _subscribe(e){return await e.send("eth_newFilter",[ze(af,this)])}async _emitResults(e,t){for(const n of t)e.emit(ze(af,this),e._wrapLog(n,e._network))}}class lf extends nf{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const cf="bigint,boolean,function,number,string,symbol".split(/,/g);function uf(e){if(null==e||cf.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(uf);if("object"===typeof e)return Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),{});throw new Error("should not happen: ".concat(e," (").concat(typeof e,")"))}function hf(e){return new Promise(t=>{setTimeout(t,e)})}function df(e){return e?e.toLowerCase():e}function ff(e){return e&&"number"===typeof e.pollingInterval}const mf={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class pf extends Kd{constructor(e,t){super(e),it(this,"address",void 0),qe(this,{address:t=nr(t)})}connect(e){Xe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=uf(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await Bs(r,this.provider);Ze(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas(ot(ot({},t),{},{from:this.address}))})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await Bs(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((e,r)=>{const s=[1e3,100];let i=0;const a=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(o){if(Ke(o,"CANCELLED")||Ke(o,"BAD_DATA")||Ke(o,"NETWORK_ERROR")||Ke(o,"UNSUPPORTED_OPERATION"))return null==o.info&&(o.info={}),o.info.sendTransactionHash=n,void r(o);if(Ke(o,"INVALID_ARGUMENT")&&(i++,null==o.info&&(o.info={}),o.info.sendTransactionHash=n,i>10))return void r(o);this.provider.emit("error",Ye("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:o}))}this.provider._setTimeout(()=>{a()},s.pop()||4e3)};a()})}async signTransaction(e){const t=uf(e);if(t.from){const n=await Bs(t.from,this.provider);Ze(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?Cr(e):e;return await this.provider.send("personal_sign",[mt(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=uf(n),s=await ii.resolveNames(e,t,r,async e=>{const t=await Bs(e);return Ze(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ii.getPayload(s.domain,t,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?Cr(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),mt(t)])}}var gf=new WeakMap,yf=new WeakMap,vf=new WeakMap,xf=new WeakMap,wf=new WeakMap,bf=new WeakMap,Ef=new WeakMap,Sf=new WeakSet;class Nf extends Id{constructor(e,t){super(e,t),nt(this,Sf),Be(this,gf,void 0),Be(this,yf,void 0),Be(this,vf,void 0),Be(this,xf,void 0),Be(this,wf,void 0),Be(this,bf,void 0),Be(this,Ef,void 0),He(yf,this,1),He(gf,this,Object.assign({},mf,t||{})),He(vf,this,[]),He(xf,this,null),He(bf,this,null),He(Ef,this,null);{let e=null;const t=new Promise(t=>{e=t});He(wf,this,{promise:t,resolve:e})}const n=this._getOption("staticNetwork");"boolean"===typeof n?(Ze(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&He(bf,this,Rh.from(e))):n&&(Ze(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),He(bf,this,n))}_getOption(e){return ze(gf,this)[e]}get _network(){return Xe(ze(bf,this),"network is not available yet","NETWORK_ERROR"),ze(bf,this)}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&kt(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(ze(bf,this))return ze(bf,this)}return ze(Ef,this)?await ze(Ef,this):this.ready?(He(Ef,this,(async()=>{try{const e=Rh.from(kt(await this.send("eth_chainId",[])));return He(Ef,this,null),e}catch(e){throw He(Ef,this,null),e}})()),await ze(Ef,this)):(He(Ef,this,(async(e,t)=>{const n={id:(He(yf,this,(e=ze(yf,this),t=e++,e)),t),method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:n});try{r=(await this._send(n))[0],He(Ef,this,null)}catch(s){throw He(Ef,this,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Rh.from(kt(r.result));throw this.getRpcError(n,r)})()),await ze(Ef,this))}_start(){null!=ze(wf,this)&&null!=ze(wf,this).resolve&&(ze(wf,this).resolve(),He(wf,this,null),(async()=>{for(;null==ze(bf,this)&&!this.destroyed;)try{He(bf,this,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ye("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await hf(1e3)}Ve(Sf,this,Af).call(this)})())}async _waitUntilReady(){if(null!=ze(wf,this))return await ze(wf,this).promise}_getSubscriber(e){return"pending"===e.type?new lf(this):"event"===e.type?this._getOption("polling")?new ld(this,e.filter):new of(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new fd("orphan"):super._getSubscriber(e)}get ready(){return null==ze(wf,this)}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=Rt(kt(e[n],"tx.".concat(n)))}),["from","to","data"].forEach(n=>{null!=e[n]&&(t[n]=mt(e[n]))}),e.accessList&&(t.accessList=li(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{const t=Si(e);return{address:t.address,nonce:Rt(t.nonce),chainId:Rt(t.chainId),yParity:Rt(t.signature.yParity),r:Rt(t.signature.r),s:Rt(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[df(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[df(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[df(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[df(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(df):e.filter.address=df(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return Ye("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(t.match(/nonce/i)&&t.match(/too low/i))return Ye("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Tf(r),s=Os.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return s.info={error:r,payload:e},s}const s=JSON.stringify(function(e){const t=[];return jf(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return Ye("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Ye("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return Ye("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Ye("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(s.match(/only replay-protected/i))return Ye("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let i=!!s.match(/the method .* does not exist/i);return i||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(i=!0),i?Ye("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):Ye("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){var n,r;if(this.destroyed)return Promise.reject(Ye("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const s=(He(yf,this,(n=ze(yf,this),r=n++,n)),r),i=new Promise((n,r)=>{ze(vf,this).push({resolve:n,reject:r,payload:{method:e,params:t,id:s,jsonrpc:"2.0"}})});return Ve(Sf,this,Af).call(this),i}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new pf(this,n[e])}const{accounts:n}=await We({network:this.getNetwork(),accounts:t});e=nr(e);for(const r of n)if(nr(r)===e)return new pf(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new pf(this,e))}destroy(){ze(xf,this)&&(clearTimeout(ze(xf,this)),He(xf,this,null));for(const{payload:e,reject:t}of ze(vf,this))t(Ye("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));He(vf,this,[]),super.destroy()}}function Af(){if(ze(xf,this))return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");He(xf,this,setTimeout(()=>{He(xf,this,null);const e=ze(vf,this);for(He(vf,this,[]);e.length;){const t=[e.shift()];for(;e.length&&t.length!==ze(gf,this).batchMaxCount;){t.push(e.shift());if(JSON.stringify(t.map(e=>e.payload)).length>ze(gf,this).batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:s}of t){if(this.destroyed){r(Ye("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:s.method}));continue}const t=n.filter(e=>e.id===s.id)[0];if(null==t){const e=Ye("missing response for request","BAD_DATA",{value:n,info:{payload:s}});this.emit("error",e),r(e);continue}"error"in t?r(this.getRpcError(s,t)):e(t.result)}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}},e))}var kf=new WeakMap;class Cf extends Nf{constructor(e,t){super(e,t),Be(this,kf,void 0);let n=this._getOption("pollingInterval");null==n&&(n=mf.pollingInterval),He(kf,this,n)}_getSubscriber(e){const t=super._getSubscriber(e);return ff(t)&&(t.pollingInterval=ze(kf,this)),t}get pollingInterval(){return ze(kf,this)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");He(kf,this,e),this._forEachSubscriber(e=>{ff(e)&&(e.pollingInterval=ze(kf,this))})}}function Tf(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&ht(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=Tf(e[t]);if(n)return n}return null}if("string"===typeof e)try{return Tf(JSON.parse(e))}catch(t){}return null}function jf(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)jf(e[n],t);if("string"===typeof e)try{return jf(JSON.parse(e),t)}catch(n){}}}var Pf,If=new WeakMap,_f=new WeakMap;class Rf extends Cf{constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});Ze(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),Be(this,If,void 0),Be(this,_f,void 0),He(_f,this,null),n&&n.providerInfo&&He(_f,this,n.providerInfo),He(If,this,async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(GV){const t=new Error(GV.message);throw t.code=GV.code,t.data=GV.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}})}get providerInfo(){return ze(_f,this)}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){Ze(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await ze(If,this).call(this,e.method,e.params||[]);return[{id:e.id,result:t}]}catch(GV){return[{id:e.id,error:{code:GV.code,data:GV.data,message:GV.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message="ethers-user-denied: ".concat(t.error.message);break;case 4200:t.error.message="ethers-unsupported: ".concat(t.error.message)}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await ze(If,this).call(this,"eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new Rf(e.provider);const t=e.window?e.window:"undefined"!==typeof window?window:null;if(null==t)return null;const n=e.anyProvider;if(n&&t.ethereum)return new Rf(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const r=e.timeout?e.timeout:300;return 0===r?null:await new Promise((s,i)=>{let a=[];const o=e=>{a.push(e.detail),n&&l()},l=()=>{if(clearTimeout(c),a.length)if(e&&e.filter){const t=e.filter(a.map(e=>Object.assign({},e.info)));if(null==t)s(null);else if(t instanceof Rf)s(t);else{let e=null;if(t.uuid){e=a.filter(e=>t.uuid===e.info.uuid)[0]}if(e){const{provider:t,info:n}=e;s(new Rf(t,void 0,{providerInfo:n}))}else i(Ye("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{const{provider:e,info:t}=a[0];s(new Rf(e,void 0,{providerInfo:t}))}else s(null);t.removeEventListener("eip6963:announceProvider",o)},c=setTimeout(()=>{l()},r);t.addEventListener("eip6963:announceProvider",o),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}const Df=BigInt(-1),Mf=BigInt(0),Of=BigInt(1),Lf=BigInt(5),Uf={};let Ff="0000";for(;Ff.length<80;)Ff+=Ff;function Bf(e){let t=Ff;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function Vf(e,t,n){const r=BigInt(t.width);if(t.signed){const t=Of<<r-Of;Xe(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>Mf?St(At(e,r),r):-St(At(-e,r),r)}else{const t=Of<<r;Xe(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-Of}return e}function zf(e){"number"===typeof e&&(e="fixed128x".concat(e));let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Ze(s,"invalid fixed format","format",e),t="u"!==s[1],n=parseInt(s[2]),r=parseInt(s[3])}else if(e){const s=e,i=(e,t,n)=>null==s[e]?n:(Ze(typeof s[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,s[e]),s[e]);t=i("signed","boolean",t),n=i("width","number",n),r=i("decimals","number",r)}Ze(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),Ze(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}var Hf=new WeakMap,Gf=new WeakMap,Wf=new WeakMap,qf=new WeakSet;class Qf{constructor(e,t,n){nt(this,qf),it(this,"format",void 0),Be(this,Hf,void 0),Be(this,Gf,void 0),Be(this,Wf,void 0),it(this,"_value",void 0),tt(e,Uf,"FixedNumber"),He(Gf,this,t),He(Hf,this,n);const r=function(e,t){let n="";e<Mf&&(n="-",e*=Df);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=Ff+r;const s=r.length-t;for(r=r.substring(0,s)+"."+r.substring(s);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);qe(this,{format:n.name,_value:r}),He(Wf,this,Bf(n.decimals))}get signed(){return ze(Hf,this).signed}get width(){return ze(Hf,this).width}get decimals(){return ze(Hf,this).decimals}get value(){return ze(Gf,this)}addUnsafe(e){return Ve(qf,this,Yf).call(this,e)}add(e){return Ve(qf,this,Yf).call(this,e,"add")}subUnsafe(e){return Ve(qf,this,Xf).call(this,e)}sub(e){return Ve(qf,this,Xf).call(this,e,"sub")}mulUnsafe(e){return Ve(qf,this,Zf).call(this,e)}mul(e){return Ve(qf,this,Zf).call(this,e,"mul")}mulSignal(e){Ve(qf,this,Kf).call(this,e);const t=ze(Gf,this)*ze(Gf,e);return Xe(t%ze(Wf,this)===Mf,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Ve(qf,this,Jf).call(this,t/ze(Wf,this),"mulSignal")}divUnsafe(e){return Ve(qf,this,$f).call(this,e)}div(e){return Ve(qf,this,$f).call(this,e,"div")}divSignal(e){Xe(ze(Gf,e)!==Mf,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ve(qf,this,Kf).call(this,e);const t=ze(Gf,this)*ze(Wf,this);return Xe(t%ze(Gf,e)===Mf,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Ve(qf,this,Jf).call(this,t/ze(Gf,e),"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=Bf(r):r<0&&(t*=Bf(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=ze(Gf,this);return ze(Gf,this)<Mf&&(e-=ze(Wf,this)-Of),e=ze(Gf,this)/ze(Wf,this)*ze(Wf,this),Ve(qf,this,Jf).call(this,e,"floor")}ceiling(){let e=ze(Gf,this);return ze(Gf,this)>Mf&&(e+=ze(Wf,this)-Of),e=ze(Gf,this)/ze(Wf,this)*ze(Wf,this),Ve(qf,this,Jf).call(this,e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=Lf*Bf(t-1);let r=this.value+n;const s=Bf(t);return r=r/s*s,Vf(r,ze(Hf,this),"round"),new Qf(Uf,r,ze(Hf,this))}isZero(){return ze(Gf,this)===Mf}isNegative(){return ze(Gf,this)<Mf}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Qf.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:Pt(t),s=zf(n);let i=kt(e,"value");const a=r-s.decimals;if(a>0){const t=Bf(a);Xe(i%t===Mf,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),i/=t}else a<0&&(i*=Bf(-a));return Vf(i,s,"fromValue"),new Qf(Uf,i,s)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Ze(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=zf(t);let s=n[2]||"0",i=n[3]||"";for(;i.length<r.decimals;)i+=Ff;Xe(i.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),i=i.substring(0,r.decimals);const a=BigInt(n[1]+s+i);return Vf(a,r,"fromString"),new Qf(Uf,a,r)}static fromBytes(e,t){let n=jt(ct(e,"value"));const r=zf(t);return r.signed&&(n=St(n,r.width)),Vf(n,r,"fromBytes"),new Qf(Uf,n,r)}}function Kf(e){Ze(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}function Jf(e,t){return e=Vf(e,ze(Hf,this),t),new Pf(Uf,e,ze(Hf,this))}function Yf(e,t){return Ve(qf,this,Kf).call(this,e),Ve(qf,this,Jf).call(this,ze(Gf,this)+ze(Gf,e),t)}function Xf(e,t){return Ve(qf,this,Kf).call(this,e),Ve(qf,this,Jf).call(this,ze(Gf,this)-ze(Gf,e),t)}function Zf(e,t){return Ve(qf,this,Kf).call(this,e),Ve(qf,this,Jf).call(this,ze(Gf,this)*ze(Gf,e)/ze(Wf,this),t)}function $f(e,t){return Xe(ze(Gf,e)!==Mf,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ve(qf,this,Kf).call(this,e),Ve(qf,this,Jf).call(this,ze(Gf,this)*ze(Wf,this)/ze(Gf,e),t)}Pf=Qf;const em=["wei","kwei","mwei","gwei","szabo","finney","ether"];function tm(e){return function(e,t){let n=18;if("string"===typeof t){const e=em.indexOf(t);Ze(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=Pt(t,"unit"));return Qf.fromValue(e,n,{decimals:n,width:512}).toString()}(e,18)}const nm=(0,a.createContext)(),rm=()=>{const e=(0,a.useContext)(nm);if(!e)throw new Error("useWallet must be used within a WalletProvider");return e},sm=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[h,d]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[x,w]=(0,a.useState)(null),[b,E]=(0,a.useState)(null),[S,N]=(0,a.useState)(null);(0,a.useEffect)(()=>{console.log("WalletContext: Checking wallet connection status...");const e=localStorage.getItem("walletConnected"),t=localStorage.getItem("walletAccount"),n=localStorage.getItem("walletType");console.log("Saved connection:",e,t,n),"true"===e&&t&&n&&(console.log("Attempting to reconnect wallet..."),T(n))},[]),(0,a.useEffect)(()=>{const e=setTimeout(async()=>{if(window.ethereum)try{if((await window.ethereum.request({method:"eth_accounts"})).length>0){const e=new Rf(window.ethereum),t=await e.getSigner(),n=await t.getAddress(),s=await e.getNetwork();v(e),w(t),i(n),E(s.chainId),r(!0);const a=localStorage.getItem("walletSignature"),o=localStorage.getItem("walletTimestamp"),l=o&&Date.now()-parseInt(o)<864e5;a&&l||setTimeout(()=>{d(!0)},1e3)}else setTimeout(()=>{d(!0)},1e3)}catch(e){console.error("Error auto-connecting wallet:",e),setTimeout(()=>{d(!0)},1e3)}else setTimeout(()=>{d(!0)},1e3)},2e3);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{if(window.ethereum)return window.ethereum.on("accountsChanged",A),window.ethereum.on("chainChanged",k),window.ethereum.on("disconnect",C),()=>{window.ethereum.removeListener("accountsChanged",A),window.ethereum.removeListener("chainChanged",k),window.ethereum.removeListener("disconnect",C)}},[]);const A=e=>{0===e.length?P():(i(e[0]),localStorage.setItem("walletAccount",e[0]),j(e[0]))},k=e=>{E(e),window.location.reload()},C=()=>{P()},T=async e=>{try{if("metamask"===e&&window.ethereum){const t=new Rf(window.ethereum);if((await t.listAccounts()).length>0){const n=await t.getSigner(),s=await n.getAddress(),a=await t.getNetwork();v(t),w(n),i(s),E(a.chainId),l(e),r(!0),u(!1),await j(s)}}}catch(t){console.error("Reconnection failed:",t),P()}},j=async e=>{if(y&&e)try{const t=tm(await y.getBalance(e));N(parseFloat(t).toFixed(4))}catch(t){console.error("Failed to fetch balance:",t)}},P=()=>{r(!1),i(null),l(null),v(null),w(null),E(null),N(null),u(!1),localStorage.removeItem("walletConnected"),localStorage.removeItem("walletAccount"),localStorage.removeItem("walletType")},I={isConnected:n,account:s,walletType:o,showWalletModal:c,showSignMessageModal:h,isConnecting:f,isSigning:p,provider:y,signer:x,chainId:b,balance:S,connectWallet:async e=>{m(!0);try{let t,n,s,a;if("metamask"===e){if("undefined"===typeof window.ethereum)throw new Error("MetaMask is not installed. Please install MetaMask to continue.");await window.ethereum.request({method:"eth_requestAccounts"}),t=new Rf(window.ethereum),n=await t.getSigner(),s=await n.getAddress(),a=await t.getNetwork();const e=[1,137,56,42161],r=Number(a.chainId);if(!e.includes(r))throw new Error("Please switch to a supported network. Current: ".concat(a.name))}else{if("walletconnect"===e)throw new Error("WalletConnect integration coming soon. Please use MetaMask for now.");if("coinbase"===e){if("undefined"===typeof window.ethereum)throw new Error("Coinbase Wallet is not installed. Please install Coinbase Wallet to continue.");await window.ethereum.request({method:"eth_requestAccounts"}),t=new Rf(window.ethereum),n=await t.getSigner(),s=await n.getAddress(),a=await t.getNetwork();const e=[1,137,56,42161],r=Number(a.chainId);if(!e.includes(r))throw new Error("Please switch to a supported network. Current: ".concat(a.name))}}if(s)return v(t),w(n),r(!0),i(s),l(e),E(a.chainId),u(!1),localStorage.setItem("walletConnected","true"),localStorage.setItem("walletAccount",s),localStorage.setItem("walletType",e),await j(s),setTimeout(()=>{d(!0)},500),!0}catch(t){console.error("Wallet connection failed:",t);let n=t.message;t.message.includes("User rejected")?n="Connection cancelled by user":t.message.includes("not installed")?n="Please install MetaMask or Coinbase Wallet to continue":t.message.includes("getAddress is not a function")&&(n="Wallet connection error. Please try again."),alert("Failed to connect ".concat(e,": ").concat(n))}finally{m(!1)}return!1},disconnectWallet:P,formatAddress:e=>e?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"",setShowWalletModal:u,setShowSignMessageModal:d,signMessage:async()=>{if(!x||!s)throw new Error("No wallet connected");g(!0);try{const e=Date.now(),t="welcome login".concat(e),n=await x.signMessage(t);return console.log("Message signed successfully:",n),localStorage.setItem("walletSignature",n),localStorage.setItem("walletMessage",t),localStorage.setItem("walletTimestamp",e.toString()),n}catch(e){throw console.error("Failed to sign message:",e),e}finally{g(!1)}},getNetworkName:e=>({1:"Ethereum",137:"Polygon",56:"BSC",42161:"Arbitrum",10:"Optimism",250:"Fantom"}[e]||"Chain ".concat(e)),switchNetwork:async e=>{if(!window.ethereum)return!1;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(e.toString(16))}]}),!0}catch(t){return console.error("Failed to switch network:",t),!1}},fetchBalance:j};return(0,Re.jsx)(nm.Provider,{value:I,children:t})},im=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},am={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,i||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(im(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new om;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class om extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lm=function(e){return function(e){const t=im(e);return am.encodeByteArray(t,!0)}(e).replace(/\./g,"")},cm=function(e){try{return am.decodeString(e,!0)}catch(GV){console.error("base64Decode failed: ",GV)}return null};function um(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const hm=()=>{try{return um().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/UBSS",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(GV){return}const t=e&&cm(e[1]);return t&&JSON.parse(t)})()}catch(GV){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(GV))}},dm=e=>{var t;return null===(t=hm())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},fm=e=>{const t=dm(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},mm=()=>{var e;return null===(e=hm())||void 0===e?void 0:e.config},pm=e=>{var t;return null===(t=hm())||void 0===t?void 0:t["_".concat(e)]};class gm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function ym(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function vm(e){return(await fetch(e,{credentials:"include"})).ok}function xm(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=ot({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[lm(JSON.stringify({alg:"none",type:"JWT"})),lm(JSON.stringify(i)),""].join(".")}const wm={};let bm=!1;function Em(e,t){if("undefined"===typeof window||"undefined"===typeof document||!ym(window.location.host)||wm[e]===t||wm[e]||bm)return;function n(e){return"__firebase__banner__".concat(e)}wm[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(wm))wm[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{bm=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Sm(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Nm(){var e;const t=null===(e=hm())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(GV){return!1}}function Am(){return!Nm()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function km(){try{return"object"===typeof indexedDB}catch(GV){return!1}}class Cm extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Cm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tm.prototype.create)}}class Tm{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(jm,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new Cm(n,i,t)}}const jm=/\{\$([^}]+)}/g;function Pm(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(Im(n)&&Im(i)){if(!Pm(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Im(e){return null!==e&&"object"===typeof e}function _m(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Rm(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Dm(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Mm{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Om),void 0===r.error&&(r.error=Om),void 0===r.complete&&(r.complete=Om);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(GV){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(GV){"undefined"!==typeof console&&console.error&&console.error(GV)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Om(){}function Lm(e){return e&&e._delegate?e._delegate:e}class Um{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fm="[DEFAULT]";class Bm{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gm;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(GV){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(GV){if(r)return null;throw GV}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fm})}catch(GV){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(GV){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fm;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fm;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fm;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===Fm?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fm;return this.component?this.component.multipleInstances?e:Fm:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Bm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const zm=[];var Hm;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Hm||(Hm={}));const Gm={debug:Hm.DEBUG,verbose:Hm.VERBOSE,info:Hm.INFO,warn:Hm.WARN,error:Hm.ERROR,silent:Hm.SILENT},Wm=Hm.INFO,qm={[Hm.DEBUG]:"log",[Hm.VERBOSE]:"log",[Hm.INFO]:"info",[Hm.WARN]:"warn",[Hm.ERROR]:"error"},Qm=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=qm[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Km{constructor(e){this.name=e,this._logLevel=Wm,this._logHandler=Qm,this._userLogHandler=null,zm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Hm))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Gm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hm.DEBUG,...t),this._logHandler(this,Hm.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hm.VERBOSE,...t),this._logHandler(this,Hm.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hm.INFO,...t),this._logHandler(this,Hm.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hm.WARN,...t),this._logHandler(this,Hm.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Hm.ERROR,...t),this._logHandler(this,Hm.ERROR,...t)}}let Jm,Ym;const Xm=new WeakMap,Zm=new WeakMap,$m=new WeakMap,ep=new WeakMap,tp=new WeakMap;let np={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Zm.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$m.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ip(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function rp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ym||(Ym=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ap(this),n),ip(Xm.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ip(e.apply(ap(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(ap(this),t,...r);return $m.set(i,t.sort?t.sort():[t]),ip(i)}}function sp(e){return"function"===typeof e?rp(e):(e instanceof IDBTransaction&&function(e){if(Zm.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Zm.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Jm||(Jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,np):e)}function ip(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(ip(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Xm.set(t,e)}).catch(()=>{}),tp.set(t,e),t}(e);if(ep.has(e))return ep.get(e);const t=sp(e);return t!==e&&(ep.set(e,t),tp.set(t,e)),t}const ap=e=>tp.get(e);const op=["get","getKey","getAll","getAllKeys","count"],lp=["put","add","delete","clear"],cp=new Map;function up(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(cp.get(t))return cp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=lp.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!op.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return cp.set(t,i),i}np=(e=>ot(ot({},e),{},{get:(t,n,r)=>up(t,n)||e.get(t,n,r),has:(t,n)=>!!up(t,n)||e.has(t,n)}))(np);class hp{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const dp="@firebase/app",fp="0.14.4",mp=new Km("@firebase/app"),pp="@firebase/app-compat",gp="@firebase/analytics-compat",yp="@firebase/analytics",vp="@firebase/app-check-compat",xp="@firebase/app-check",wp="@firebase/auth",bp="@firebase/auth-compat",Ep="@firebase/database",Sp="@firebase/data-connect",Np="@firebase/database-compat",Ap="@firebase/functions",kp="@firebase/functions-compat",Cp="@firebase/installations",Tp="@firebase/installations-compat",jp="@firebase/messaging",Pp="@firebase/messaging-compat",Ip="@firebase/performance",_p="@firebase/performance-compat",Rp="@firebase/remote-config",Dp="@firebase/remote-config-compat",Mp="@firebase/storage",Op="@firebase/storage-compat",Lp="@firebase/firestore",Up="@firebase/ai",Fp="@firebase/firestore-compat",Bp="firebase",Vp="[DEFAULT]",zp={[dp]:"fire-core",[pp]:"fire-core-compat",[yp]:"fire-analytics",[gp]:"fire-analytics-compat",[xp]:"fire-app-check",[vp]:"fire-app-check-compat",[wp]:"fire-auth",[bp]:"fire-auth-compat",[Ep]:"fire-rtdb",[Sp]:"fire-data-connect",[Np]:"fire-rtdb-compat",[Ap]:"fire-fn",[kp]:"fire-fn-compat",[Cp]:"fire-iid",[Tp]:"fire-iid-compat",[jp]:"fire-fcm",[Pp]:"fire-fcm-compat",[Ip]:"fire-perf",[_p]:"fire-perf-compat",[Rp]:"fire-rc",[Dp]:"fire-rc-compat",[Mp]:"fire-gcs",[Op]:"fire-gcs-compat",[Lp]:"fire-fst",[Fp]:"fire-fst-compat",[Up]:"fire-vertex","fire-js":"fire-js",[Bp]:"fire-js-all"},Hp=new Map,Gp=new Map,Wp=new Map;function qp(e,t){try{e.container.addComponent(t)}catch(GV){mp.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),GV)}}function Qp(e){const t=e.name;if(Wp.has(t))return mp.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wp.set(t,e);for(const n of Hp.values())qp(n,e);for(const n of Gp.values())qp(n,e);return!0}function Kp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Jp(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Yp=new Tm("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xp{constructor(e,t,n){this._isDeleted=!1,this._options=ot({},e),this._config=ot({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Um("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yp.create("app-deleted",{appName:this._name})}}const Zp="12.4.0";function $p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=ot({name:Vp,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw Yp.create("bad-app-name",{appName:String(s)});if(n||(n=mm()),!n)throw Yp.create("no-options");const i=Hp.get(s);if(i){if(Pm(n,i.options)&&Pm(r,i.config))return i;throw Yp.create("duplicate-app",{appName:s})}const a=new Vm(s);for(const l of Wp.values())a.addComponent(l);const o=new Xp(n,r,a);return Hp.set(s,o),o}function eg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vp;const t=Hp.get(e);if(!t&&e===Vp&&mm())return $p();if(!t)throw Yp.create("no-app",{appName:e});return t}function tg(e,t,n){var r;let s=null!==(r=zp[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void mp.warn(e.join(" "))}Qp(new Um("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const ng="firebase-heartbeat-store";let rg=null;function sg(){return rg||(rg=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ip(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ip(a.result),e.oldVersion,e.newVersion,ip(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ng)}catch(GV){console.warn(GV)}}}).catch(e=>{throw Yp.create("idb-open",{originalErrorMessage:e.message})})),rg}async function ig(e,t){try{const n=(await sg()).transaction(ng,"readwrite"),r=n.objectStore(ng);await r.put(t,ag(e)),await n.done}catch(GV){if(GV instanceof Cm)mp.warn(GV.message);else{const t=Yp.create("idb-set",{originalErrorMessage:null===GV||void 0===GV?void 0:GV.message});mp.warn(t.message)}}}function ag(e){return"".concat(e.name,"!").concat(e.options.appId)}class og{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cg(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lg();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(GV){mp.warn(GV)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=lg(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),ug(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ug(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=lm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(GV){return mp.warn(GV),""}}}function lg(){return(new Date).toISOString().substring(0,10)}class cg{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!km()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await sg()).transaction(ng),n=await t.objectStore(ng).get(ag(e));return await t.done,n}catch(GV){if(GV instanceof Cm)mp.warn(GV.message);else{const t=Yp.create("idb-get",{originalErrorMessage:null===GV||void 0===GV?void 0:GV.message});mp.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ig(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ig(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ug(e){return lm(JSON.stringify({version:2,heartbeats:e})).length}var hg;hg="",Qp(new Um("platform-logger",e=>new hp(e),"PRIVATE")),Qp(new Um("heartbeat",e=>new og(e),"PRIVATE")),tg(dp,fp,hg),tg(dp,fp,"esm2020"),tg("fire-js","");var dg,fg,mg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},pg={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var s=0;s<16;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;s<16;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];let i,a=e.g[3];i=t+(a^n&(s^a))+r[0]+3614090360&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[1]+3905402710&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[2]+606105819&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[3]+3250441966&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[4]+4118548399&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[5]+1200080426&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[7]+4249261313&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[8]+1770035416&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[9]+2336552879&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[11]+2304563134&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[12]+1804603682&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[13]+4254626195&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[15]+1236535329&4294967295,i=t+(s^a&((n=s+(i<<22&4294967295|i>>>10))^s))+r[1]+4129170786&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[11]+643717713&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[0]+3921069994&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[5]+3593408605&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[15]+3634488961&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[4]+3889429448&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[9]+568446438&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[3]+4107603335&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[8]+1163531501&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[13]+2850285829&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[7]+1735328473&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[12]+2368359562&4294967295,i=t+((n=s+(i<<20&4294967295|i>>>12))^s^a)+r[5]+4294588738&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[8]+2272392833&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[11]+1839030562&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[14]+4259657740&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[1]+2763975236&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[4]+1272893353&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[7]+4139469664&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[10]+3200236656&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[13]+681279174&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[0]+3936430074&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[3]+3572445317&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[6]+76029189&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[9]+3654602809&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[12]+3873151461&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[15]+530742520&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[2]+3299628645&4294967295,i=t+(s^((n=s+(i<<23&4294967295|i>>>9))|~a))+r[0]+4096336452&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[7]+1126891415&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[14]+2878612391&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[12]+1700485571&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[3]+2399980690&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[10]+4293915773&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[8]+1873313359&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[15]+4264355552&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[6]+2734768916&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[4]+4149444226&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[11]+3174756917&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[2]+718787259&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let s=e.length-1;s>=0;s--){const i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,s=this.C;let i=this.h,a=0;for(;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function i(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return d(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(h(e))return t=g(d(e),t),new p(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new p(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var s=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);c.l(e)<=0&&(s=s.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,s.j(t)),new p(s,t)}for(s=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(i=a(n)).j(t);h(c)||c.l(e)>0;)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new p(s,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const s=e.g.length-n,i=[];for(let r=0;r<s;r++)i[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const s=g(n,t).g;let i=(((n=f(n,s.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let s=0;for(let r=0;r<=t;r++){let t=s+(65535&this.i(r))+(65535&e.i(r)),i=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);s=i>>>16,t&=65535,i&=65535,n[r]=i<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(let t=0;t<e.g.length;t++){const r=this.i(s)>>>16,i=65535&this.i(s),a=e.i(t)>>>16,o=65535&e.i(t);n[2*s+2*t]+=i*o,m(n,2*s+2*t),n[2*s+2*t+1]+=r*o,m(n,2*s+2*t+1),n[2*s+2*t+1]+=i*a,m(n,2*s+2*t+1),n[2*s+2*t+2]+=r*a,m(n,2*s+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,fg=pg.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let s=o;for(let o=0;o<t.length;o+=8){var i=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+i),n);i<8?(i=a(Math.pow(n,i)),s=s.j(i).add(a(e))):(s=s.j(r),s=s.add(a(e)))}return s},dg=pg.Integer=r}).apply("undefined"!==typeof mg?mg:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var gg,yg,vg,xg,wg,bg,Eg,Sg,Ng="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ag={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ng&&Ng];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var s=s||{},i=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function m(e){i.setTimeout(()=>{throw e},0)}function p(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,x=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},b=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(E)}};function E(){for(var e;e=p();){try{e.h.call(e.g)}catch(n){m(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}x=!1}function S(){this.u=this.u,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,N),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),j=0;function P(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++j,this.da=this.fa=!1}function I(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function _(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=i>=0)&&Array.prototype.splice.call(s,i,1),r&&(I(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function U(e,t,n,r){for(let s=0;s<e.length;++s){const i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}O.prototype.add=function(e,t,n,r,s){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const a=U(e,t,r,s);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new P(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),B={};function V(e,t,n,r,s){if(r&&r.once)return H(e,t,n,r,s);if(Array.isArray(t)){for(let i=0;i<t.length;i++)V(e,t[i],n,r,s);return null}return n=Y(n),e&&e[T]?e.J(t,n,a(r)?!!r.capture:!!r,s):z(e,t,n,!1,r,s)}function z(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");const o=a(s)?!!s.capture:!!s;let l=K(e);if(l||(e[F]=l=new O(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,s){if(Array.isArray(t)){for(let i=0;i<t.length;i++)H(e,t[i],n,r,s);return null}return n=Y(n),e&&e[T]?e.K(t,n,a(r)?!!r.capture:!!r,s):z(e,t,n,!0,r,s)}function G(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=Y(n),e&&e[T]?(e=e.i,(i=String(t).toString())in e.g&&((n=U(t=e.g[i],n,r,s))>-1&&(I(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=K(e))&&(t=e.g[t.toString()],e=-1,t&&(e=U(t,n,r,s)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=K(t))?(L(n,e),0==n.h&&(n.src=null,t[F]=null)):I(e)}}}function q(e){return e in B?B[e]:B[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function K(e){return(e=e[F])instanceof O?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(e){return"function"===typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function X(){S.call(this),this.i=new O(this),this.M=this,this.G=null}function Z(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var s=t;M(t=new N(r,e),s)}let i,a;if(s=!0,n)for(a=n.length-1;a>=0;a--)i=t.g=n[a],s=$(i,r,!0,t)&&s;if(i=t.g=e,s=$(i,r,!0,t)&&s,s=$(i,r,!1,t)&&s,n)for(a=0;a<n.length;a++)i=t.g=n[a],s=$(i,r,!1,t)&&s}function $(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let s=!0;for(let i=0;i<t.length;++i){const a=t[i];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&L(e.i,a),s=!1!==t.call(n,r)&&s}}return s&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(X,S),X.prototype[T]=!0,X.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},X.prototype.N=function(){if(X.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)I(n[e]);delete e.g[t],e.h--}}this.G=null},X.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},X.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function se(e){_(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),se(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=i.JSON.stringify,ae=i.JSON.parse,oe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){N.call(this,"d")}function de(){N.call(this,"c")}u(he,N),u(de,N);var fe={},me=null;function pe(){return me=me||new X}function ge(e){N.call(this,fe.Ia,e)}function ye(e){const t=pe();Z(t,new ge(t))}function ve(e,t){N.call(this,fe.STAT_EVENT,e),this.stat=t}function xe(e){const t=pe();Z(t,new ve(t,e))}function we(e,t){N.call(this,fe.Ja,e),this.size=t}function be(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ee(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(let e=1;e<r.length;e++)r[e]=""}}}return ie(i)}catch(i){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,N),fe.STAT_EVENT="statevent",u(ve,N),fe.Ja="timingevent",u(we,N),Ee.prototype.ua=function(){this.g=!1},Ee.prototype.info=function(){};var Ne,Ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ke={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Te(e){return encodeURIComponent(String(e))}function je(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},Ne=new Ce;var _e={},Re={};function De(e,t,n){e.M=1,e.A=it(et(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Ue(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ie,e.g=an(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var s="readystatechange";Array.isArray(s)||(s&&(re[0]=s.toString()),s=re);for(let i=0;i<s.length;i++){const e=V(n,s[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i){var a="",o=i.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Oe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Le(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?_e:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Ue(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=be(l(e.aa,e),t)}function Be(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function ze(e){Be(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,se(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ke(n.h,e)))if(!e.L&&Ke(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;$t(n),Ht(n)}Yt(n),xe(18)}}else n.xa=s[1],0<n.xa-n.K&&s[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=be(l(n.Va,n),6e3));Qe(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&$t(n),!k(t))for(s=n.Ba.g.parse(t),t=0;t<s.length;t++){let l=s[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const s=l[4];null!=s&&(n.za=s,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Je(i,i.h),i.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,st(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),a.L){Ye(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&(Be(o),Ue(o)),r.g=a}else Jt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):zt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ut(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ut(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||ye(),Be(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Oe(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,s=4==Ut(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return ze(e),Ve(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(s&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,s=this.g;if((r=s.g?s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,xe(12),ze(this),Ve(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Le(this,n),t==Re){4==l&&(this.m=4,xe(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==_e){this.m=4,xe(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),He(this,t)}if(Oe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,xe(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xt(o),o.P=!0,xe(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),ze(this),Ve(this)}else Se(this.i,this.l,n,null),He(this,n);4==l&&ze(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Ue(this)))}else(function(e){const t={};e=(e.g&&Ut(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=je(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),ze(this),Ve(this)}}}catch(iy){}},Pe.prototype.cancel=function(){this.K=!0,ze(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),xe(17)),ze(this),this.m=2,Ve(this)):Fe(this,this.T-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function Ke(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ye(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xe(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}We.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $e(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof $e?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Ze))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new mt(null,this.l))}function et(e){return new $e(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof mt?(e.i=t,function(e,t){t&&!e.j&&(pt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),xt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,dt)),e.i=new mt(t,e.l))}function st(e,t,n){e.i.set(t,n)}function it(e){return st(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$e.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(Te(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,ft)),e.join("")},$e.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var s=t.h.lastIndexOf("/");-1!=s&&(r=t.h.slice(0,s+1)+r)}if(".."==(s=r)||"."==s)r="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){r=0==s.lastIndexOf("/",0),s=s.split("/");const e=[];for(let t=0;t<s.length;){const n=s[t++];"."==n?r&&t==s.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==s.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=s}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function mt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let s,i=null;r>=0?(s=e[n].substring(0,r),i=e[n].substring(r+1)):s=e[n],t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){pt(e),t=bt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return pt(e),t=bt(e,t),e.g.has(t)}function vt(e,t){pt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(bt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function xt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(bt(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new mt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function bt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function St(){this.g=new oe}function Nt(e){this.i=e.Sb||null,this.h=e.ab||!1}function At(e,t){X.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function kt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Tt(e)}function Tt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return _(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"===typeof e?null!=n&&Te(n):st(e,t,n))}function It(e){X.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=mt.prototype).add=function(e,t){pt(this),this.i=null,e=bt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return pt(this),this.i=null,yt(this,e=bt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const s=Te(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=s;""!==n[t]&&(r+="="+Te(n[t])),e.push(r)}}return this.i=e.join("&")},u(Nt,le),Nt.prototype.g=function(){return new At(this.i,this.h)},u(At,X),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Tt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tt(this)),this.g&&(this.readyState=3,Tt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):Tt(this),3==this.readyState&&kt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(It,X);var _t=/^https?$/i,Rt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),Lt(e)}function Mt(e){e.A||(e.A=!0,Z(e,"complete"),Z(e,"error"))}function Ot(e){if(e.h&&"undefined"!=typeof s)if(e.v&&4==Ut(e))setTimeout(e.Ca.bind(e),0);else if(Z(e,"readystatechange"),4==Ut(e)){e.h=!1;try{const s=e.ca();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){let t=String(e.D).match(Ze)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!_t.test(t?t.toLowerCase():"")}n=r}if(n)Z(e,"complete"),Z(e,"success");else{e.o=6;try{var a=Ut(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Mt(e)}}finally{Lt(e)}}}function Lt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||Z(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ut(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ir){return null}}function Bt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bt("baseRetryDelayMs",5e3,e),this.Za=Bt("retryDelaySeedMs",1e4,e),this.Ta=Bt("forwardChannelMaxRetries",2,e),this.va=Bt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function zt(e){if(Gt(e),3==e.I){var t=e.V++,n=et(e.J);if(st(n,"SID",e.M),st(n,"RID",t),st(n,"TYPE","terminate"),Qt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=it(et(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=an(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ue(t)}rn(e)}function Ht(e){e.g&&(Xt(e),e.g.cancel(),e.g=null)}function Gt(e){Ht(e),e.v&&(i.clearTimeout(e.v),e.v=null),$t(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function Wt(e){if(!qe(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||b(),x||(v(),x=!0),w.add(t,e),e.D=0}}function qt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);st(r,"SID",e.M),st(r,"RID",n),st(r,"AID",e.K),Qt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Kt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Je(e.h,n),De(n,r,t)}function Qt(e,t){e.H&&_(e.H,function(e,n){st(t,n,e)}),e.l&&_({},function(e,n){st(t,n,e)})}function Kt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var i=s[c].g;const n=s[c].map;if((i-=t)<0)t=Math.max(0,s[c].g-100),l=!1;else try{i="req"+i+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=ie(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(Cg){throw e.push(i+"type="+encodeURIComponent("_badmap")),Cg}}catch(Cg){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Jt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||b(),x||(v(),x=!0),w.add(t,e),e.A=0}}function Yt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=be(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Xt(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function Zt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);st(t,"RID","rpc"),st(t,"SID",e.M),st(t,"AID",e.K),st(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&st(t,"TO",e.ia),st(t,"TYPE","xmlhttp"),Qt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=it(et(t)),n.u=null,n.R=!0,Me(n,e)}function $t(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){$t(e),Xt(e),e.g=null;var r=2}else{if(!Ke(e.h,t))return;n=t.G,Ye(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var s=e.D;Z(r=pe(),new we(r,n)),Wt(e)}else Jt(e);else if(3==(s=t.m)||0==s&&t.X>0||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=be(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Yt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),s){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new $e(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||tt(r,"https"),it(r),t?function(e,t){const n=new Ee;if(i.Image){const r=new Image;r.onload=c(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ee;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else xe(2);e.I=0,e.l&&e.l.pa(t),rn(e),Gt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Xe(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof $e?et(n):new $e(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;const e=new $e(null);r&&tt(e,r),t&&(e.g=t),s&&nt(e,s),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&st(r,n,t),st(r,"VER",e.ka),Qt(e,r),r}function an(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new It(new Nt({ab:n})):new It(e.ma)).Fa(e.L),t}function on(){}function ln(){}function cn(e,t){X.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!k(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=It.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ne.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Dt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Dt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Z(this,"complete"),Z(this,"abort"),Lt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),It.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Ot(this):this.Xa())},e.Xa=function(){Ot(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ut(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Pe(this,this.j,e);let i=this.o;if(this.U&&(i?(i=R(i),M(i,this.U)):i=this.U),null!==this.u||this.R||(s.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kt(this,s,t),st(n=et(this.J),"RID",e),st(n,"CVER",22),this.G&&st(n,"X-HTTP-Session-Id",this.G),Qt(this,n),i&&(this.R?t="headers="+Te(jt(i))+"&"+t:this.u&&Pt(n,this.u,i)),Je(this.h,s),this.Ra&&st(n,"TYPE","init"),this.S?(st(n,"$req",t),st(n,"SID","null"),s.U=!0,De(s,n,null)):De(s,n,t),this.I=2}}else 3==this.I&&(e?qt(this,e):0==this.i.length||qe(this.h)||qt(this))},e.Da=function(){if(this.v=null,Zt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=be(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Ht(this),Zt(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Yt(this),xe(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=on.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,X),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){zt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ie(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,on),dn.prototype.ra=function(){Z(this.g,"a")},dn.prototype.qa=function(e){Z(this.g,new un(e))},dn.prototype.pa=function(e){Z(this.g,new hn)},dn.prototype.oa=function(){Z(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Sg=Ag.createWebChannelTransport=function(){return new ln},Eg=Ag.getStatEventTarget=function(){return pe()},bg=Ag.Event=fe,wg=Ag.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,xg=Ag.ErrorCode=Ae,ke.COMPLETE="complete",vg=Ag.EventType=ke,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",X.prototype.listen=X.prototype.J,yg=Ag.WebChannel=ce,Ag.FetchXmlHttpFactory=Nt,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,gg=Ag.XhrIo=It}).apply("undefined"!==typeof Ng?Ng:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const kg="@firebase/firestore",Cg="4.9.2";class Tg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tg.UNAUTHENTICATED=new Tg(null),Tg.GOOGLE_CREDENTIALS=new Tg("google-credentials-uid"),Tg.FIRST_PARTY=new Tg("first-party-uid"),Tg.MOCK_USER=new Tg("mock-user");let jg="12.3.0";const Pg=new Km("@firebase/firestore");function Ig(){return Pg.logLevel}function _g(e){if(Pg.logLevel<=Hm.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Mg);Pg.debug("Firestore (".concat(jg,"): ").concat(e),...s)}}function Rg(e){if(Pg.logLevel<=Hm.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Mg);Pg.error("Firestore (".concat(jg,"): ").concat(e),...s)}}function Dg(e){if(Pg.logLevel<=Hm.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Mg);Pg.warn("Firestore (".concat(jg,"): ").concat(e),...s)}}function Mg(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Og(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Lg(e,r,n)}function Lg(e,t,n){let r="FIRESTORE (".concat(jg,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Rg(r),new Error(r)}function Ug(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Lg(t,s,r)}function Fg(e,t){return e}const Bg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vg extends Cm{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class zg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Hg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Gg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tg.UNAUTHENTICATED))}shutdown(){}}class Wg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qg{constructor(e){this.t=e,this.currentUser=Tg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ug(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new zg;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zg,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{_g("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(_g("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zg)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(_g("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ug("string"==typeof t.accessToken,31837,{l:t}),new Hg(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ug(null===e||"string"==typeof e,2055,{h:e}),new Tg(e)}}class Qg{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Tg.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Kg{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Qg(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tg.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yg{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jp(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ug(void 0===this.o,3512);const n=e=>{null!=e.error&&_g("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,_g("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{_g("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):_g("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ug("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Jg(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Zg{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Xg(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function $g(e,t){return e<t?-1:e>t?1:0}function ey(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),s=t.charAt(r);if(n!==s)return ry(n)===ry(s)?$g(n,s):ry(n)?1:-1}return $g(e.length,t.length)}const ty=55296,ny=57343;function ry(e){const t=e.charCodeAt(0);return t>=ty&&t<=ny}function sy(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const iy="__name__";class ay{constructor(e,t,n){void 0===t?t=0:t>e.length&&Og(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Og(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ay.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ay?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ay.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return $g(e.length,t.length)}static compareSegments(e,t){const n=ay.isNumericId(e),r=ay.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ay.extractNumericId(e).compare(ay.extractNumericId(t)):ey(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dg.fromString(e.substring(4,e.length-2))}}class oy extends ay{construct(e,t,n){return new oy(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Vg(Bg.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new oy(e)}static emptyPath(){return new oy([])}}const ly=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cy extends ay{construct(e,t,n){return new cy(e,t,n)}static isValidIdentifier(e){return ly.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cy.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===iy}static keyField(){return new cy([iy])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Vg(Bg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Vg(Bg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Vg(Bg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Vg(Bg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cy(t)}static emptyPath(){return new cy([])}}class uy{constructor(e){this.path=e}static fromPath(e){return new uy(oy.fromString(e))}static fromName(e){return new uy(oy.fromString(e).popFirst(5))}static empty(){return new uy(oy.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oy.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oy.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new uy(new oy(e.slice()))}}function hy(e,t,n){if(!n)throw new Vg(Bg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dy(e){if(!uy.isDocumentKey(e))throw new Vg(Bg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fy(e){if(uy.isDocumentKey(e))throw new Vg(Bg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function my(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function py(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Og(12329,{type:typeof e})}function gy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vg(Bg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=py(e);throw new Vg(Bg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function yy(e,t){const n={typeString:e};return t&&(n.value=t),n}function vy(e,t){if(!my(e))throw new Vg(Bg.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(s&&typeof a!==s){n="JSON field '".concat(r,"' must be a ").concat(s,".");break}if(void 0!==i&&a!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new Vg(Bg.INVALID_ARGUMENT,n);return!0}const xy=-62135596800,wy=1e6;class by{static now(){return by.fromMillis(Date.now())}static fromDate(e){return by.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*wy);return new by(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vg(Bg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vg(Bg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xy)throw new Vg(Bg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vg(Bg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wy}_compareTo(e){return this.seconds===e.seconds?$g(this.nanoseconds,e.nanoseconds):$g(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:by._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vy(e,by._jsonSchema))return new by(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}by._jsonSchemaVersion="firestore/timestamp/1.0",by._jsonSchema={type:yy("string",by._jsonSchemaVersion),seconds:yy("number"),nanoseconds:yy("number")};class Ey{static fromTimestamp(e){return new Ey(e)}static min(){return new Ey(new by(0,0))}static max(){return new Ey(new by(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sy=-1;class Ny{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ny.UNKNOWN_ID=-1;function Ay(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Ey.fromTimestamp(1e9===r?new by(n+1,0):new by(n,r));return new Cy(s,uy.empty(),t)}function ky(e){return new Cy(e.readTime,e.key,Sy)}class Cy{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Cy(Ey.min(),uy.empty(),Sy)}static max(){return new Cy(Ey.max(),uy.empty(),Sy)}}function Ty(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=uy.comparator(e.documentKey,t.documentKey),0!==n?n:$g(e.largestBatchId,t.largestBatchId))}const jy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Py{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Iy(e){if(e.code!==Bg.FAILED_PRECONDITION||e.message!==jy)throw e;_g("LocalStore","Unexpectedly lost primary lease")}class _y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Og(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _y((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _y?t:_y.resolve(t)}catch(e){return _y.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_y.reject(t)}static resolve(e){return new _y((t,n)=>{t(e)})}static reject(e){return new _y((t,n)=>{n(e)})}static waitFor(e){return new _y((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=_y.resolve(!1);for(const n of e)t=t.next(e=>e?_y.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new _y((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new _y((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function Ry(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dy(e){return"IndexedDbTransactionError"===e.name}class My{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}My.ce=-1;const Oy=-1;function Ly(e){return null==e}function Uy(e){return 0===e&&1/e==-1/0}function Fy(e){return"number"==typeof e&&Number.isInteger(e)&&!Uy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const By="\x01";function Vy(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Hy(t)),t=zy(e.get(n),t);return Hy(t)}function zy(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case By:n+="\x01\x11";break;default:n+=t}}return n}function Hy(e){return e+By+"\x01"}const Gy="remoteDocuments",Wy="owner",qy="mutationQueues",Qy="mutations";const Ky="documentMutations",Jy="remoteDocumentsV14",Yy="remoteDocumentGlobal",Xy="targets",Zy="targetDocuments",$y="targetGlobal",ev="collectionParents",tv="clientMetadata",nv="bundles",rv="namedQueries",sv="indexConfiguration",iv="indexState",av="indexEntries",ov="documentOverlays",lv="globals",cv=[qy,Qy,Ky,Gy,Xy,Wy,$y,Zy,tv,Yy,ev,nv,rv],uv=[qy,Qy,Ky,Jy,Xy,Wy,$y,Zy,tv,Yy,ev,nv,rv,ov],hv=uv,dv=[...hv,sv,iv,av];function fv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gv{constructor(e,t){this.comparator=e,this.root=t||vv.EMPTY}insert(e,t){return new gv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vv.BLACK,null,null))}remove(e){return new gv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yv(this.root,e,this.comparator,!1)}getReverseIterator(){return new yv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yv(this.root,e,this.comparator,!0)}}class yv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vv{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:vv.RED,this.left=null!=r?r:vv.EMPTY,this.right=null!=s?s:vv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new vv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Og(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Og(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Og(27949);return e+(this.isRed()?0:1)}}vv.EMPTY=null,vv.RED=!0,vv.BLACK=!1,vv.EMPTY=new class{constructor(){this.size=0}get key(){throw Og(57766)}get value(){throw Og(16141)}get color(){throw Og(16727)}get left(){throw Og(29726)}get right(){throw Og(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new vv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xv{constructor(e){this.comparator=e,this.data=new gv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(e){return new wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof xv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xv(this.comparator);return t.data=e,t}}class wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bv{constructor(e){this.fields=e,e.sort(cy.comparator)}static empty(){return new bv([])}unionWith(e){let t=new xv(cy.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new bv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sy(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ev extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ev("Invalid base64 string: "+e):e}}(e);return new Sv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Sv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $g(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sv.EMPTY_BYTE_STRING=new Sv("");const Nv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Av(e){if(Ug(!!e,39018),"string"==typeof e){let t=0;const n=Nv.exec(e);if(Ug(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kv(e.seconds),nanos:kv(e.nanos)}}function kv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Cv(e){return"string"==typeof e?Sv.fromBase64String(e):Sv.fromUint8Array(e)}const Tv="server_timestamp",jv="__type__",Pv="__previous_value__",Iv="__local_write_time__";function _v(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[jv])||void 0===t?void 0:t.stringValue)===Tv}function Rv(e){const t=e.mapValue.fields[Pv];return _v(t)?Rv(t):t}function Dv(e){const t=Av(e.mapValue.fields[Iv].timestampValue);return new by(t.seconds,t.nanos)}class Mv{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Ov="(default)";class Lv{constructor(e,t){this.projectId=e,this.database=t||Ov}static empty(){return new Lv("","")}get isDefaultDatabase(){return this.database===Ov}isEqual(e){return e instanceof Lv&&e.projectId===this.projectId&&e.database===this.database}}const Uv="__type__",Fv="__max__",Bv={mapValue:{fields:{__type__:{stringValue:Fv}}}},Vv="__vector__",zv="value";function Hv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_v(e)?4:ax(e)?9007199254740991:sx(e)?10:11:Og(28295,{value:e})}function Gv(e,t){if(e===t)return!0;const n=Hv(e);if(n!==Hv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dv(e).isEqual(Dv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Av(e.timestampValue),r=Av(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Cv(e.bytesValue).isEqual(Cv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kv(e.geoPointValue.latitude)===kv(t.geoPointValue.latitude)&&kv(e.geoPointValue.longitude)===kv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kv(e.integerValue)===kv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kv(e.doubleValue),r=kv(t.doubleValue);return n===r?Uy(n)===Uy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sy(e.arrayValue.values||[],t.arrayValue.values||[],Gv);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fv(n)!==fv(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Gv(n[s],r[s])))return!1;return!0}(e,t);default:return Og(52216,{left:e})}}function Wv(e,t){return void 0!==(e.values||[]).find(e=>Gv(e,t))}function qv(e,t){if(e===t)return 0;const n=Hv(e),r=Hv(t);if(n!==r)return $g(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $g(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kv(e.integerValue||e.doubleValue),r=kv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qv(e.timestampValue,t.timestampValue);case 4:return Qv(Dv(e),Dv(t));case 5:return ey(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Cv(e),r=Cv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=$g(n[s],r[s]);if(0!==e)return e}return $g(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$g(kv(e.latitude),kv(t.latitude));return 0!==n?n:$g(kv(e.longitude),kv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Kv(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,s,i){const a=e.fields||{},o=t.fields||{},l=null===(n=a[zv])||void 0===n?void 0:n.arrayValue,c=null===(r=o[zv])||void 0===r?void 0:r.arrayValue,u=$g((null===l||void 0===l||null===(s=l.values)||void 0===s?void 0:s.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Kv(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Bv.mapValue&&t===Bv.mapValue)return 0;if(e===Bv.mapValue)return 1;if(t===Bv.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=ey(r[a],i[a]);if(0!==e)return e;const t=qv(n[r[a]],s[i[a]]);if(0!==t)return t}return $g(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Og(23264,{he:n})}}function Qv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $g(e,t);const n=Av(e),r=Av(t),s=$g(n.seconds,r.seconds);return 0!==s?s:$g(n.nanos,r.nanos)}function Kv(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=qv(n[s],r[s]);if(e)return e}return $g(n.length,r.length)}function Jv(e){return Yv(e)}function Yv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Av(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Cv(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return uy.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Yv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Yv(e.fields[s]));return n+"}"}(e.mapValue):Og(61005,{value:e})}function Xv(e){switch(Hv(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rv(e);return t?16+Xv(t):16;case 5:return 2*e.stringValue.length;case 6:return Cv(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Xv(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return mv(e.fields,(e,n)=>{t+=e.length+Xv(n)}),t}(e.mapValue);default:throw Og(13486,{value:e})}}function Zv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $v(e){return!!e&&"integerValue"in e}function ex(e){return!!e&&"arrayValue"in e}function tx(e){return!!e&&"nullValue"in e}function nx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rx(e){return!!e&&"mapValue"in e}function sx(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Uv])||void 0===t?void 0:t.stringValue)===Vv}function ix(e){if(e.geoPointValue)return{geoPointValue:ot({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:ot({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mv(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ix(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ix(e.arrayValue.values[n]);return t}return ot({},e)}function ax(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Fv}class ox{constructor(e){this.value=e}static empty(){return new ox({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!rx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ix(t)}setAll(e){let t=cy.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=ix(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());rx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gv(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];rx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){mv(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ox(ix(this.value))}}function lx(e){const t=[];return mv(e.fields,(e,n)=>{const r=new cy([e]);if(rx(n)){const e=lx(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new bv(t)}class cx{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new cx(e,0,Ey.min(),Ey.min(),Ey.min(),ox.empty(),0)}static newFoundDocument(e,t,n,r){return new cx(e,1,t,Ey.min(),n,r,0)}static newNoDocument(e,t){return new cx(e,2,t,Ey.min(),Ey.min(),ox.empty(),0)}static newUnknownDocument(e,t){return new cx(e,3,t,Ey.min(),Ey.min(),ox.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ey.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ox.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ox.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ey.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cx&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cx(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ux{constructor(e,t){this.position=e,this.inclusive=t}}function hx(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?uy.comparator(uy.fromName(a.referenceValue),n.key):qv(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function dx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gv(e.position[n],t.position[n]))return!1;return!0}class fx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function mx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class px{}class gx extends px{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Nx(e,t,n):"array-contains"===t?new Tx(e,n):"in"===t?new jx(e,n):"not-in"===t?new Px(e,n):"array-contains-any"===t?new Ix(e,n):new gx(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ax(e,n):new kx(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(qv(t,this.value)):null!==t&&Hv(this.value)===Hv(t)&&this.matchesComparison(qv(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Og(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yx extends px{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yx(e,t)}matches(e){return vx(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vx(e){return"and"===e.op}function xx(e){return wx(e)&&vx(e)}function wx(e){for(const t of e.filters)if(t instanceof yx)return!1;return!0}function bx(e){if(e instanceof gx)return e.field.canonicalString()+e.op.toString()+Jv(e.value);if(xx(e))return e.filters.map(e=>bx(e)).join(",");{const t=e.filters.map(e=>bx(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ex(e,t){return e instanceof gx?function(e,t){return t instanceof gx&&e.op===t.op&&e.field.isEqual(t.field)&&Gv(e.value,t.value)}(e,t):e instanceof yx?function(e,t){return t instanceof yx&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ex(n,t.filters[r]),!0)}(e,t):void Og(19439)}function Sx(e){return e instanceof gx?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Jv(e.value))}(e):e instanceof yx?function(e){return e.op.toString()+" {"+e.getFilters().map(Sx).join(" ,")+"}"}(e):"Filter"}class Nx extends gx{constructor(e,t,n){super(e,t,n),this.key=uy.fromName(n.referenceValue)}matches(e){const t=uy.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ax extends gx{constructor(e,t){super(e,"in",t),this.keys=Cx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kx extends gx{constructor(e,t){super(e,"not-in",t),this.keys=Cx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>uy.fromName(e.referenceValue))}class Tx extends gx{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ex(t)&&Wv(t.arrayValue,this.value)}}class jx extends gx{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wv(this.value.arrayValue,t)}}class Px extends gx{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Wv(this.value.arrayValue,t)}}class Ix extends gx{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ex(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Wv(this.value.arrayValue,e))}}class _x{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Te=null}}function Rx(e){return new _x(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Dx(e){const t=Fg(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>bx(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ly(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Jv(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Jv(e)).join(",")),t.Te=e}return t.Te}function Mx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ex(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dx(e.startAt,t.startAt)&&dx(e.endAt,t.endAt)}function Ox(e){return uy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Lx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ux(e,t,n,r,s,i,a,o){return new Lx(e,t,n,r,s,i,a,o)}function Fx(e){return new Lx(e)}function Bx(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vx(e){return null!==e.collectionGroup}function zx(e){const t=Fg(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new xv(cy.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new fx(r,n))}),e.has(cy.keyField().canonicalString())||t.Ie.push(new fx(cy.keyField(),n))}return t.Ie}function Hx(e){const t=Fg(e);return t.Ee||(t.Ee=Gx(t,zx(e))),t.Ee}function Gx(e,t){if("F"===e.limitType)return Rx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new fx(e.field,t)});const n=e.endAt?new ux(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ux(e.startAt.position,e.startAt.inclusive):null;return Rx(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Wx(e,t){const n=e.filters.concat([t]);return new Lx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qx(e,t,n){return new Lx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qx(e,t){return Mx(Hx(e),Hx(t))&&e.limitType===t.limitType}function Kx(e){return"".concat(Dx(Hx(e)),"|lt:").concat(e.limitType)}function Jx(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Sx(e)).join(", "),"]")),Ly(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Jv(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Jv(e)).join(",")),"Target(".concat(t,")")}(Hx(e)),"; limitType=").concat(e.limitType,")")}function Yx(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):uy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of zx(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zx(e),t))&&!(e.endAt&&!function(e,t,n){const r=hx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zx(e),t))}(e,t)}function Xx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zx(e){return(t,n)=>{let r=!1;for(const s of zx(e)){const e=$x(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function $x(e,t,n){const r=e.field.isKeyField()?uy.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?qv(r,s):Og(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Og(19790,{direction:e.dir})}}class ew{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){mv(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}const tw=new gv(uy.comparator);function nw(){return tw}const rw=new gv(uy.comparator);function sw(){let e=rw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function iw(e){let t=rw;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function aw(){return lw()}function ow(){return lw()}function lw(){return new ew(e=>e.toString(),(e,t)=>e.isEqual(t))}const cw=new gv(uy.comparator),uw=new xv(uy.comparator);function hw(){let e=uw;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const dw=new xv($g);function fw(){return dw}function mw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uy(t)?"-0":t}}function pw(e){return{integerValue:""+e}}function gw(e,t){return Fy(t)?pw(t):mw(e,t)}class yw{constructor(){this._=void 0}}function vw(e,t,n){return e instanceof bw?function(e,t){const n={fields:{[jv]:{stringValue:Tv},[Iv]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_v(t)&&(t=Rv(t)),t&&(n.fields[Pv]=t),{mapValue:n}}(n,t):e instanceof Ew?Sw(e,t):e instanceof Nw?Aw(e,t):function(e,t){const n=ww(e,t),r=Cw(n)+Cw(e.Ae);return $v(n)&&$v(e.Ae)?pw(r):mw(e.serializer,r)}(e,t)}function xw(e,t,n){return e instanceof Ew?Sw(e,t):e instanceof Nw?Aw(e,t):n}function ww(e,t){return e instanceof kw?function(e){return $v(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class bw extends yw{}class Ew extends yw{constructor(e){super(),this.elements=e}}function Sw(e,t){const n=Tw(t);for(const r of e.elements)n.some(e=>Gv(e,r))||n.push(r);return{arrayValue:{values:n}}}class Nw extends yw{constructor(e){super(),this.elements=e}}function Aw(e,t){let n=Tw(t);for(const r of e.elements)n=n.filter(e=>!Gv(e,r));return{arrayValue:{values:n}}}class kw extends yw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Cw(e){return kv(e.integerValue||e.doubleValue)}function Tw(e){return ex(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class jw{constructor(e,t){this.field=e,this.transform=t}}class Pw{constructor(e,t){this.version=e,this.transformResults=t}}class Iw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Iw}static exists(e){return new Iw(void 0,e)}static updateTime(e){return new Iw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _w(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Rw{}function Dw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gw(e.key,Iw.none()):new Fw(e.key,e.data,Iw.none());{const n=e.data,r=ox.empty();let s=new xv(cy.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Bw(e.key,r,new bv(s.toArray()),Iw.none())}}function Mw(e,t,n){e instanceof Fw?function(e,t,n){const r=e.value.clone(),s=zw(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bw?function(e,t,n){if(!_w(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zw(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Vw(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ow(e,t,n,r){return e instanceof Fw?function(e,t,n,r){if(!_w(e.precondition,t))return n;const s=e.value.clone(),i=Hw(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bw?function(e,t,n,r){if(!_w(e.precondition,t))return n;const s=Hw(e.fieldTransforms,r,t),i=t.data;return i.setAll(Vw(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return _w(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Lw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=ww(r.transform,e||null);null!=s&&(null===n&&(n=ox.empty()),n.set(r.field,s))}return n||null}function Uw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sy(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ew&&t instanceof Ew||e instanceof Nw&&t instanceof Nw?sy(e.elements,t.elements,Gv):e instanceof kw&&t instanceof kw?Gv(e.Ae,t.Ae):e instanceof bw&&t instanceof bw}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fw extends Rw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bw extends Rw{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Vw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zw(e,t,n){const r=new Map;Ug(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,xw(a,o,n[s]))}return r}function Hw(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,vw(e,i,t))}return r}class Gw extends Rw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ww extends Rw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Mw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ow(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ow(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ow();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=Dw(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Ey.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hw())}isEqual(e){return this.batchId===e.batchId&&sy(this.mutations,e.mutations,(e,t)=>Uw(e,t))&&sy(this.baseMutations,e.baseMutations,(e,t)=>Uw(e,t))}}class Qw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ug(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=cw;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Qw(e,t,n,r)}}class Kw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Jw{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yw,Xw;function Zw(e){switch(e){case Bg.OK:return Og(64938);case Bg.CANCELLED:case Bg.UNKNOWN:case Bg.DEADLINE_EXCEEDED:case Bg.RESOURCE_EXHAUSTED:case Bg.INTERNAL:case Bg.UNAVAILABLE:case Bg.UNAUTHENTICATED:return!1;case Bg.INVALID_ARGUMENT:case Bg.NOT_FOUND:case Bg.ALREADY_EXISTS:case Bg.PERMISSION_DENIED:case Bg.FAILED_PRECONDITION:case Bg.ABORTED:case Bg.OUT_OF_RANGE:case Bg.UNIMPLEMENTED:case Bg.DATA_LOSS:return!0;default:return Og(15467,{code:e})}}function $w(e){if(void 0===e)return Rg("GRPC error has no .code"),Bg.UNKNOWN;switch(e){case Yw.OK:return Bg.OK;case Yw.CANCELLED:return Bg.CANCELLED;case Yw.UNKNOWN:return Bg.UNKNOWN;case Yw.DEADLINE_EXCEEDED:return Bg.DEADLINE_EXCEEDED;case Yw.RESOURCE_EXHAUSTED:return Bg.RESOURCE_EXHAUSTED;case Yw.INTERNAL:return Bg.INTERNAL;case Yw.UNAVAILABLE:return Bg.UNAVAILABLE;case Yw.UNAUTHENTICATED:return Bg.UNAUTHENTICATED;case Yw.INVALID_ARGUMENT:return Bg.INVALID_ARGUMENT;case Yw.NOT_FOUND:return Bg.NOT_FOUND;case Yw.ALREADY_EXISTS:return Bg.ALREADY_EXISTS;case Yw.PERMISSION_DENIED:return Bg.PERMISSION_DENIED;case Yw.FAILED_PRECONDITION:return Bg.FAILED_PRECONDITION;case Yw.ABORTED:return Bg.ABORTED;case Yw.OUT_OF_RANGE:return Bg.OUT_OF_RANGE;case Yw.UNIMPLEMENTED:return Bg.UNIMPLEMENTED;case Yw.DATA_LOSS:return Bg.DATA_LOSS;default:return Og(39323,{code:e})}}(Xw=Yw||(Yw={}))[Xw.OK=0]="OK",Xw[Xw.CANCELLED=1]="CANCELLED",Xw[Xw.UNKNOWN=2]="UNKNOWN",Xw[Xw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xw[Xw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xw[Xw.NOT_FOUND=5]="NOT_FOUND",Xw[Xw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xw[Xw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xw[Xw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xw[Xw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xw[Xw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xw[Xw.ABORTED=10]="ABORTED",Xw[Xw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xw[Xw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xw[Xw.INTERNAL=13]="INTERNAL",Xw[Xw.UNAVAILABLE=14]="UNAVAILABLE",Xw[Xw.DATA_LOSS=15]="DATA_LOSS";let eb=null;function tb(){return new TextEncoder}const nb=new dg([4294967295,4294967295],0);function rb(e){const t=tb().encode(e),n=new fg;return n.update(t),new Uint8Array(n.digest())}function sb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new dg([n,r],0),new dg([s,i],0)]}class ib{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ab("Invalid padding: ".concat(t));if(n<0)throw new ab("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ab("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ab("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=dg.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(dg.fromNumber(n)));return 1===r.compare(nb)&&(r=new dg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=rb(e),[n,r]=sb(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new ib(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=rb(e),[n,r]=sb(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ab extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ob{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,lb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ob(Ey.min(),r,new gv($g),nw(),hw())}}class lb{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new lb(n,t,hw(),hw(),hw())}}class cb{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ub{constructor(e,t){this.targetId=e,this.Ce=t}}class hb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sv.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class db{constructor(){this.ve=0,this.Fe=pb(),this.Me=Sv.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=hw(),t=hw(),n=hw();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Og(38017,{changeType:s})}}),new lb(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=pb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ug(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fb{constructor(e){this.Ge=e,this.ze=new Map,this.je=nw(),this.Je=mb(),this.He=mb(),this.Ye=new gv($g)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Og(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(Ox(i))if(0===n){const e=new uy(i.path);this.et(t,e,cx.newNoDocument(e,Ey.min()))}else Ug(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var s;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(s=eb)||void 0===s||s.lt(function(e,t,n,r,s,i,a,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===s,hashCount:null!==(i=null===h||void 0===h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===h||void 0===h||null===(o=h.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=Cv(n).toUint8Array()}catch(e){if(e instanceof Ev)return Dg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ib(i,r,s)}catch(e){return Dg(e instanceof ab?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.Ge.ht(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const s=this.ot(r);if(s){if(n.current&&Ox(s.target)){const t=new uy(s.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,cx.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=hw();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ob(e,t,this.Ye,this.je,n);return this.je=nw(),this.Je=mb(),this.He=mb(),this.Ye=new gv($g),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new db,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xv($g),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xv($g),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||_g("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new db),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function mb(){return new gv(uy.comparator)}function pb(){return new gv(uy.comparator)}const gb={asc:"ASCENDING",desc:"DESCENDING"},yb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vb={and:"AND",or:"OR"};class xb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wb(e,t){return e.useProto3Json||Ly(t)?t:{value:t}}function bb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Eb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sb(e,t){return bb(e,t.toTimestamp())}function Nb(e){return Ug(!!e,49232),Ey.fromTimestamp(function(e){const t=Av(e);return new by(t.seconds,t.nanos)}(e))}function Ab(e,t){return kb(e,t).canonicalString()}function kb(e,t){const n=function(e){return new oy(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Cb(e){const t=oy.fromString(e);return Ug(Qb(t),10190,{key:t.toString()}),t}function Tb(e,t){return Ab(e.databaseId,t.path)}function jb(e,t){const n=Cb(t);if(n.get(1)!==e.databaseId.projectId)throw new Vg(Bg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vg(Bg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new uy(Rb(n))}function Pb(e,t){return Ab(e.databaseId,t)}function Ib(e){const t=Cb(e);return 4===t.length?oy.emptyPath():Rb(t)}function _b(e){return new oy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rb(e){return Ug(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Db(e,t,n){return{name:Tb(e,t),fields:n.value.mapValue.fields}}function Mb(e,t){let n;if(t instanceof Fw)n={update:Db(e,t.key,t.value)};else if(t instanceof Gw)n={delete:Tb(e,t.key)};else if(t instanceof Bw)n={update:Db(e,t.key,t.data),updateMask:qb(t.fieldMask)};else{if(!(t instanceof Ww))return Og(16599,{Vt:t.type});n={verify:Tb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof bw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ew)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kw)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Og(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Og(27497)}(e,t.precondition)),n}function Ob(e,t){return{documents:[Pb(e,t.path)]}}function Lb(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Pb(e,s);const i=function(e){if(0!==e.length)return Wb(yx.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Hb(e.field),direction:Bb(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=wb(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:s}}function Ub(e){let t=Ib(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ug(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Fb(e);return t instanceof yx&&xx(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new fx(Gb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ly(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ux(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ux(n,t)}(n.endAt)),Ux(t,s,a,i,o,"F",l,c)}function Fb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gb(e.unaryFilter.field);return gx.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gb(e.unaryFilter.field);return gx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gb(e.unaryFilter.field);return gx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gb(e.unaryFilter.field);return gx.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Og(61313);default:return Og(60726)}}(e):void 0!==e.fieldFilter?function(e){return gx.create(Gb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Og(58110);default:return Og(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return yx.create(e.compositeFilter.filters.map(e=>Fb(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Og(1026)}}(e.compositeFilter.op))}(e):Og(30097,{filter:e})}function Bb(e){return gb[e]}function Vb(e){return yb[e]}function zb(e){return vb[e]}function Hb(e){return{fieldPath:e.canonicalString()}}function Gb(e){return cy.fromServerFormat(e.fieldPath)}function Wb(e){return e instanceof gx?function(e){if("=="===e.op){if(nx(e.value))return{unaryFilter:{field:Hb(e.field),op:"IS_NAN"}};if(tx(e.value))return{unaryFilter:{field:Hb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nx(e.value))return{unaryFilter:{field:Hb(e.field),op:"IS_NOT_NAN"}};if(tx(e.value))return{unaryFilter:{field:Hb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hb(e.field),op:Vb(e.op),value:e.value}}}(e):e instanceof yx?function(e){const t=e.getFilters().map(e=>Wb(e));return 1===t.length?t[0]:{compositeFilter:{op:zb(e.op),filters:t}}}(e):Og(54877,{filter:e})}function qb(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Qb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Kb{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ey.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ey.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Sv.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Kb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jb{constructor(e){this.yt=e}}function Yb(e){const t=Ub({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qx(t,t.limit,"L"):t}class Xb{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(kv(e.integerValue));else if("doubleValue"in e){const n=kv(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Uy(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Av(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Cv(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?ax(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):sx(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Og(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const s=zv,i=(null===(n=r[s].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(kv(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),uy.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Xb.Kt=new Xb;class Zb{constructor(){this.Cn=new $b}addToCollectionParentIndex(e,t){return this.Cn.add(t),_y.resolve()}getCollectionParents(e,t){return _y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return _y.resolve()}deleteFieldIndex(e,t){return _y.resolve()}deleteAllFieldIndexes(e){return _y.resolve()}createTargetIndexes(e,t){return _y.resolve()}getDocumentsMatchingTarget(e,t){return _y.resolve(null)}getIndexType(e,t){return _y.resolve(0)}getFieldIndexes(e,t){return _y.resolve([])}getNextCollectionGroupToUpdate(e){return _y.resolve(null)}getMinOffset(e,t){return _y.resolve(Cy.min())}getMinOffsetFromCollectionGroup(e,t){return _y.resolve(Cy.min())}updateCollectionGroup(e,t,n){return _y.resolve()}updateIndexEntries(e,t){return _y.resolve()}}class $b{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xv(oy.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xv(oy.comparator)).toArray()}}new Uint8Array(0);const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class nE{static withCacheSize(e){return new nE(e,nE.DEFAULT_COLLECTION_PERCENTILE,nE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}nE.DEFAULT_COLLECTION_PERCENTILE=10,nE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nE.DEFAULT=new nE(tE,nE.DEFAULT_COLLECTION_PERCENTILE,nE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nE.DISABLED=new nE(-1,0,0);class rE{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rE(0)}static cr(){return new rE(-1)}}const sE="LruGarbageCollector",iE=1048576;function aE(e,t){let[n,r]=e,[s,i]=t;const a=$g(n,s);return 0===a?$g(r,i):a}class oE{constructor(e){this.Ir=e,this.buffer=new xv(aE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();aE(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lE{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){_g(sE,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Dy(e)?_g(sE,"Ignoring IndexedDB error during garbage collection: ",e):await Iy(e)}await this.Vr(3e5)})}}class cE{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return _y.resolve(My.ce);const n=new oE(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_g("LruGarbageCollector","Garbage collection skipped; disabled"),_y.resolve(eE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(_g("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),eE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(_g("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ig()<=Hm.DEBUG&&_g("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),_y.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function uE(e,t){return new cE(e,t)}class hE{constructor(){this.changes=new ew(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cx.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_y.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fE{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ow(n.mutation,e,bv.empty(),by.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,hw()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hw();const r=aw();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=sw();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=aw();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,hw()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=nw();const i=lw(),a=lw();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Bw)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Ow(a.mutation,t,a.mutation.getFieldMask(),by.now())):i.set(t.key,bv.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new dE(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=lw();let r=new gv((e,t)=>e-t),s=hw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||bv.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||hw()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=ow();l.forEach(e=>{if(!s.has(e)){const r=Dw(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return _y.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return uy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):_y.resolve(aw());let a=Sy,o=s;return i.next(t=>_y.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?_y.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,hw())).next(e=>({batchId:a,changes:iw(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new uy(t)).next(e=>{let t=sw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=sw();return this.indexManager.getCollectionParents(e,s).next(a=>_y.forEach(a,a=>{const o=function(e,t){return new Lx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cx.newInvalidDocument(r)))});let n=sw();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&Ow(i.mutation,r,bv.empty(),by.now()),Yx(t,r)&&(n=n.insert(e,r))}),n})}}class mE{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return _y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Nb(e.createTime)}}(t)),_y.resolve()}getNamedQuery(e,t){return _y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Yb(e.bundledQuery),readTime:Nb(e.readTime)}}(t)),_y.resolve()}}class pE{constructor(){this.overlays=new gv(uy.comparator),this.qr=new Map}getOverlay(e,t){return _y.resolve(this.overlays.get(t))}getOverlays(e,t){const n=aw();return _y.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),_y.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),_y.resolve()}getOverlaysForCollection(e,t,n){const r=aw(),s=t.length+1,i=new uy(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _y.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new gv((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=aw(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=aw(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return _y.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kw(t,n));let s=this.qr.get(t);void 0===s&&(s=hw(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class gE{constructor(){this.sessionToken=Sv.EMPTY_BYTE_STRING}getSessionToken(e){return _y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_y.resolve()}}class yE{constructor(){this.Qr=new xv(vE.$r),this.Ur=new xv(vE.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new vE(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new vE(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new uy(new oy([])),n=new vE(t,e),r=new vE(t,e+1),s=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),s.push(e.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new uy(new oy([])),n=new vE(t,e),r=new vE(t,e+1);let s=hw();return this.Ur.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new vE(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vE{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return uy.comparator(e.key,t.key)||$g(e.Yr,t.Yr)}static Kr(e,t){return $g(e.Yr,t.Yr)||uy.comparator(e.key,t.key)}}class xE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xv(vE.$r)}checkEmpty(e){return _y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new qw(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new vE(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _y.resolve(i)}lookupMutationBatch(e,t){return _y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return _y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _y.resolve(0===this.mutationQueue.length?Oy:this.tr-1)}getAllMutationBatches(e){return _y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vE(t,0),r=new vE(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);s.push(t)}),_y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xv($g);return t.forEach(e=>{const t=new vE(e,0),r=new vE(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),_y.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;uy.isDocumentKey(s)||(s=s.child(""));const i=new vE(new uy(s),0);let a=new xv($g);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},i),_y.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ug(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return _y.forEach(t.mutations,r=>{const s=new vE(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new vE(t,0),r=this.Zr.firstAfterOrEqual(n);return _y.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_y.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wE{constructor(e){this.ri=e,this.docs=new gv(uy.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _y.resolve(n?n.document.mutableCopy():cx.newInvalidDocument(t))}getEntries(e,t){let n=nw();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cx.newInvalidDocument(e))}),_y.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=nw();const i=t.path,a=new uy(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Ty(ky(a),n)<=0||(r.has(a.key)||Yx(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return _y.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Og(9500)}ii(e,t){return _y.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new bE(this)}getSize(e){return _y.resolve(this.size)}}class bE extends hE{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),_y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class EE{constructor(e){this.persistence=e,this.si=new ew(e=>Dx(e),Mx),this.lastRemoteSnapshotVersion=Ey.min(),this.highestTargetId=0,this.oi=0,this._i=new yE,this.targetCount=0,this.ai=rE.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),_y.resolve()}getLastRemoteSnapshotVersion(e){return _y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),_y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new rE(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,_y.resolve()}updateTargetData(e,t){return this.Pr(t),_y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,_y.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),_y.waitFor(s).next(()=>r)}getTargetCount(e){return _y.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return _y.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),_y.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),_y.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),_y.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return _y.resolve(n)}containsKey(e,t){return _y.resolve(this._i.containsKey(t))}}class SE{constructor(e,t){this.ui={},this.overlays={},this.ci=new My(0),this.li=!1,this.li=!0,this.hi=new gE,this.referenceDelegate=e(this),this.Pi=new EE(this),this.indexManager=new Zb,this.remoteDocumentCache=function(e){return new wE(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Jb(t),this.Ii=new mE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new xE(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){_g("MemoryPersistence","Starting transaction:",e);const r=new NE(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return _y.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class NE extends Py{constructor(e){super(),this.currentSequenceNumber=e}}class AE{constructor(e){this.persistence=e,this.Ri=new yE,this.Vi=null}static mi(e){return new AE(e)}get fi(){if(this.Vi)return this.Vi;throw Og(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),_y.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),_y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),_y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _y.forEach(this.fi,n=>{const r=uy.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Ey.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return _y.or([()=>_y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class kE{constructor(e,t){this.persistence=e,this.pi=new ew(e=>Vy(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=uE(this,t)}static mi(e,t){return new kE(e,t)}Ei(){}di(e){return _y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return _y.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?_y.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,s.removeEntry(r,Ey.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),_y.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_y.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),_y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xv(e.data.value)),t}br(e,t,n){return _y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return _y.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class CE{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=hw(),r=hw();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new CE(e,t.fromCache,n,r)}}class TE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jE{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Am()?8:Ry(Sm())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ws(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new TE;return this.Ss(e,t,n).next(r=>{if(s.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>s.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Ig()<=Hm.DEBUG&&_g("QueryEngine","SDK will not create cache indexes for query:",Jx(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_y.resolve()):(Ig()<=Hm.DEBUG&&_g("QueryEngine","Query:",Jx(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Ig()<=Hm.DEBUG&&_g("QueryEngine","The SDK decides to create cache indexes for query:",Jx(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hx(t))):_y.resolve())}ys(e,t){if(Bx(t))return _y.resolve(null);let n=Hx(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qx(t,null,"F"),n=Hx(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=hw(...r);return this.ps.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,s,n.readTime)?this.ys(e,qx(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return Bx(t)||r.isEqual(Ey.min())?_y.resolve(null):this.ps.getDocuments(e,n).next(s=>{const i=this.Ds(t,s);return this.Cs(t,i,n,r)?_y.resolve(null):(Ig()<=Hm.DEBUG&&_g("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jx(t)),this.vs(e,i,t,Ay(r,Sy)).next(e=>e))})}Ds(e,t){let n=new xv(Zx(e));return t.forEach((t,r)=>{Yx(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return Ig()<=Hm.DEBUG&&_g("QueryEngine","Using full collection scan to execute query:",Jx(t)),this.ps.getDocumentsMatchingQuery(e,t,Cy.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const PE="LocalStore";class IE{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gv($g),this.xs=new ew(e=>Dx(e),Mx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function _E(e,t,n,r){return new IE(e,t,n,r)}async function RE(e,t){const n=Fg(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=hw();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:s,addedBatchIds:i}))})})}function DE(e){const t=Fg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function ME(e,t,n){let r=hw(),s=hw();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=nw();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Ey.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):_g(PE,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{ks:r,qs:s}})}function OE(e,t){const n=Fg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Oy),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function LE(e,t){const n=Fg(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(s=>s?(r=s,_y.resolve(r)):n.Pi.allocateTargetId(e).next(s=>(r=new Kb(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function UE(e,t,n){const r=Fg(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Dy(e))throw e;_g(PE,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function FE(e,t,n){const r=Fg(e);let s=Ey.min(),i=hw();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Fg(e),s=r.xs.get(n);return void 0!==s?_y.resolve(r.Ms.get(s)):r.Pi.getTargetData(t,n)}(r,e,Hx(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?s:Ey.min(),n?i:hw())).next(e=>(BE(r,Xx(t),e),{documents:e,Qs:i})))}function BE(e,t,n){let r=e.Os.get(t)||Ey.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class VE{constructor(){this.activeTargetIds=fw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zE{constructor(){this.Mo=new VE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HE{Oo(e){}shutdown(){}}const GE="ConnectivityMonitor";class WE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_g(GE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_g(GE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qE=null;function QE(){return null===qE?qE=268435456+Math.round(2147483648*Math.random()):qE++,"0x"+qE.toString(16)}const KE="RestConnection",JE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YE{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Ov?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,s){const i=QE(),a=this.zo(e,t.toUriEncodedString());_g(KE,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,s);const{host:l}=new URL(a),c=ym(l);return this.Jo(e,a,o,n,c).then(t=>(_g(KE,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw Dg(KE,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,s,i){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=JE[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class XE{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ZE="WebChannelConnection";class $E extends YE{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=QE();return new Promise((s,a)=>{const o=new gg;o.setWithCredentials(!0),o.listenOnce(vg.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case xg.NO_ERROR:const n=o.getResponseJson();_g(ZE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),s(n);break;case xg.TIMEOUT:_g(ZE,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Vg(Bg.DEADLINE_EXCEEDED,"Request time out"));break;case xg.HTTP_ERROR:const r=o.getStatus();if(_g(ZE,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Bg).indexOf(t)>=0?t:Bg.UNKNOWN}(n.status);a(new Vg(e,n.message))}else a(new Vg(Bg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Vg(Bg.UNAVAILABLE,"Connection failed."));break;default:Og(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{_g(ZE,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);_g(ZE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=QE(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Sg(),a=Eg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");_g(ZE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.I_(u);let h=!1,d=!1;const f=new XE({Yo:t=>{d?_g(ZE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(_g(ZE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),_g(ZE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,yg.EventType.OPEN,()=>{d||(_g(ZE,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),m(u,yg.EventType.CLOSE,()=>{d||(d=!0,_g(ZE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),m(u,yg.EventType.ERROR,t=>{d||(d=!0,Dg(ZE,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Vg(Bg.UNAVAILABLE,"The operation could not be completed")))}),m(u,yg.EventType.MESSAGE,t=>{if(!d){var n;const s=t.data[0];Ug(!!s,16349);const i=s,a=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){_g(ZE,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Yw[e];if(void 0!==t)return $w(t)}(t),s=a.message;void 0===n&&(n=Bg.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),d=!0,f.a_(new Vg(n,s)),u.close()}else _g(ZE,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.u_(s)}}),m(a,bg.STAT_EVENT,t=>{t.stat===wg.PROXY?_g(ZE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===wg.NOPROXY&&_g(ZE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function eS(){return"undefined"!=typeof document?document:null}function tS(e){return new xb(e,!0)}class nS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&_g("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rS="PersistentStream";class sS{constructor(e,t,n,r,s,i,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nS(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Bg.RESOURCE_EXHAUSTED?(Rg(t.toString()),Rg("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Bg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Vg(Bg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return _g(rS,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(_g(rS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iS extends sS{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Og(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Ug(void 0===t||"string"==typeof t,58123),Sv.fromBase64String(t||"")):(Ug(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Sv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Bg.UNKNOWN:$w(e.code);return new Vg(t,e.message||"")}(a);n=new hb(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=jb(e,r.document.name),i=Nb(r.document.updateTime),a=r.document.createTime?Nb(r.document.createTime):Ey.min(),o=new ox({mapValue:{fields:r.document.fields}}),l=cx.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new cb(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=jb(e,r.document),i=r.readTime?Nb(r.readTime):Ey.min(),a=cx.newNoDocument(s,i),o=r.removedTargetIds||[];n=new cb([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=jb(e,r.document),i=r.removedTargetIds||[];n=new cb([],i,s,null)}else{if(!("filter"in t))return Og(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Jw(r,s),a=e.targetId;n=new ub(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ey.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ey.min():t.readTime?Nb(t.readTime):Ey.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=_b(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ox(r)?{documents:Ob(e,r)}:{query:Lb(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Eb(e,t.resumeToken);const r=wb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ey.min())>0){n.readTime=bb(e,t.snapshotVersion.toTimestamp());const r=wb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Og(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=_b(this.serializer),t.removeTarget=e,this.q_(t)}}class aS extends sS{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ug(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ug(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Ug(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Ug(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Nb(e.updateTime):Nb(t);return n.isEqual(Ey.min())&&(n=Nb(t)),new Pw(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Nb(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=_b(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Mb(this.serializer,e))};this.q_(t)}}class oS{}class lS extends oS{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Vg(Bg.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.Go(e,kb(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Bg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vg(Bg.UNKNOWN,e.toString())})}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Ho(e,kb(t,n),r,a,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Bg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vg(Bg.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Rg(t),this.aa=!1):_g("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const uS="RemoteStore";class hS{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{wS(this)&&(_g(uS,"Restarting streams for network reachability change."),await async function(e){const t=Fg(e);t.Ea.add(4),await fS(t),t.Ra.set("Unknown"),t.Ea.delete(4),await dS(t)}(this))})}),this.Ra=new cS(n,r)}}async function dS(e){if(wS(e))for(const t of e.da)await t(!0)}async function fS(e){for(const t of e.da)await t(!1)}function mS(e,t){const n=Fg(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),xS(n)?vS(n):FS(n).O_()&&gS(n,t))}function pS(e,t){const n=Fg(e),r=FS(n);n.Ia.delete(t),r.O_()&&yS(n,t),0===n.Ia.size&&(r.O_()?r.L_():wS(n)&&n.Ra.set("Unknown"))}function gS(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ey.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}FS(e).Y_(t)}function yS(e,t){e.Va.Ue(t),FS(e).Z_(t)}function vS(e){e.Va=new fb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),FS(e).start(),e.Ra.ua()}function xS(e){return wS(e)&&!FS(e).x_()&&e.Ia.size>0}function wS(e){return 0===Fg(e).Ea.size}function bS(e){e.Va=void 0}async function ES(e){e.Ra.set("Online")}async function SS(e){e.Ia.forEach((t,n)=>{gS(e,t)})}async function NS(e,t){bS(e),xS(e)?(e.Ra.ha(t),vS(e)):e.Ra.set("Unknown")}async function AS(e,t,n){if(e.Ra.set("Online"),t instanceof hb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){_g(uS,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await kS(e,n)}else if(t instanceof cb?e.Va.Ze(t):t instanceof ub?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ey.min()))try{const t=await DE(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ia.get(r);s&&e.Ia.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Sv.EMPTY_BYTE_STRING,r.snapshotVersion)),yS(e,t);const s=new Kb(r.target,t,n,r.sequenceNumber);gS(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){_g(uS,"Failed to raise snapshot:",t),await kS(e,t)}}async function kS(e,t,n){if(!Dy(t))throw t;e.Ea.add(1),await fS(e),e.Ra.set("Offline"),n||(n=()=>DE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{_g(uS,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await dS(e)})}function CS(e,t){return t().catch(n=>kS(e,n,t))}async function TS(e){const t=Fg(e),n=BS(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Oy;for(;jS(t);)try{const e=await OE(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,PS(t,e)}catch(e){await kS(t,e)}IS(t)&&_S(t)}function jS(e){return wS(e)&&e.Ta.length<10}function PS(e,t){e.Ta.push(t);const n=BS(e);n.O_()&&n.X_&&n.ea(t.mutations)}function IS(e){return wS(e)&&!BS(e).x_()&&e.Ta.length>0}function _S(e){BS(e).start()}async function RS(e){BS(e).ra()}async function DS(e){const t=BS(e);for(const n of e.Ta)t.ea(n.mutations)}async function MS(e,t,n){const r=e.Ta.shift(),s=Qw.from(r,t,n);await CS(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await TS(e)}async function OS(e,t){t&&BS(e).X_&&await async function(e,t){if(function(e){return Zw(e)&&e!==Bg.ABORTED}(t.code)){const n=e.Ta.shift();BS(e).B_(),await CS(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await TS(e)}}(e,t),IS(e)&&_S(e)}async function LS(e,t){const n=Fg(e);n.asyncQueue.verifyOperationInProgress(),_g(uS,"RemoteStore received new credentials");const r=wS(n);n.Ea.add(3),await fS(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await dS(n)}async function US(e,t){const n=Fg(e);t?(n.Ea.delete(2),await dS(n)):t||(n.Ea.add(2),await fS(n),n.Ra.set("Unknown"))}function FS(e){return e.ma||(e.ma=function(e,t,n){const r=Fg(e);return r.sa(),new iS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ES.bind(null,e),t_:SS.bind(null,e),r_:NS.bind(null,e),H_:AS.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),xS(e)?vS(e):e.Ra.set("Unknown")):(await e.ma.stop(),bS(e))})),e.ma}function BS(e){return e.fa||(e.fa=function(e,t,n){const r=Fg(e);return r.sa(),new aS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:RS.bind(null,e),r_:OS.bind(null,e),ta:DS.bind(null,e),na:MS.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await TS(e)):(await e.fa.stop(),e.Ta.length>0&&(_g(uS,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class VS{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new zg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new VS(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vg(Bg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zS(e,t){if(Rg("AsyncQueue","".concat(t,": ").concat(e)),Dy(e))return new Vg(Bg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class HS{static emptySet(e){return new HS(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||uy.comparator(t.key,n.key):(e,t)=>uy.comparator(e.key,t.key),this.keyedMap=sw(),this.sortedSet=new gv(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof HS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new HS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class GS{constructor(){this.ga=new gv(uy.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Og(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class WS{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new WS(e,t,HS.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class qS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class QS{constructor(){this.queries=KS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Fg(e),r=n.queries;n.queries=KS(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Vg(Bg.ABORTED,"Firestore shutting down"))}}function KS(){return new ew(e=>Kx(e),Qx)}async function JS(e,t){const n=Fg(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new qS,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=zS(e,"Initialization of query '".concat(Jx(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&$S(n)}async function YS(e,t){const n=Fg(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XS(e,t){const n=Fg(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(s)&&(r=!0);t.wa=s}}r&&$S(n)}function ZS(e,t,n){const r=Fg(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function $S(e){e.Ca.forEach(e=>{e.next()})}var eN,tN;(tN=eN||(eN={})).Ma="default",tN.Cache="cache";class nN{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new WS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=WS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eN.Cache}}class rN{constructor(e){this.key=e}}class sN{constructor(e){this.key=e}}class iN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=hw(),this.mutatedKeys=hw(),this.eu=Zx(e),this.tu=new HS(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new GS,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Yx(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Og(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new WS(this.query,e.tu,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=hw(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new sN(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new rN(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=hw();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return WS.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const aN="SyncEngine";class oN{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lN{constructor(e){this.key=e,this.hu=!1}}class cN{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new ew(e=>Kx(e),Qx),this.Iu=new Map,this.Eu=new Set,this.du=new gv(uy.comparator),this.Au=new Map,this.Ru=new yE,this.Vu={},this.mu=new Map,this.fu=rE.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function uN(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=IN(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await dN(r,t,n,!0),s}async function hN(e,t){const n=IN(e);await dN(n,t,!0,!1)}async function dN(e,t,n,r){const s=await LE(e.localStore,Hx(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await fN(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&mS(e.remoteStore,s),o}async function fN(e,t,n,r,s){e.pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.ru(n);s.Cs&&(s=await FE(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return AN(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await FE(e.localStore,t,!0),a=new iN(t,i.Qs),o=a.ru(i.documents),l=lb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);AN(e,n,c.au);const u=new oN(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function mN(e,t,n){const r=Fg(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(e=>!Qx(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await UE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&pS(r.remoteStore,s.targetId),SN(r,s.targetId)}).catch(Iy)):(SN(r,s.targetId),await UE(r.localStore,s.targetId,!0))}async function pN(e,t){const n=Fg(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pS(n.remoteStore,r.targetId))}async function gN(e,t){const n=Fg(e);try{const e=await function(e,t){const n=Fg(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Sv.EMPTY_BYTE_STRING,Ey.min()).withLastLimboFreeSnapshotVersion(Ey.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.Pi.updateTargetData(e,c))});let o=nw(),l=hw();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(ME(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(Ey.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return _y.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Ug(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Ug(r.hu,14607):e.removedDocuments.size>0&&(Ug(r.hu,42227),r.hu=!1))}),await TN(n,e,t)}catch(e){await Iy(e)}}function yN(e,t,n){const r=Fg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Fg(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.Sa)s.va(t)&&(r=!0)}),r&&$S(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vN(e,t,n){const r=Fg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let e=new gv(uy.comparator);e=e.insert(i,cx.newNoDocument(i,Ey.min()));const n=hw().add(i),s=new ob(Ey.min(),new Map,new gv($g),e,n);await gN(r,s),r.du=r.du.remove(i),r.Au.delete(t),CN(r)}else await UE(r.localStore,t,!1).then(()=>SN(r,t,n)).catch(Iy)}async function xN(e,t){const n=Fg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=_y.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Ug(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);EN(n,r,null),bN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await TN(n,e)}catch(e){await Iy(e)}}async function wN(e,t,n){const r=Fg(e);try{const e=await function(e,t){const n=Fg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ug(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);EN(r,t,n),bN(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await TN(r,e)}catch(n){await Iy(n)}}function bN(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function EN(e,t,n){const r=Fg(e);let s=r.Vu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function SN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||NN(e,t)})}function NN(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(pS(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),CN(e))}function AN(e,t,n){for(const r of n)r instanceof rN?(e.Ru.addReference(r.key,t),kN(e,r)):r instanceof sN?(_g(aN,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||NN(e,r.key)):Og(19791,{wu:r})}function kN(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(_g(aN,"New document in limbo: "+n),e.Eu.add(r),CN(e))}function CN(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new uy(oy.fromString(t)),r=e.fu.next();e.Au.set(r,new lN(n)),e.du=e.du.insert(n,r),mS(e.remoteStore,new Kb(Hx(Fx(n.path)),r,"TargetPurposeLimboResolution",My.ce))}}async function TN(e,t,n){const r=Fg(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const s=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=CE.As(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(e,t){const n=Fg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_y.forEach(t,t=>_y.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>_y.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Dy(e))throw e;_g(PE,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,s)}}}(r.localStore,i))}async function jN(e,t){const n=Fg(e);if(!n.currentUser.isEqual(t)){_g(aN,"User change. New user:",t.toKey());const e=await RE(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Vg(Bg.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await TN(n,e.Ls)}}function PN(e,t){const n=Fg(e),r=n.Au.get(t);if(r&&r.hu)return hw().add(r.key);{let e=hw();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function IN(e){const t=Fg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vN.bind(null,t),t.Pu.H_=XS.bind(null,t.eventManager),t.Pu.yu=ZS.bind(null,t.eventManager),t}function _N(e){const t=Fg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wN.bind(null,t),t}class RN{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tS(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _E(this.persistence,new jE,e.initialUser,this.serializer)}Cu(e){return new SE(AE.mi,this.serializer)}Du(e){return new zE}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}RN.provider={build:()=>new RN};class DN extends RN{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ug(this.persistence.referenceDelegate instanceof kE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new lE(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?nE.withCacheSize(this.cacheSizeBytes):nE.DEFAULT;return new SE(e=>kE.mi(e,t),this.serializer)}}class MN{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yN(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jN.bind(null,this.syncEngine),await US(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new QS}createDatastore(e){const t=tS(e.databaseInfo.databaseId),n=function(e){return new $E(e)}(e.databaseInfo);return function(e,t,n,r){return new lS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new hS(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>yN(this.syncEngine,e,0),WE.v()?new WE:new HE)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new cN(e,t,n,r,s,i);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Fg(e);_g(uS,"RemoteStore shutting down."),t.Ea.add(5),await fS(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}MN.provider={build:()=>new MN};class ON{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rg("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const LN="FirestoreClient";class UN{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Tg.UNAUTHENTICATED,this.clientId=Zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{_g(LN,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(_g(LN,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=zS(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function FN(e,t){e.asyncQueue.verifyOperationInProgress(),_g(LN,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await RE(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function BN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await VN(e);_g(LN,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>LS(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>LS(t.remoteStore,n)),e._onlineComponents=t}async function VN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_g(LN,"Using user provided OfflineComponentProvider");try{await FN(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Bg.FAILED_PRECONDITION||e.code===Bg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Dg("Error using user provided cache. Falling back to memory cache: "+n),await FN(e,new RN)}}else _g(LN,"Using default OfflineComponentProvider"),await FN(e,new DN(void 0));return e._offlineComponents}async function zN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_g(LN,"Using user provided OnlineComponentProvider"),await BN(e,e._uninitializedComponentsProvider._online)):(_g(LN,"Using default OnlineComponentProvider"),await BN(e,new MN))),e._onlineComponents}function HN(e){return zN(e).then(e=>e.syncEngine)}async function GN(e){const t=await zN(e),n=t.eventManager;return n.onListen=uN.bind(null,t.syncEngine),n.onUnlisten=mN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pN.bind(null,t.syncEngine),n}function WN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zg;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new ON({next:o=>{i.Nu(),t.enqueueAndForget(()=>YS(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new Vg(Bg.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new Vg(Bg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new nN(Fx(n.path),i,{includeMetadataChanges:!0,qa:!0});return JS(e,a)}(await GN(e),e.asyncQueue,t,n,r)),r.promise}function qN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zg;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new ON({next:n=>{i.Nu(),t.enqueueAndForget(()=>YS(e,a)),n.fromCache&&"server"===r.source?s.reject(new Vg(Bg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new nN(n,i,{includeMetadataChanges:!0,qa:!0});return JS(e,a)}(await GN(e),e.asyncQueue,t,n,r)),r.promise}function QN(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const KN=new Map,JN="firestore.googleapis.com",YN=!0;class XN{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Vg(Bg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JN,this.ssl=YN}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:YN;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=tE;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<iE)throw new Vg(Bg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Vg(Bg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QN(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Vg(Bg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Vg(Bg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Vg(Bg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ZN{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vg(Bg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vg(Bg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XN(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Gg;switch(e.type){case"firstParty":return new Kg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vg(Bg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=KN.get(e);t&&(_g("ComponentProvider","Removing Datastore"),KN.delete(e),t.terminate())}(this),Promise.resolve()}}class $N{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new $N(this.firestore,e,this._query)}}class eA{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new eA(this.firestore,e,this._key)}toJSON(){return{type:eA._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(vy(t,eA._jsonSchema))return new eA(e,n||null,new uy(oy.fromString(t.referencePath)))}}eA._jsonSchemaVersion="firestore/documentReference/1.0",eA._jsonSchema={type:yy("string",eA._jsonSchemaVersion),referencePath:yy("string")};class tA extends $N{constructor(e,t,n){super(e,t,Fx(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new eA(this.firestore,null,new uy(e))}withConverter(e){return new tA(this.firestore,e,this._path)}}function nA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Lm(e),hy("collection","path",t),e instanceof ZN){const n=oy.fromString(t,...r);return fy(n),new tA(e,null,n)}{if(!(e instanceof eA||e instanceof tA))throw new Vg(Bg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oy.fromString(t,...r));return fy(n),new tA(e.firestore,null,n)}}function rA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Lm(e),1===arguments.length&&(t=Zg.newId()),hy("doc","path",t),e instanceof ZN){const n=oy.fromString(t,...r);return dy(n),new eA(e,null,new uy(n))}{if(!(e instanceof eA||e instanceof tA))throw new Vg(Bg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oy.fromString(t,...r));return dy(n),new eA(e.firestore,e instanceof tA?e.converter:null,new uy(n))}}const sA="AsyncQueue";class iA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nS(this,"async_queue_retry"),this._c=()=>{const e=eS();e&&_g(sA,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=eS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=eS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new zg;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(GV){if(!Dy(GV))throw GV;_g(sA,"Operation failed with retryable error: "+GV)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Rg("INTERNAL UNHANDLED ERROR: ",aA(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=VS.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Og(47125,{Pc:aA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function aA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function oA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class lA extends ZN{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new iA,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iA(e),this._firestoreClient=void 0,await e}}}function cA(e){if(e._terminated)throw new Vg(Bg.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||uA(e),e._firestoreClient}function uA(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Mv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,QN(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||null!==(n=s.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new UN(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class hA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hA(Sv.fromBase64String(e))}catch(e){throw new Vg(Bg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hA(Sv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vy(e,hA._jsonSchema))return hA.fromBase64String(e.bytes)}}hA._jsonSchemaVersion="firestore/bytes/1.0",hA._jsonSchema={type:yy("string",hA._jsonSchemaVersion),bytes:yy("string")};class dA{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Vg(Bg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cy(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fA{constructor(e){this._methodName=e}}class mA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vg(Bg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vg(Bg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $g(this._lat,e._lat)||$g(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mA._jsonSchemaVersion}}static fromJSON(e){if(vy(e,mA._jsonSchema))return new mA(e.latitude,e.longitude)}}mA._jsonSchemaVersion="firestore/geoPoint/1.0",mA._jsonSchema={type:yy("string",mA._jsonSchemaVersion),latitude:yy("number"),longitude:yy("number")};class pA{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pA._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vy(e,pA._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new pA(e.vectorValues);throw new Vg(Bg.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pA._jsonSchemaVersion="firestore/vectorValue/1.0",pA._jsonSchema={type:yy("string",pA._jsonSchemaVersion),vectorValues:yy("object")};const gA=/^__.*__$/;class yA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fw(e,this.data,t,this.fieldTransforms)}}class vA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Og(40011,{Ac:e})}}class wA{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wA(ot(ot({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return LA(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(xA(this.Ac)&&gA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||tS(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wA({Ac:e,methodName:t,Dc:n,path:cy.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EA(e){const t=e._freezeSettings(),n=tS(e._databaseId);return new bA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function SA(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);RA("Data must be an object, but it was:",a,r);const o=IA(r,a);let l,c;if(i.merge)l=new bv(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=DA(t,r,n);if(!a.contains(s))throw new Vg(Bg.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));UA(e,s)||e.push(s)}l=new bv(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new yA(new ox(o),l,c)}class NA extends fA{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof NA}}class AA extends fA{_toFieldTransform(e){return new jw(e.path,new bw)}isEqual(e){return e instanceof AA}}class kA extends fA{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new kw(e.serializer,gw(e.serializer,this.Fc));return new jw(e.path,t)}isEqual(e){return e instanceof kA&&this.Fc===e.Fc}}function CA(e,t,n,r){const s=e.Cc(1,t,n);RA("Data must be an object, but it was:",s,r);const i=[],a=ox.empty();mv(r,(e,r)=>{const o=OA(t,e,n);r=Lm(r);const l=s.yc(o);if(r instanceof NA)i.push(o);else{const e=PA(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new bv(i);return new vA(a,o,s.fieldTransforms)}function TA(e,t,n,r,s,i){const a=e.Cc(1,t,n),o=[DA(t,r,n)],l=[s];if(i.length%2!=0)throw new Vg(Bg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<i.length;d+=2)o.push(DA(t,i[d])),l.push(i[d+1]);const c=[],u=ox.empty();for(let d=o.length-1;d>=0;--d)if(!UA(c,o[d])){const e=o[d];let t=l[d];t=Lm(t);const n=a.yc(e);if(t instanceof NA)c.push(e);else{const r=PA(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new bv(c);return new vA(u,h,a.fieldTransforms)}function jA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return PA(n,e.Cc(r?4:3,t))}function PA(e,t){if(_A(e=Lm(e)))return RA("Unsupported field value:",t,e),IA(e,t);if(e instanceof fA)return function(e,t){if(!xA(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=PA(s,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Lm(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=by.fromDate(e);return{timestampValue:bb(t.serializer,n)}}if(e instanceof by){const n=new by(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bb(t.serializer,n)}}if(e instanceof mA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hA)return{bytesValue:Eb(t.serializer,e._byteString)};if(e instanceof eA){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ab(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof pA)return function(e,t){return{mapValue:{fields:{[Uv]:{stringValue:Vv},[zv]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return mw(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(py(e)))}(e,t)}function IA(e,t){const n={};return pv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mv(e,(e,r)=>{const s=PA(r,t.mc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function _A(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof by||e instanceof mA||e instanceof hA||e instanceof eA||e instanceof fA||e instanceof pA)}function RA(e,t,n){if(!_A(n)||!my(n)){const r=py(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function DA(e,t,n){if((t=Lm(t))instanceof dA)return t._internalPath;if("string"==typeof t)return OA(e,t);throw LA("Field path arguments must be of type string or ",e,!1,void 0,n)}const MA=new RegExp("[~\\*/\\[\\]]");function OA(e,t,n){if(t.search(MA)>=0)throw LA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dA(...t.split("."))._internalPath}catch(r){throw LA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function LA(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new Vg(Bg.INVALID_ARGUMENT,o+e+l)}function UA(e,t){return e.some(e=>e.isEqual(t))}class FA{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new eA(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new BA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class BA extends FA{data(){return super.data()}}function VA(e,t){return"string"==typeof t?OA(e,t):t instanceof dA?t._internalPath:t._delegate._internalPath}function zA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vg(Bg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HA{}class GA extends HA{}function WA(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof HA&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof KA).length,n=e.filter(e=>e instanceof qA).length;if(t>1||t>0&&n>0)throw new Vg(Bg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class qA extends GA{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qA(e,t,n)}_apply(e){const t=this._parse(e);return $A(e._query,t),new $N(e.firestore,e.converter,Wx(e._query,t))}_parse(e){const t=EA(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Vg(Bg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){ZA(a,i);const t=[];for(const n of a)t.push(XA(r,e,n));o={arrayValue:{values:t}}}else o=XA(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||ZA(a,i),o=jA(n,t,a,"in"===i||"not-in"===i);return gx.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function QA(e,t,n){const r=t,s=VA("where",e);return qA._create(s,r,n)}class KA extends HA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new KA(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:yx.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)$A(n,s),n=Wx(n,s)}(e._query,t),new $N(e.firestore,e.converter,Wx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class JA extends GA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new JA(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Vg(Bg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vg(Bg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fx(t,n)}(e._query,this._field,this._direction);return new $N(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Lx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function YA(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VA("orderBy",e);return JA._create(n,t)}function XA(e,t,n){if("string"==typeof(n=Lm(n))){if(""===n)throw new Vg(Bg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vx(t)&&-1!==n.indexOf("/"))throw new Vg(Bg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(oy.fromString(n));if(!uy.isDocumentKey(r))throw new Vg(Bg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zv(e,new uy(r))}if(n instanceof eA)return Zv(e,n._key);throw new Vg(Bg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(py(n),"."))}function ZA(e,t){if(!Array.isArray(e)||0===e.length)throw new Vg(Bg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function $A(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Vg(Bg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vg(Bg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class ek{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Og(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return mv(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[zv].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>kv(e.doubleValue));return new pA(n)}convertGeoPoint(e){return new mA(kv(e.latitude),kv(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Rv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dv(e));default:return null}}convertTimestamp(e){const t=Av(e);return new by(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oy.fromString(e);Ug(Qb(n),9688,{name:e});const r=new Lv(n.get(1),n.get(3)),s=new uy(n.popFirst(5));return r.isEqual(t)||Rg("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function tk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class nk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rk extends FA{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(VA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Vg(Bg.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=rk._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}rk._jsonSchemaVersion="firestore/documentSnapshot/1.0",rk._jsonSchema={type:yy("string",rk._jsonSchemaVersion),bundleSource:yy("string","DocumentSnapshot"),bundleName:yy("string"),bundle:yy("string")};class sk extends rk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ik{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new sk(this._firestore,this._userDataWriter,n.key,n,new nk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vg(Bg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new sk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new nk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new sk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:ak(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Vg(Bg.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ik._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ak(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Og(61501,{type:e})}}function ok(e){e=gy(e,eA);const t=gy(e.firestore,lA);return WN(cA(t),e._key).then(n=>mk(t,e,n))}ik._jsonSchemaVersion="firestore/querySnapshot/1.0",ik._jsonSchema={type:yy("string",ik._jsonSchemaVersion),bundleSource:yy("string","QuerySnapshot"),bundleName:yy("string"),bundle:yy("string")};class lk extends ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new hA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new eA(this.firestore,null,t)}}function ck(e){e=gy(e,$N);const t=gy(e.firestore,lA),n=cA(t),r=new lk(t);return zA(e._query),qN(n,e._query).then(n=>new ik(t,r,e,n))}function uk(e,t,n){e=gy(e,eA);const r=gy(e.firestore,lA),s=EA(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Lm(t))||t instanceof dA?TA(s,"updateDoc",e._key,t,n,o):CA(s,"updateDoc",e._key,t),fk(r,[i.toMutation(e._key,Iw.exists(!0))])}function hk(e,t){const n=gy(e.firestore,lA),r=rA(e),s=tk(e.converter,t);return fk(n,[SA(EA(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,Iw.exists(!1))]).then(()=>r)}function dk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Lm(e);let s={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||oA(n[i])||(s=n[i++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(oA(n[i])){var o,l,c;const e=n[i];n[i]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[i+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[i+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,h,d;if(e instanceof eA)h=gy(e.firestore,lA),d=Fx(e._key.path),u={next:t=>{n[i]&&n[i](mk(h,e,t))},error:n[i+1],complete:n[i+2]};else{const t=gy(e,$N);h=gy(t.firestore,lA),d=t._query;const r=new lk(h);u={next:e=>{n[i]&&n[i](new ik(h,r,t,e))},error:n[i+1],complete:n[i+2]},zA(e._query)}return function(e,t,n,r){const s=new ON(r),i=new nN(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>JS(await GN(e),i)),()=>{s.Nu(),e.asyncQueue.enqueueAndForget(async()=>YS(await GN(e),i))}}(cA(h),d,a,u)}function fk(e,t){return function(e,t){const n=new zg;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=_N(e);try{const e=await function(e,t){const n=Fg(e),r=by.now(),s=t.reduce((e,t)=>e.add(t.key),hw());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=nw(),l=hw();return n.Ns.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=Lw(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Bw(e.key,t,lx(t.value.mapValue),Iw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:iw(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new gv($g)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await TN(r,e.changes),await TS(r.remoteStore)}catch(e){const t=zS(e,"Failed to persist write");n.reject(t)}}(await HN(e),t,n)),n.promise}(cA(e),t)}function mk(e,t,n){const r=n.docs.get(t._key),s=new lk(e);return new rk(e,s,t._key,r,new nk(n.hasPendingWrites,n.fromCache),t.converter)}function pk(){return new AA("serverTimestamp")}function gk(e){return new kA("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jg=e}(Zp),Qp(new Um("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new lA(new qg(e.getProvider("auth-internal")),new Yg(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vg(Bg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lv(e.options.projectId,t)}(i,r),i);return s=ot({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),tg(kg,Cg,e),tg(kg,Cg,"esm2020")}();function yk(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}tg("firebase","12.4.0","app");const vk=["providerId"],xk=["uid","auth","stsTokenManager"],wk=["providerId","signInMethod"];function bk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ek=bk,Sk=new Tm("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nk=new Km("@firebase/auth");function Ak(e){if(Nk.logLevel<=Hm.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Nk.error("Auth (".concat(Zp,"): ").concat(e),...n)}}function kk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pk(e,...n)}function Ck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pk(e,...n)}function Tk(e,t,n){const r=ot(ot({},Ek()),{},{[t]:n});return new Tm("auth","Firebase",r).create(t,{appName:e.name})}function jk(e){return Tk(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Sk.create(e,...n)}function Ik(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Pk(t,...r)}}function _k(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ak(t),new Error(t)}function Rk(e,t){e||_k(t)}function Dk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mk(){return"http:"===Ok()||"https:"===Ok()}function Ok(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Lk(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mk()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Uk{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rk(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sm())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Lk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fk(e,t){Rk(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Bk{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hk=new Uk(3e4,6e4);function Gk(e,t){return e.tenantId&&!t.tenantId?ot(ot({},t),{},{tenantId:e.tenantId}):t}async function Wk(e,t,n,r){return qk(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=_m(ot({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=ot({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&ym(e.emulatorConfig.host)&&(l.credentials="include"),Bk.fetch()(await Kk(e,e.config.apiHost,n,a),l)})}async function qk(e,t,n){e._canInitEmulator=!1;const r=ot(ot({},Vk),t);try{const t=new Yk(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Xk(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Xk(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Xk(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Xk(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Tk(e,o,a);kk(e,o)}}catch(GV){if(GV instanceof Cm)throw GV;kk(e,"network-request-failed",{message:String(GV)})}}async function Qk(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Wk(e,t,n,r,s);return"mfaPendingCredential"in i&&kk(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Kk(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r),i=e,a=i.config.emulator?Fk(e.config,s):"".concat(e.config.apiScheme,"://").concat(s);if(zk.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function Jk(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ck(this.auth,"network-request-failed")),Hk.get())})}}function Xk(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ck(e,t,r);return s.customData._tokenResponse=n,s}function Zk(e){return void 0!==e&&void 0!==e.enterprise}class $k{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Jk(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eC(e,t){return Wk(e,"GET","/v2/recaptchaConfig",Gk(e,t))}async function tC(e,t){return Wk(e,"POST","/v1/accounts:lookup",t)}function nC(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(GV){}}function rC(e){return 1e3*Number(e)}function sC(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ak("JWT malformed, contained fewer than 3 sections"),null;try{const e=cm(n);return e?JSON.parse(e):(Ak("Failed to decode base64 JWT payload"),null)}catch(GV){return Ak("Caught error parsing JWT payload as JSON",null===GV||void 0===GV?void 0:GV.toString()),null}}function iC(e){const t=sC(e);return Ik(t,"internal-error"),Ik("undefined"!==typeof t.exp,"internal-error"),Ik("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function aC(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(GV){throw GV instanceof Cm&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(GV)&&e.auth.currentUser===e&&await e.auth.signOut(),GV}}class oC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(GV){return void((null===GV||void 0===GV?void 0:GV.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class lC{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nC(this.lastLoginAt),this.creationTime=nC(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cC(e){var t;const n=e.auth,r=await e.getIdToken(),s=await aC(e,tC(n,{idToken:r}));Ik(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?uC(i.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(null!==o&&void 0!==o&&o.length),u=!!l&&c,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lC(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function uC(e){return e.map(e=>{let{providerId:t}=e,n=yk(e,vk);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class hC{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ik(e.idToken,"internal-error"),Ik("undefined"!==typeof e.idToken,"internal-error"),Ik("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):iC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ik(0!==e.length,"internal-error");const t=iC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ik(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await qk(e,{},async()=>{const n=_m({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await Kk(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&ym(e.emulatorConfig.host)&&(o.credentials="include"),Bk.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new hC;return n&&(Ik("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Ik("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Ik("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hC,this.toJSON())}_performRefresh(){return _k("not implemented")}}function dC(e,t){Ik("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class fC{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,s=yk(e,xk);this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await aC(this,this.stsTokenManager.getToken(this.auth,e));return Ik(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Lm(e),r=await n.getIdToken(t),s=sC(r);Ik(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:nC(rC(s.auth_time)),issuedAtTime:nC(rC(s.iat)),expirationTime:nC(rC(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Lm(e);await cC(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ik(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>ot({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fC(ot(ot({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ik(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cC(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jp(this.auth.app))return Promise.reject(jk(this.auth));const e=await this.getIdToken();return await aC(this,async function(e,t){return Wk(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ot(ot({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>ot({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:w,providerData:b,stsTokenManager:E}=t;Ik(v&&E,e,"internal-error");const S=hC.fromJSON(this.name,E);Ik("string"===typeof v,e,"internal-error"),dC(u,e.name),dC(h,e.name),Ik("boolean"===typeof x,e,"internal-error"),Ik("boolean"===typeof w,e,"internal-error"),dC(d,e.name),dC(f,e.name),dC(m,e.name),dC(p,e.name),dC(g,e.name),dC(y,e.name);const N=new fC({uid:v,auth:e,email:h,emailVerified:x,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:m,stsTokenManager:S,createdAt:g,lastLoginAt:y});return b&&Array.isArray(b)&&(N.providerData=b.map(e=>ot({},e))),p&&(N._redirectEventId=p),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new hC;r.updateFromServerResponse(t);const s=new fC({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cC(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ik(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?uC(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==s&&void 0!==s&&s.length),a=new hC;a.updateFromIdToken(n);const o=new fC({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new lC(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==s&&void 0!==s&&s.length)};return Object.assign(o,l),o}}const mC=new Map;function pC(e){Rk(e instanceof Function,"Expected a class definition");let t=mC.get(e);return t?(Rk(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mC.set(e,t),t)}class gC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gC.type="NONE";const yC=gC;function vC(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class xC{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=vC(this.userKey,r.apiKey,s),this.fullPersistenceKey=vC("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await tC(this.auth,{idToken:e}).catch(()=>{});return t?fC._fromGetAccountInfoResponse(this.auth,t,e):null}return fC._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xC(pC(yC),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||pC(yC);const i=vC(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await tC(e,{idToken:t}).catch(()=>{});if(!r)break;n=await fC._fromGetAccountInfoResponse(e,r,t)}else n=fC._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(t){}})),new xC(s,e,n)):new xC(s,e,n)}}function wC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kC(t))return"Blackberry";if(CC(t))return"Webos";if(EC(t))return"Safari";if((t.includes("chrome/")||SC(t))&&!t.includes("edge/"))return"Chrome";if(AC(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function bC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm();return/firefox\//i.test(e)}function EC(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm();return/crios\//i.test(e)}function NC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm();return/iemobile/i.test(e)}function AC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm();return/android/i.test(e)}function kC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm();return/blackberry/i.test(e)}function CC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm();return/webos/i.test(e)}function TC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jC(){return function(){const e=Sm();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function PC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm();return TC(e)||AC(e)||CC(e)||kC(e)||/windows phone/i.test(e)||NC(e)}function IC(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wC(Sm());break;case"Worker":t="".concat(wC(Sm()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Zp,"/").concat(r)}class _C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(GV){r(GV)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(GV){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===GV||void 0===GV?void 0:GV.message})}}}class RC{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class DC{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OC(this),this.idTokenSubscription=new OC(this),this.beforeStateQueue=new _C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pC(t)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await xC.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(GV){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await tC(this,{idToken:e}),n=await fC._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jp(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var s,i;await this.getOrInitRedirectPersistenceManager();const t=null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId,a=null===(i=n)||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(GV){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(GV))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ik(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(GV){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cC(e)}catch(GV){if((null===GV||void 0===GV?void 0:GV.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jp(this.app))return Promise.reject(jk(this));const t=e?Lm(e):null;return t&&Ik(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ik(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jp(this.app)?Promise.reject(jk(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jp(this.app)?Promise.reject(jk(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pC(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Wk(e,"GET","/v2/passwordPolicy",Gk(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new RC(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tm("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Wk(e,"POST","/v2/accounts:revokeToken",Gk(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pC(e)||this._popupRedirectResolver;Ik(t,this,"argument-error"),this.redirectPersistenceManager=await xC.create(this,[pC(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ik(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ik(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Jp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Nk.logLevel<=Hm.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Nk.warn("Auth (".concat(Zp,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function MC(e){return Lm(e)}class OC{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Mm(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Ik(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let LC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(e){return LC.loadJS(e)}function FC(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class BC{constructor(){this.enterprise=new VC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zC="NO_RECAPTCHA";class HC{constructor(e){this.type="recaptcha-enterprise",this.auth=MC(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;Zk(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(zC)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new BC).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{eC(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new $k(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&Zk(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=LC.recaptchaEnterpriseScript;0!==t.length&&(t+=s),UC(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function GC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new HC(e);let a;if(s)a=zC;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=ot({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function WC(e,t,n,r,s){if("EMAIL_PASSWORD_PROVIDER"===s){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await GC(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await GC(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}if("PHONE_PROVIDER"===s){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const s=await GC(e,t,n);return r(e,s).catch(async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await GC(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)})}{const s=await GC(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function qC(e){const t=MC(e),n=await eC(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $k(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new HC(t).verify()}}function QC(e,t,n){const r=MC(e);Ik(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!(null===n||void 0===n||!n.disableWarnings),i=KC(t),{host:a,port:o}=function(e){const t=KC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:JC(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:JC(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(i,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return Ik(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ik(Pm(c,r.config.emulator)&&Pm(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ym(a)?(vm("".concat(i,"//").concat(a).concat(l)),Em("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function KC(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function JC(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class YC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _k("not implemented")}_getIdTokenResponse(e){return _k("not implemented")}_linkToIdToken(e,t){return _k("not implemented")}_getReauthenticationResolver(e){return _k("not implemented")}}async function XC(e,t){return Wk(e,"POST","/v1/accounts:signUp",t)}async function ZC(e,t){return Qk(e,"POST","/v1/accounts:signInWithPassword",Gk(e,t))}class $C extends YC{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new $C(e,t,"password")}static _fromEmailAndCode(e,t){return new $C(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return WC(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ZC,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qk(e,"POST","/v1/accounts:signInWithEmailLink",Gk(e,t))}(e,{email:this._email,oobCode:this._password});default:kk(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return WC(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XC,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qk(e,"POST","/v1/accounts:signInWithEmailLink",Gk(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:kk(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eT(e,t){return Qk(e,"POST","/v1/accounts:signInWithIdp",Gk(e,t))}class tT extends YC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tT(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kk("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=yk(t,wk);if(!n||!r)return null;const i=new tT(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return eT(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,eT(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,eT(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_m(t)}return e}}async function nT(e,t){return Wk(e,"POST","/v1/accounts:sendVerificationCode",Gk(e,t))}const rT={USER_NOT_FOUND:"user-not-found"};class sT extends YC{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new sT({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new sT({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qk(e,"POST","/v1/accounts:signInWithPhoneNumber",Gk(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qk(e,"POST","/v1/accounts:signInWithPhoneNumber",Gk(e,t));if(n.temporaryProof)throw Xk(e,"account-exists-with-different-credential",n);return n}(e,ot({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qk(e,"POST","/v1/accounts:signInWithPhoneNumber",Gk(e,ot(ot({},t),{},{operation:"REAUTH"})),rT)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new sT({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class iT{constructor(e){var t,n,r,s,i,a;const o=Rm(Dm(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Ik(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Rm(Dm(e)).link,n=t?Rm(Dm(t)).deep_link_id:null,r=Rm(Dm(e)).deep_link_id;return(r?Rm(Dm(r)).link:null)||r||n||t||e}(e);try{return new iT(t)}catch(n){return null}}}class aT{constructor(){this.providerId=aT.PROVIDER_ID}static credential(e,t){return $C._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=iT.parseLink(t);return Ik(n,"argument-error"),$C._fromEmailAndCode(e,n.code,n.tenantId)}}aT.PROVIDER_ID="password",aT.EMAIL_PASSWORD_SIGN_IN_METHOD="password",aT.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lT extends oT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cT extends lT{constructor(){super("facebook.com")}static credential(e){return tT._fromParams({providerId:cT.PROVIDER_ID,signInMethod:cT.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cT.credentialFromTaggedObject(e)}static credentialFromError(e){return cT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cT.credential(t.oauthAccessToken)}catch(n){return null}}}cT.FACEBOOK_SIGN_IN_METHOD="facebook.com",cT.PROVIDER_ID="facebook.com";class uT extends lT{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tT._fromParams({providerId:uT.PROVIDER_ID,signInMethod:uT.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return uT.credentialFromTaggedObject(e)}static credentialFromError(e){return uT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return uT.credential(n,r)}catch(s){return null}}}uT.GOOGLE_SIGN_IN_METHOD="google.com",uT.PROVIDER_ID="google.com";class hT extends lT{constructor(){super("github.com")}static credential(e){return tT._fromParams({providerId:hT.PROVIDER_ID,signInMethod:hT.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hT.credentialFromTaggedObject(e)}static credentialFromError(e){return hT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hT.credential(t.oauthAccessToken)}catch(n){return null}}}hT.GITHUB_SIGN_IN_METHOD="github.com",hT.PROVIDER_ID="github.com";class dT extends lT{constructor(){super("twitter.com")}static credential(e,t){return tT._fromParams({providerId:dT.PROVIDER_ID,signInMethod:dT.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return dT.credentialFromTaggedObject(e)}static credentialFromError(e){return dT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return dT.credential(n,r)}catch(s){return null}}}dT.TWITTER_SIGN_IN_METHOD="twitter.com",dT.PROVIDER_ID="twitter.com";class fT{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await fC._fromIdTokenResponse(e,n,r),i=mT(n);return new fT({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mT(n);return new fT({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class pT extends Cm{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,pT.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new pT(e,t,n,r)}}function gT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw pT._fromErrorAndOperation(e,n,t,r);throw n})}async function yT(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await aC(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fT._forOperation(e,"link",r)}async function vT(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Jp(r.app))return Promise.reject(jk(r));const s="reauthenticate";try{const i=await aC(e,gT(r,s,t,e),n);Ik(i.idToken,r,"internal-error");const a=sC(i.idToken);Ik(a,r,"internal-error");const{sub:o}=a;return Ik(e.uid===o,r,"user-mismatch"),fT._forOperation(e,s,i)}catch(GV){throw(null===GV||void 0===GV?void 0:GV.code)==="auth/".concat("user-not-found")&&kk(r,"user-mismatch"),GV}}async function xT(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Jp(e.app))return Promise.reject(jk(e));const r="signIn",s=await gT(e,r,t),i=await fT._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function wT(e,t){return Wk(e,"POST","/v2/accounts/mfaEnrollment:start",Gk(e,t))}new WeakMap;const bT="__sak";class ET{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bT,"1"),this.storage.removeItem(bT),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ST extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);jC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ST.type="LOCAL";const NT=ST;function AT(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(s))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function kT(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class CT{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=kT(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return AT(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=kT(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=kT(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=AT(n);const s=setInterval(()=>{const e=AT(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(s))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}CT.type="COOKIE";class TT extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TT.type="SESSION";const jT=TT;class PT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new PT(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function IT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}PT.receivers=[];class _T{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=IT("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function RT(){return window}function DT(){return"undefined"!==typeof RT().WorkerGlobalScope&&"function"===typeof RT().importScripts}const MT="firebaseLocalStorageDb",OT="firebaseLocalStorage",LT="fbase_key";class UT{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function FT(e,t){return e.transaction([OT],t?"readwrite":"readonly").objectStore(OT)}function BT(){const e=indexedDB.open(MT,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(OT,{keyPath:LT})}catch(GV){n(GV)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(OT)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(MT);return new UT(e).toPromise()}(),t(await BT()))})})}async function VT(e,t,n){const r=FT(e,!0).put({[LT]:t,value:n});return new UT(r).toPromise()}function zT(e,t){const n=FT(e,!0).delete(t);return new UT(n).toPromise()}class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await BT()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(GV){if(t++>3)throw GV;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=PT._getInstance(DT()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new _T(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BT();return await VT(e,bT,"1"),await zT(e,bT),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>VT(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=FT(e,!1).get(t),r=await new UT(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=FT(e,!1).getAll();return new UT(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}HT.type="LOCAL";const GT=HT;function WT(e,t){return Wk(e,"POST","/v2/accounts/mfaSignIn:start",Gk(e,t))}FC("rcb"),new Uk(3e4,6e4);const qT="recaptcha";async function QT(e,t,n){if(!e._getRecaptchaConfig())try{await qC(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ik("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=WC(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===zC){Ik((null===n||void 0===n?void 0:n.type)===qT,e,"argument-error");return wT(e,await KT(e,t,n))}return wT(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Ik("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ik(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=WC(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===zC){Ik((null===n||void 0===n?void 0:n.type)===qT,e,"argument-error");return WT(e,await KT(e,t,n))}return WT(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=WC(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===zC){Ik((null===n||void 0===n?void 0:n.type)===qT,e,"argument-error");return nT(e,await KT(e,t,n))}return nT(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function KT(e,t,n){Ik(n.type===qT,e,"argument-error");const r=await n.verify();Ik("string"===typeof r,e,"argument-error");const s=ot({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class JT{constructor(e){this.providerId=JT.PROVIDER_ID,this.auth=MC(e)}verifyPhoneNumber(e,t){return QT(this.auth,e,Lm(t))}static credential(e,t){return sT._fromVerification(e,t)}static credentialFromResult(e){const t=e;return JT.credentialFromTaggedObject(t)}static credentialFromError(e){return JT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?sT._fromTokenResponse(n,r):null}}function YT(e,t){return t?pC(t):(Ik(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}JT.PROVIDER_ID="phone",JT.PHONE_SIGN_IN_METHOD="phone";class XT extends YC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eT(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eT(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eT(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZT(e){return xT(e.auth,new XT(e),e.bypassAuthState)}function $T(e){const{auth:t,user:n}=e;return Ik(n,t,"internal-error"),vT(n,new XT(e),e.bypassAuthState)}async function ej(e){const{auth:t,user:n}=e;return Ik(n,t,"internal-error"),yT(n,new XT(e),e.bypassAuthState)}class tj{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(GV){this.reject(GV)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(GV){this.reject(GV)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZT;case"linkViaPopup":case"linkViaRedirect":return ej;case"reauthViaPopup":case"reauthViaRedirect":return $T;default:kk(this.auth,"internal-error")}}resolve(e){Rk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nj=new Uk(2e3,1e4);class rj extends tj{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,rj.currentPopupAction&&rj.currentPopupAction.cancel(),rj.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ik(e,this.auth,"internal-error"),e}async onExecution(){Rk(1===this.filter.length,"Popup operations only handle one event");const e=IT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ck(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ck(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rj.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ck(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,nj.get())};e()}}rj.currentPopupAction=null;const sj=new Map;class ij extends tj{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=sj.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=lj(t),r=oj(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(GV){e=()=>Promise.reject(GV)}sj.set(this.auth._key(),e)}return this.bypassAuthState||sj.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function aj(e,t){sj.set(e._key(),t)}function oj(e){return pC(e._redirectPersistence)}function lj(e){return vC("pendingRedirect",e.config.apiKey,e.name)}async function cj(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Jp(e.app))return Promise.reject(jk(e));const r=MC(e),s=YT(r,t),i=new ij(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class uj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dj(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!dj(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ck(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hj(e))}saveEventToCache(e){this.cachedEventUids.add(hj(e)),this.lastProcessedEventTime=Date.now()}}function hj(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function dj(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const fj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mj=/^https?/;async function pj(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Wk(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(gj(r))return}catch(n){}kk(e,"unauthorized-domain")}function gj(e){const t=Dk(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!mj.test(n))return!1;if(fj.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const yj=new Uk(3e4,6e4);function vj(){const e=RT().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function xj(e){return new Promise((t,n)=>{var r,s;function i(){vj(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vj(),n(Ck(e,"network-request-failed"))},timeout:yj.get()})}if(null!==(r=RT().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(s=RT().gapi)||void 0===s||!s.load){const t=FC("iframefcb");return RT()[t]=()=>{gapi.load?i():n(Ck(e,"network-request-failed"))},UC("".concat(LC.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw wj=null,e})}let wj=null;const bj=new Uk(5e3,15e3),Ej={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nj(e){const t=e.config;Ik(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Fk(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Zp},s=Sj.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(_m(r).slice(1))}async function Aj(e){const t=await function(e){return wj=wj||xj(e),wj}(e),n=RT().gapi;return Ik(n,e,"internal-error"),t.open({where:document.body,url:Nj(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ej,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Ck(e,"network-request-failed"),i=RT().setTimeout(()=>{r(s)},bj.get());function a(){RT().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}const kj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(GV){}}}function Tj(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=ot(ot({},kj),{},{width:r.toString(),height:s.toString(),top:i,left:a}),c=Sm().toLowerCase();n&&(o=SC(c)?"_blank":n),bC(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return TC(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Cj(null);const h=window.open(t||"",o,u);Ik(h,e,"popup-blocked");try{h.focus()}catch(GV){}return new Cj(h)}const jj="__/auth/handler",Pj="emulator/auth/handler",Ij=encodeURIComponent("fac");async function _j(e,t,n,r,s,i){Ik(e.config.authDomain,e,"auth-domain-config-required"),Ik(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zp,eventId:s};if(t instanceof oT){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof lT){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ij,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(jj);return Fk(t,Pj)}(e),"?").concat(_m(o).slice(1)).concat(c)}const Rj="webStorageSupport";const Dj=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=cj,this._overrideRedirectResult=aj}async _openPopup(e,t,n,r){var s;Rk(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Tj(e,await _j(e,t,n,Dk(),r),IT())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){RT().location.href=e}(await _j(e,t,n,Dk(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Rk(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Aj(e),n=new uj(e);return t.register("authEvent",t=>{Ik(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rj,{type:Rj},n=>{var r;const s=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Rj];void 0!==s&&t(!!s),kk(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PC()||EC()||TC()}};var Mj="@firebase/auth",Oj="1.11.0";class Lj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ik(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Uj=pm("authIdTokenMaxAge")||300;let Fj=null;var Bj;LC={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ck("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Bj="Browser",Qp(new Um("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ik(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Bj,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IC(Bj)},c=new DC(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pC);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Qp(new Um("auth-internal",e=>(e=>new Lj(e))(MC(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),tg(Mj,Oj,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Bj)),tg(Mj,Oj,"esm2020");const Vj="firebasestorage.googleapis.com",zj="storageBucket";class Hj extends Cm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(qj(e),"Firebase Storage: ".concat(t," (").concat(qj(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hj.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qj(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Gj,Wj;function qj(e){return"storage/"+e}function Qj(){return new Hj(Gj.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Kj(){return new Hj(Gj.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jj(){return new Hj(Gj.CANCELED,"User canceled the upload/download.")}function Yj(e){return new Hj(Gj.INVALID_ARGUMENT,e)}function Xj(){return new Hj(Gj.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Gj||(Gj={}));class Zj{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Zj.makeFromUrl(e,t)}catch(GV){return new Zj(e,"")}if(""===n.path)return n;throw r=e,new Hj(Gj.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===Vj?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new Zj(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new Hj(Gj.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class $j{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function eP(e,t,n,r){if(r<t)throw Yj("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Yj("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function tP(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function nP(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Wj||(Wj={}));class rP{constructor(e,t,n,r,s,i,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],d=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new sP(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Wj.NO_ERROR,s=n.getStatus();if(!t||nP(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Wj.ABORT;return void e(!1,new sP(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new sP(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(GV){r(GV)}else if(null!==s){const e=Qj();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?Xj():Jj())}else{r(Kj())}};this.canceled_?t(0,new sP(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){s=setTimeout(()=>{s=null,e(f,l())},t)}function d(){i&&clearTimeout(i)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),h(i)}let m=!1;function p(e){m||(m=!0,d(),c||(null!==s?(e||(o=2),clearTimeout(s),h(0)):e||(o=1)))}return h(0),i=setTimeout(()=>{a=!0,p(!0)},n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sP{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function iP(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class aP{constructor(e,t){this._service=e,this._location=t instanceof Zj?t:Zj.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new aP(e,t)}get root(){const e=new Zj(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iP(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Zj(this._location.bucket,e);return new aP(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Hj(Gj.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function oP(e,t){const n=null===t||void 0===t?void 0:t[zj];return null==n?null:Zj.makeFromBucketSpec(n,e)}class lP{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=i,this._bucket=null,this._host=Vj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Zj.makeFromBucketSpec(r,this._host):oP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Zj.makeFromBucketSpec(this._url,e):this._bucket=oP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Jp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new aP(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new $j(Xj());{const i=function(e,t,n,r,s,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=tP(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new rP(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const cP="@firebase/storage",uP="0.14.0",hP="storage";function dP(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new lP(r,s,i,n,Zp)}Qp(new Um(hP,dP,"PUBLIC").setMultipleInstances(!0)),tg(cP,uP,""),tg(cP,uP,"esm2020");const fP={apiKey:"AIzaSyB1Bbr1smnKb9AzfxTh9VZkF3X9Q-Zg2dw",authDomain:"ubss-9f4a1.firebaseapp.com",projectId:"ubss-9f4a1",storageBucket:"ubss-9f4a1.firebasestorage.app",messagingSenderId:"124546511785",appId:"1:124546511785:web:b0d098bf3db618d2b04ab8",measurementId:"G-5X9YC8NLRQ"};let mP,pP,gP,yP;try{mP=$p(fP),pP=function(e,t){const n="object"==typeof e?e:eg(),r="string"==typeof e?e:t||Ov,s=Kp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=fm("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=gy(e,ZN);const s=ym(t),i=e._getSettings(),a=ot(ot({},i),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);s&&(vm("https://".concat(o)),Em("Firestore",!0)),i.host!==JN&&i.host!==o&&Dg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=ot(ot({},i),{},{host:o,ssl:s,emulatorOptions:r});if(!Pm(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Tg.MOCK_USER;else{var c;t=xm(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Vg(Bg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Tg(s)}e._authCredentials=new Wg(new Hg(t,n))}}(s,...e)}return s}(mP),gP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eg();const t=Kp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kp(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Pm(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;kk(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Dj,persistence:[GT,NT,jT]}),r=pm("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Uj)return;const r=null===t||void 0===t?void 0:t.token;Fj!==r&&(Fj=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Lm(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Lm(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var s;const i=dm("auth");return i&&QC(n,"http://".concat(i)),n}(mP),yP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eg(),t=arguments.length>1?arguments[1]:void 0;e=Lm(e);const n=Kp(e,hP).getImmediate({identifier:t}),r=fm("storage");return r&&function(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const s=ym(t);s&&(vm("https://".concat(e.host,"/b")),Em("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:xm(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}(n,...r),n}(mP),console.log("Firebase initialized successfully")}catch(WV){console.error("Firebase initialization error:",WV),mP=null,pP=null,gP=null,yP=null}function vP(e,t){return function(){return e.apply(t,arguments)}}const{toString:xP}=Object.prototype,{getPrototypeOf:wP}=Object,{iterator:bP,toStringTag:EP}=Symbol,SP=(e=>t=>{const n=xP.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),NP=e=>(e=e.toLowerCase(),t=>SP(t)===e),AP=e=>t=>typeof t===e,{isArray:kP}=Array,CP=AP("undefined");function TP(e){return null!==e&&!CP(e)&&null!==e.constructor&&!CP(e.constructor)&&IP(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jP=NP("ArrayBuffer");const PP=AP("string"),IP=AP("function"),_P=AP("number"),RP=e=>null!==e&&"object"===typeof e,DP=e=>{if("object"!==SP(e))return!1;const t=wP(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(EP in e)&&!(bP in e)},MP=NP("Date"),OP=NP("File"),LP=NP("Blob"),UP=NP("FileList"),FP=NP("URLSearchParams"),[BP,VP,zP,HP]=["ReadableStream","Request","Response","Headers"].map(NP);function GP(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),kP(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(TP(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function WP(e,t){if(TP(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const qP="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,QP=e=>!CP(e)&&e!==qP;const KP=(JP="undefined"!==typeof Uint8Array&&wP(Uint8Array),e=>JP&&e instanceof JP);var JP;const YP=NP("HTMLFormElement"),XP=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ZP=NP("RegExp"),$P=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};GP(n,(n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)}),Object.defineProperties(e,r)};const eI=NP("AsyncFunction"),tI=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],qP.addEventListener("message",e=>{let{source:t,data:s}=e;t===qP&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),qP.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,IP(qP.postMessage)),nI="undefined"!==typeof queueMicrotask?queueMicrotask.bind(qP):"undefined"!==typeof process&&process.nextTick||tI,rI={isArray:kP,isArrayBuffer:jP,isBuffer:TP,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||IP(e.append)&&("formdata"===(t=SP(e))||"object"===t&&IP(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&jP(e.buffer),t},isString:PP,isNumber:_P,isBoolean:e=>!0===e||!1===e,isObject:RP,isPlainObject:DP,isEmptyObject:e=>{if(!RP(e)||TP(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(GV){return!1}},isReadableStream:BP,isRequest:VP,isResponse:zP,isHeaders:HP,isUndefined:CP,isDate:MP,isFile:OP,isBlob:LP,isRegExp:ZP,isFunction:IP,isStream:e=>RP(e)&&IP(e.pipe),isURLSearchParams:FP,isTypedArray:KP,isFileList:UP,forEach:GP,merge:function e(){const{caseless:t,skipUndefined:n}=QP(this)&&this||{},r={},s=(s,i)=>{const a=t&&WP(r,i)||i;DP(r[a])&&DP(s)?r[a]=e(r[a],s):DP(s)?r[a]=e({},s):kP(s)?r[a]=s.slice():n&&CP(s)||(r[a]=s)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&GP(arguments[i],s);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return GP(t,(t,r)=>{n&&IP(t)?e[r]=vP(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&wP(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:SP,kindOfTest:NP,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(kP(e))return e;let t=e.length;if(!_P(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[bP]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:YP,hasOwnProperty:XP,hasOwnProp:XP,reduceDescriptors:$P,freezeMethods:e=>{$P(e,(t,n)=>{if(IP(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];IP(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return kP(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:WP,global:qP,isContextDefined:QP,isSpecCompliantForm:function(e){return!!(e&&IP(e.append)&&"FormData"===e[EP]&&e[bP])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(RP(e)){if(t.indexOf(e)>=0)return;if(TP(e))return e;if(!("toJSON"in e)){t[r]=e;const s=kP(e)?[]:{};return GP(e,(e,t)=>{const i=n(e,r+1);!CP(i)&&(s[t]=i)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:eI,isThenable:e=>e&&(RP(e)||IP(e))&&IP(e.then)&&IP(e.catch),setImmediate:tI,asap:nI,isIterable:e=>null!=e&&IP(e[bP])};function sI(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}rI.inherits(sI,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rI.toJSONObject(this.config),code:this.code,status:this.status}}});const iI=sI.prototype,aI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{aI[e]={value:e}}),Object.defineProperties(sI,aI),Object.defineProperty(iI,"isAxiosError",{value:!0}),sI.from=(e,t,n,r,s,i)=>{const a=Object.create(iI);rI.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return sI.call(a,o,l,n,r,s),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const oI=sI;function lI(e){return rI.isPlainObject(e)||rI.isArray(e)}function cI(e){return rI.endsWith(e,"[]")?e.slice(0,-2):e}function uI(e,t,n){return e?e.concat(t).map(function(e,t){return e=cI(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const hI=rI.toFlatObject(rI,{},null,function(e){return/^is[A-Z]/.test(e)});const dI=function(e,t,n){if(!rI.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=rI.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!rI.isUndefined(t[e])})).metaTokens,s=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&rI.isSpecCompliantForm(t);if(!rI.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(rI.isDate(e))return e.toISOString();if(rI.isBoolean(e))return e.toString();if(!o&&rI.isBlob(e))throw new oI("Blob is not supported. Use a Buffer instead.");return rI.isArrayBuffer(e)||rI.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(rI.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(rI.isArray(e)&&function(e){return rI.isArray(e)&&!e.some(lI)}(e)||(rI.isFileList(e)||rI.endsWith(n,"[]"))&&(o=rI.toArray(e)))return n=cI(n),o.forEach(function(e,r){!rI.isUndefined(e)&&null!==e&&t.append(!0===a?uI([n],r,i):null===a?n:n+"[]",l(e))}),!1;return!!lI(e)||(t.append(uI(s,n,i),l(e)),!1)}const u=[],h=Object.assign(hI,{defaultVisitor:c,convertValue:l,isVisitable:lI});if(!rI.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!rI.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),rI.forEach(n,function(n,i){!0===(!(rI.isUndefined(n)||null===n)&&s.call(t,n,rI.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])}),u.pop()}}(e),t};function fI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function mI(e,t){this._pairs=[],e&&dI(e,this,t)}const pI=mI.prototype;pI.append=function(e,t){this._pairs.push([e,t])},pI.toString=function(e){const t=e?function(t){return e.call(this,t,fI)}:fI;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const gI=mI;function yI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vI(e,t,n){if(!t)return e;const r=n&&n.encode||yI;rI.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):rI.isURLSearchParams(t)?t.toString():new gI(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const xI=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rI.forEach(this.handlers,function(t){null!==t&&e(t)})}},wI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bI={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:gI,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},EI="undefined"!==typeof window&&"undefined"!==typeof document,SI="object"===typeof navigator&&navigator||void 0,NI=EI&&(!SI||["ReactNative","NativeScript","NS"].indexOf(SI.product)<0),AI="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,kI=EI&&window.location.href||"http://localhost",CI=ot(ot({},s),bI);const TI=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=s>=e.length;if(i=!i&&rI.isArray(r)?r.length:i,o)return rI.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&rI.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&rI.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(rI.isFormData(e)&&rI.isFunction(e.entries)){const n={};return rI.forEachEntry(e,(e,r)=>{t(function(e){return rI.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const jI={transitional:wI,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=rI.isObject(e);s&&rI.isHTMLForm(e)&&(e=new FormData(e));if(rI.isFormData(e))return r?JSON.stringify(TI(e)):e;if(rI.isArrayBuffer(e)||rI.isBuffer(e)||rI.isStream(e)||rI.isFile(e)||rI.isBlob(e)||rI.isReadableStream(e))return e;if(rI.isArrayBufferView(e))return e.buffer;if(rI.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return dI(e,new CI.classes.URLSearchParams,ot({visitor:function(e,t,n,r){return CI.isNode&&rI.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=rI.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return dI(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(rI.isString(e))try{return(t||JSON.parse)(e),rI.trim(e)}catch(GV){if("SyntaxError"!==GV.name)throw GV}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||jI.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(rI.isResponse(e)||rI.isReadableStream(e))return e;if(e&&rI.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(GV){if(n){if("SyntaxError"===GV.name)throw oI.from(GV,oI.ERR_BAD_RESPONSE,this,null,this.response);throw GV}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:CI.classes.FormData,Blob:CI.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rI.forEach(["delete","get","head","post","put","patch"],e=>{jI.headers[e]={}});const PI=jI,II=rI.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_I=Symbol("internals");function RI(e){return e&&String(e).trim().toLowerCase()}function DI(e){return!1===e||null==e?e:rI.isArray(e)?e.map(DI):String(e)}function MI(e,t,n,r,s){return rI.isFunction(r)?r.call(this,t,n):(s&&(t=n),rI.isString(t)?rI.isString(r)?-1!==t.indexOf(r):rI.isRegExp(r)?r.test(t):void 0:void 0)}class OI{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=RI(t);if(!s)throw new Error("header name must be a non-empty string");const i=rI.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=DI(e))}const i=(e,t)=>rI.forEach(e,(e,n)=>s(e,n,t));if(rI.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(rI.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&II[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(rI.isObject(e)&&rI.isIterable(e)){let n,r,s={};for(const t of e){if(!rI.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?rI.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=RI(e)){const n=rI.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(rI.isFunction(t))return t.call(this,e,n);if(rI.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=RI(e)){const n=rI.findKey(this,e);return!(!n||void 0===this[n]||t&&!MI(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=RI(e)){const s=rI.findKey(n,e);!s||t&&!MI(0,n[s],s,t)||(delete n[s],r=!0)}}return rI.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!MI(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return rI.forEach(this,(r,s)=>{const i=rI.findKey(n,s);if(i)return t[i]=DI(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();a!==s&&delete t[s],t[a]=DI(r),n[a]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return rI.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&rI.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[_I]=this[_I]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=RI(e);t[r]||(!function(e,t){const n=rI.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return rI.isArray(e)?e.forEach(r):r(e),this}}OI.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),rI.reduceDescriptors(OI.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),rI.freezeMethods(OI);const LI=OI;function UI(e,t){const n=this||PI,r=t||n,s=LI.from(r.headers);let i=r.data;return rI.forEach(e,function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function FI(e){return!(!e||!e.__CANCEL__)}function BI(e,t,n){oI.call(this,null==e?"canceled":e,oI.ERR_CANCELED,t,n),this.name="CanceledError"}rI.inherits(BI,oI,{__CANCEL__:!0});const VI=BI;function zI(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new oI("Request failed with status code "+n.status,[oI.ERR_BAD_REQUEST,oI.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const HI=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];s||(s=l),n[i]=o,r[i]=l;let u=a,h=0;for(;u!==i;)h+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const GI=function(e,t){let n,r,s=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout(()=>{r=null,a(n)},i-t)))},()=>n&&a(n)]},WI=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=HI(50,250);return GI(n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-r,l=s(o);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},qI=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},QI=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rI.asap(()=>e(...n))},KI=CI.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,CI.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(CI.origin),CI.navigator&&/(msie|trident)/i.test(CI.navigator.userAgent)):()=>!0,JI=CI.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];rI.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),rI.isString(r)&&a.push("path="+r),rI.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function YI(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const XI=e=>e instanceof LI?ot({},e):e;function ZI(e,t){t=t||{};const n={};function r(e,t,n,r){return rI.isPlainObject(e)&&rI.isPlainObject(t)?rI.merge.call({caseless:r},e,t):rI.isPlainObject(t)?rI.merge({},t):rI.isArray(t)?t.slice():t}function s(e,t,n,s){return rI.isUndefined(t)?rI.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!rI.isUndefined(t))return r(void 0,t)}function a(e,t){return rI.isUndefined(t)?rI.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>s(XI(e),XI(t),0,!0)};return rI.forEach(Object.keys(ot(ot({},e),t)),function(r){const i=l[r]||s,a=i(e[r],t[r],r);rI.isUndefined(a)&&i!==o||(n[r]=a)}),n}const $I=e=>{const t=ZI({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;if(t.headers=a=LI.from(a),t.url=vI(YI(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),rI.isFormData(n))if(CI.hasStandardBrowserEnv||CI.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(rI.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&a.set(n,r)})}if(CI.hasStandardBrowserEnv&&(r&&rI.isFunction(r)&&(r=r(t)),r||!1!==r&&KI(t.url))){const e=s&&i&&JI.read(i);e&&a.set(s,e)}return t},e_="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=$I(e);let s=r.data;const i=LI.from(r.headers).normalize();let a,o,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function m(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=LI.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());zI(function(e){t(e),m()},function(e){n(e),m()},{data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new oI("Request aborted",oI.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const r=t&&t.message?t.message:"Network Error",s=new oI(r,oI.ERR_NETWORK,e,p);s.event=t||null,n(s),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||wI;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new oI(t,s.clarifyTimeoutError?oI.ETIMEDOUT:oI.ECONNABORTED,e,p)),p=null},void 0===s&&i.setContentType(null),"setRequestHeader"in p&&rI.forEach(i.toJSON(),function(e,t){p.setRequestHeader(t,e)}),rI.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),h&&"json"!==h&&(p.responseType=r.responseType),f&&([l,u]=WI(f,!0),p.addEventListener("progress",l)),d&&p.upload&&([o,c]=WI(d),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{p&&(n(!t||t.type?new VI(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===CI.protocols.indexOf(y)?n(new oI("Unsupported protocol "+y+":",oI.ERR_BAD_REQUEST,e)):p.send(s||null)})},t_=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof oI?t:new VI(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new oI("timeout ".concat(t," of ms exceeded"),oI.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>rI.asap(a),o}};function n_(e,t){this.v=e,this.k=t}function r_(e){return function(){return new s_(e.apply(this,arguments))}}function s_(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,o=a instanceof n_;Promise.resolve(o?a.v:a).then(function(n){if(o){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}s(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(i,a){var o={key:e,arg:s,resolve:i,reject:a,next:null};n?n=n.next=o:(t=n=o,r(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function i_(e){return new n_(e,0)}function a_(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new n_(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function o_(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new l_(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function l_(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return l_=function(e){this.s=e,this.n=e.next},l_.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new l_(e)}s_.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s_.prototype.next=function(e){return this._invoke("next",e)},s_.prototype.throw=function(e){return this._invoke("throw",e)},s_.prototype.return=function(e){return this._invoke("return",e)};const c_=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},u_=function(){var e=r_(function*(e,t){var n,r=!1,s=!1;try{for(var i,a=o_(h_(e));r=!(i=yield i_(a.next())).done;r=!1){const e=i.value;yield*a_(o_(c_(e,t)))}}catch(o){s=!0,n=o}finally{try{r&&null!=a.return&&(yield i_(a.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),h_=function(){var e=r_(function*(e){if(e[Symbol.asyncIterator])return void(yield*a_(o_(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield i_(t.read());if(e)break;yield n}}finally{yield i_(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),d_=(e,t,n,r)=>{const s=u_(e,t);let i,a=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:f_}=rI,m_=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(rI.global),{ReadableStream:p_,TextEncoder:g_}=rI.global,y_=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(GV){return!1}},v_=e=>{e=rI.merge.call({skipUndefined:!0},m_,e);const{fetch:t,Request:n,Response:r}=e,s=t?f_(t):"function"===typeof fetch,i=f_(n),a=f_(r);if(!s)return!1;const o=s&&f_(p_),l=s&&("function"===typeof g_?(c=new g_,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=i&&o&&y_(()=>{let e=!1;const t=new n(CI.origin,{body:new p_,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),h=a&&o&&y_(()=>rI.isReadableStream(new r("").body)),d={stream:h&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new oI("Response type '".concat(e,"' is not supported"),oI.ERR_NOT_SUPPORT,n)})});const f=async(e,t)=>{const r=rI.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(rI.isBlob(e))return e.size;if(rI.isSpecCompliantForm(e)){const t=new n(CI.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return rI.isArrayBufferView(e)||rI.isArrayBuffer(e)?e.byteLength:(rI.isURLSearchParams(e)&&(e+=""),rI.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:a,data:o,signal:l,cancelToken:c,timeout:m,onDownloadProgress:p,onUploadProgress:g,responseType:y,headers:v,withCredentials:x="same-origin",fetchOptions:w}=$I(e),b=t||fetch;y=y?(y+"").toLowerCase():"text";let E=t_([l,c&&c.toAbortSignal()],m),S=null;const N=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let A;try{if(g&&u&&"get"!==a&&"head"!==a&&0!==(A=await f(v,o))){let e,t=new n(s,{method:"POST",body:o,duplex:"half"});if(rI.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=qI(A,WI(QI(g)));o=d_(t.body,65536,e,n)}}rI.isString(x)||(x=x?"include":"omit");const t=i&&"credentials"in n.prototype,l=ot(ot({},w),{},{signal:E,method:a.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?x:void 0});S=i&&new n(s,l);let c=await(i?b(S,w):b(s,l));const m=h&&("stream"===y||"response"===y);if(h&&(p||m&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=rI.toFiniteNumber(c.headers.get("content-length")),[n,s]=p&&qI(t,WI(QI(p),!0))||[];c=new r(d_(c.body,65536,n,()=>{s&&s(),N&&N()}),e)}y=y||"text";let k=await d[rI.findKey(d,y)||"text"](c,e);return!m&&N&&N(),await new Promise((t,n)=>{zI(t,n,{data:k,headers:LI.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:S})})}catch(k){if(N&&N(),k&&"TypeError"===k.name&&/Load failed|fetch/i.test(k.message))throw Object.assign(new oI("Network Error",oI.ERR_NETWORK,e,S),{cause:k.cause||k});throw oI.from(k,k&&k.code,e,S)}}},x_=new Map,w_=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a,o,l=i.length,c=x_;for(;l--;)a=i[l],o=c.get(a),void 0===o&&c.set(a,o=l?new Map:v_(t)),c=o;return o},b_=(w_(),{http:null,xhr:e_,fetch:{get:w_}});rI.forEach(b_,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(GV){}Object.defineProperty(e,"adapterName",{value:t})}});const E_=e=>"- ".concat(e),S_=e=>rI.isFunction(e)||null===e||!1===e,N_=(e,t)=>{e=rI.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){let n;if(r=e[a],s=r,!S_(r)&&(s=b_[(n=String(r)).toLowerCase()],void 0===s))throw new oI("Unknown adapter '".concat(n,"'"));if(s&&(rI.isFunction(s)||(s=s.get(t))))break;i[n||"#"+a]=s}if(!s){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(E_).join("\n"):" "+E_(e[0]):"as no adapter specified";throw new oI("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s};function A_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new VI(null,e)}function k_(e){A_(e),e.headers=LI.from(e.headers),e.data=UI.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return N_(e.adapter||PI.adapter,e)(e).then(function(t){return A_(e),t.data=UI.call(e,e.transformResponse,t),t.headers=LI.from(t.headers),t},function(t){return FI(t)||(A_(e),t&&t.response&&(t.response.data=UI.call(e,e.transformResponse,t.response),t.response.headers=LI.from(t.response.headers))),Promise.reject(t)})}const C_="1.12.2",T_={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{T_[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const j_={};T_.transitional=function(e,t,n){function r(e,t){return"[Axios v"+C_+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new oI(r(s," has been removed"+(t?" in "+t:"")),oI.ERR_DEPRECATED);return t&&!j_[s]&&(j_[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},T_.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const P_={assertOptions:function(e,t,n){if("object"!==typeof e)throw new oI("options must be an object",oI.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new oI("option "+i+" must be "+n,oI.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new oI("Unknown option "+i,oI.ERR_BAD_OPTION)}},validators:T_},I_=P_.validators;class __{constructor(e){this.defaults=e||{},this.interceptors={request:new xI,response:new xI}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(GV){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ZI(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&P_.assertOptions(n,{silentJSONParsing:I_.transitional(I_.boolean),forcedJSONParsing:I_.transitional(I_.boolean),clarifyTimeoutError:I_.transitional(I_.boolean)},!1),null!=r&&(rI.isFunction(r)?t.paramsSerializer={serialize:r}:P_.assertOptions(r,{encode:I_.function,serialize:I_.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),P_.assertOptions(t,{baseUrl:I_.spelling("baseURL"),withXsrfToken:I_.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&rI.merge(s.common,s[t.method]);s&&rI.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=LI.concat(i,s);const a=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,h=0;if(!o){const e=[k_.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=a.length;let d=t;for(;h<u;){const e=a[h++],t=a[h++];try{d=e(d)}catch(WV){t.call(this,WV);break}}try{c=k_.call(this,d)}catch(WV){return Promise.reject(WV)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return vI(YI((e=ZI(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}rI.forEach(["delete","get","head","options"],function(e){__.prototype[e]=function(t,n){return this.request(ZI(n||{},{method:e,url:t,data:(n||{}).data}))}}),rI.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(ZI(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}__.prototype[e]=t(),__.prototype[e+"Form"]=t(!0)});const R_=__;class D_{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new VI(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new D_(function(t){e=t}),cancel:e}}}const M_=D_;const O_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(O_).forEach(e=>{let[t,n]=e;O_[n]=t});const L_=O_;const U_=function e(t){const n=new R_(t),r=vP(R_.prototype.request,n);return rI.extend(r,R_.prototype,n,{allOwnKeys:!0}),rI.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ZI(t,n))},r}(PI);U_.Axios=R_,U_.CanceledError=VI,U_.CancelToken=M_,U_.isCancel=FI,U_.VERSION=C_,U_.toFormData=dI,U_.AxiosError=oI,U_.Cancel=U_.CanceledError,U_.all=function(e){return Promise.all(e)},U_.spread=function(e){return function(t){return e.apply(null,t)}},U_.isAxiosError=function(e){return rI.isObject(e)&&!0===e.isAxiosError},U_.mergeConfig=ZI,U_.AxiosHeaders=LI,U_.formToJSON=e=>TI(rI.isHTMLForm(e)?new FormData(e):e),U_.getAdapter=N_,U_.HttpStatusCode=L_,U_.default=U_;const F_=U_,B_=async(e,t)=>{try{const n=await(async()=>{try{return(await F_.get("https://api.ipify.org?format=json")).data.ip}catch(WV){return console.error("Error fetching IP:",WV),"Unknown"}})(),r={walletAddress:e.toLowerCase(),walletType:t,ipAddress:n,createdAt:pk(),balance:0,totalDeposits:0,totalWithdrawals:0,totalTrades:0,totalProfit:0,isActive:!0,lastLogin:pk()};return ot({id:(await hk(nA(pP,"users"),r)).id},r)}catch(WV){throw console.error("Error creating user:",WV),WV}},V_=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"deposit";try{const r=rA(pP,"users",e),s={balance:gk(t),lastUpdated:pk()};return"deposit"===n?s.totalDeposits=gk(t):"withdrawal"===n&&(s.totalWithdrawals=gk(t)),await uk(r,s),!0}catch(WV){throw console.error("Error updating user balance:",WV),WV}},z_=async function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;try{const i=await async function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;try{const i=await ok(rA(pP,"users",e));if(!i.exists())throw new Error("User not found");if(i.data().balance<n)throw new Error("Insufficient balance");const a=await W_(t),o={userId:e,asset:t.toUpperCase(),amount:parseFloat(n),tradeType:r,leverage:parseFloat(s),entryPrice:a,currentPrice:a,status:"open",profit:0,createdAt:pk(),closedAt:null,isSmartTrade:!1},l=await hk(nA(pP,"trades"),o);return await V_(e,-n),ot({id:l.id},o)}catch(WV){throw console.error("Error creating trade:",WV),WV}}(e,t,n,r,s),a=rA(pP,"trades",i.id);return await uk(a,{isSmartTrade:!0}),ot(ot({},i),{},{isSmartTrade:!0})}catch(WV){throw console.error("Error creating smart trade:",WV),WV}},H_=new Map,G_=async(e,t)=>{try{if(console.log("Validating balance for wallet:",e),console.log("Trade data:",t),!(e=>{const t=Date.now(),n=(H_.get(e)||[]).filter(e=>t-e<6e4);return!(n.length>=3)&&(n.push(t),H_.set(e,n),!0)})(e))return{success:!1,error:"RATE_LIMIT_EXCEEDED",message:"Too many orders. Please wait before creating another order."};const n=WA(nA(pP,"users"),QA("walletAddress","==",e.toLowerCase())),r=await ck(n);if(r.empty)throw new Error("User not found");const s=r.docs[0],i=s.data().balance||0,a=t.amount||0;if(console.log("Current balance:",i),console.log("Order amount:",a),i<a)return console.log("Insufficient balance detected"),{success:!1,error:"INSUFFICIENT_FUNDS",currentBalance:i,requiredAmount:a,shortfall:a-i};const o=ot(ot({},t),{},{walletAddress:e.toLowerCase(),status:"Active",createdAt:pk(),validatedAt:pk(),balanceAtCreation:i,orderAmount:a,profit:0,totalRevenue:0,todayEarnings:0,dailyRor:"1 Day"===t.timeframe?"2.5%-3.0%":"7 Days"===t.timeframe?"1.8%-2.1%":"15 Days"===t.timeframe?"1.5%-1.8%":"30 Days"===t.timeframe?"1.2%-1.5%":"1.0%-1.3%"}),l=await hk(nA(pP,"trades"),o);return await uk(rA(pP,"users",s.id),{balance:gk(-a),totalTrades:gk(1),lastTradeAt:pk()}),console.log("Trade created successfully:",l.id),{success:!0,tradeId:l.id,newBalance:i-a,tradeData:ot(ot({},o),{},{id:l.id})}}catch(WV){throw console.error("Error validating balance and creating trade:",WV),WV}},W_=async e=>{try{let t=0;if(e.toUpperCase().includes("BTC")){t=(await F_.get("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd")).data.bitcoin.usd}else if(e.toUpperCase().includes("ETH")){t=(await F_.get("https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")).data.ethereum.usd}else if(e.toUpperCase().includes("EUR")){t=1/(await F_.get("https://api.exchangerate-api.com/v4/latest/USD")).data.rates.EUR}else if(e.toUpperCase().includes("GBP")){t=1/(await F_.get("https://api.exchangerate-api.com/v4/latest/USD")).data.rates.GBP}else t=1e3*Math.random()+100;return t}catch(WV){return console.error("Error fetching real-time price:",WV),1e3*Math.random()+100}},q_=async e=>{try{const t=WA(nA(pP,"trades"),QA("userId","==",e),YA("createdAt","desc"));return(await ck(t)).docs.map(e=>ot({id:e.id},e.data()))}catch(WV){throw console.error("Error getting user trades:",WV),WV}},Q_=async e=>{try{const t=WA(nA(pP,"deposits"),QA("userId","==",e),YA("createdAt","desc"));return(await ck(t)).docs.map(e=>ot({id:e.id},e.data()))}catch(WV){throw console.error("Error getting user deposits:",WV),WV}},K_=async e=>{try{const t=WA(nA(pP,"withdrawals"),QA("userId","==",e),YA("createdAt","desc"));return(await ck(t)).docs.map(e=>ot({id:e.id},e.data()))}catch(WV){throw console.error("Error getting user withdrawals:",WV),WV}},J_=["Thank you for your message! We'll get back to you shortly.","Hello! Thanks for reaching out. Our support team will respond soon.","Hi there! We've received your message and will reply as soon as possible.","Thank you for contacting us! We're here to help and will respond shortly.","Hello! We appreciate your message. Our team will get back to you soon."],Y_=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{const i={userId:e,message:t,isAdmin:n,adminId:r||null,createdAt:pk(),read:!1,conversationId:e},a=ot({id:(await hk(nA(pP,"chatMessages"),i)).id},i);if(!n)try{setTimeout(async()=>{await(async e=>{try{const t={userId:e,message:J_[Math.floor(Math.random()*J_.length)],isAdmin:!0,adminId:"auto-reply-system",createdAt:pk(),read:!1,conversationId:e,isAutoReply:!0};return ot({id:(await hk(nA(pP,"chatMessages"),t)).id},t)}catch(WV){throw console.error("Error sending auto-reply:",WV),WV}})(e)},1e3+2e3*Math.random())}catch(s){console.error("Error sending auto-reply:",s)}return a}catch(WV){throw console.error("Error sending message:",WV),WV}},X_=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"admin";try{const r={userId:e,message:t,isAdmin:!0,adminId:n,createdAt:pk(),read:!1,conversationId:e};return ot({id:(await hk(nA(pP,"chatMessages"),r)).id},r)}catch(WV){throw console.error("Error sending admin message:",WV),WV}},Z_=async e=>{try{const t=WA(nA(pP,"chatMessages"),QA("userId","==",e)),n=await ck(t);return n.docs.map(e=>ot({id:e.id},e.data())).sort((e,t)=>{var n,r;return(null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate():new Date(e.createdAt||0))-(null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():new Date(t.createdAt||0))})}catch(WV){throw console.error("Error getting chat history:",WV),WV}},$_=(e,t)=>{try{return dk(WA(nA(pP,"chatMessages"),QA("userId","==",e)),t,e=>{console.error("Error in subscribeToChatMessages:",e)})}catch(WV){return console.error("Error setting up subscribeToChatMessages:",WV),()=>{}}},eR="undefined"!==typeof document,tR=eR?a.useLayoutEffect:a.useEffect;function nR(){const e=(0,a.useRef)(!1);return tR(()=>(e.current=!0,()=>{e.current=!1}),[]),e}const rR=e=>e;class sR{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const iR=["prepare","read","update","preRender","render","postRender"];const{schedule:aR,cancel:oR,state:lR,steps:cR}=function(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=iR.reduce((e,t)=>(e[t]=function(e){let t=new sR,n=new sR,r=0,s=!1,i=!1;const a=new WeakSet,o={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s,o=i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&i&&s&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(s)i=!0;else{if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}s=!1,i&&(i=!1,o.process(l))}}};return o}(()=>n=!0),e),{}),a=e=>i[e].process(s),o=()=>{const i=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1),s.timestamp=i,s.isProcessing=!0,iR.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(o))},l=iR.reduce((t,a)=>{const l=i[a];return t[a]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(o)),l.schedule(t,i,a)},t},{});return{schedule:l,cancel:e=>iR.forEach(t=>i[t].cancel(e)),state:s,steps:i}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:rR,!0);const uR=(0,a.createContext)(null);function hR(e){const t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}class dR extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fR(e){let{children:t,isPresent:n}=e;const r=(0,a.useId)(),s=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{const{width:e,height:t,top:a,left:o}=i.current;if(n||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),a.createElement(dR,{isPresent:n,childRef:s,sizeRef:i},a.cloneElement(t,{ref:s}))}const mR=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:l}=e;const c=hR(pR),u=(0,a.useId)(),h=(0,a.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:i,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[r]);return(0,a.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),a.useEffect(()=>{!r&&!c.size&&s&&s()},[r]),"popLayout"===l&&(t=a.createElement(fR,{isPresent:r},t)),a.createElement(uR.Provider,{value:h},t)};function pR(){return new Map}const gR=(0,a.createContext)({});let yR=rR,vR=rR;const xR=e=>e.key||"";const wR=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:l="sync"}=e;vR(!i,"Replace exitBeforeEnter with mode='wait'");const c=(0,a.useContext)(gR).forceRender||function(){const e=nR(),[t,n]=(0,a.useState)(0),r=(0,a.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,a.useCallback)(()=>aR.postRender(r),[r]),t]}()[0],u=nR(),h=function(e){const t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(t);let d=h;const f=(0,a.useRef)(new Map).current,m=(0,a.useRef)(d),p=(0,a.useRef)(new Map).current,g=(0,a.useRef)(!0);if(tR(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=xR(e);t.set(n,e)})}(h,p),m.current=d}),function(e){(0,a.useEffect)(()=>()=>e(),[])}(()=>{g.current=!0,p.clear(),f.clear()}),g.current)return a.createElement(a.Fragment,null,d.map(e=>a.createElement(mR,{key:xR(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:o,mode:l},e)));d=[...d];const y=m.current.map(xR),v=h.map(xR),x=y.length;for(let a=0;a<x;a++){const e=y[a];-1!==v.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(d=[]),f.forEach((e,t)=>{if(-1!==v.indexOf(t))return;const r=p.get(t);if(!r)return;const i=y.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(p.keys()).filter(e=>!v.includes(e));if(e.forEach(e=>p.delete(e)),m.current=h.filter(n=>{const r=xR(n);return r===t||e.includes(r)}),!f.size){if(!1===u.current)return;c(),s&&s()}};g=a.createElement(mR,{key:xR(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},r),f.set(t,g)}d.splice(i,0,g)}),d=d.map(e=>{const t=e.key;return f.has(t)?e:a.createElement(mR,{key:xR(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)}),a.createElement(a.Fragment,null,f.size?d:d.map(e=>(0,a.cloneElement)(e)))},bR=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ER=(0,a.createContext)({}),SR=(0,a.createContext)({strict:!1}),NR=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),AR="data-"+NR("framerAppearId");function kR(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function CR(e){return"string"===typeof e||Array.isArray(e)}function TR(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const jR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PR=["initial",...jR];function IR(e){return TR(e.animate)||PR.some(t=>CR(e[t]))}function _R(e){return Boolean(IR(e)||e.variants)}function RR(e){const{initial:t,animate:n}=function(e,t){if(IR(e)){const{initial:t,animate:n}=e;return{initial:!1===t||CR(t)?t:void 0,animate:CR(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(ER));return(0,a.useMemo)(()=>({initial:t,animate:n}),[DR(t),DR(n)])}function DR(e){return Array.isArray(e)?e.join(" "):e}const MR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},OR={};for(const QV in MR)OR[QV]={isEnabled:e=>MR[QV].some(t=>!!e[t])};const LR=(0,a.createContext)({}),UR=Symbol.for("motionComponentSymbol");function FR(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:i}=e;t&&function(e){for(const t in e)OR[t]=ot(ot({},OR[t]),e[t])}(t);const o=(0,a.forwardRef)(function(e,o){let l;const c=ot(ot(ot({},(0,a.useContext)(bR)),e),{},{layoutId:BR(e)}),{isStatic:u}=c,h=RR(e),d=s(e,u);if(!u&&eR){h.visualElement=function(e,t,n,r){const{visualElement:s}=(0,a.useContext)(ER),i=(0,a.useContext)(SR),o=(0,a.useContext)(uR),l=(0,a.useContext)(bR).reducedMotion,c=(0,a.useRef)();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,a.useInsertionEffect)(()=>{u&&u.update(n,o)});const h=(0,a.useRef)(Boolean(n[AR]&&!window.HandoffComplete));return tR(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),(0,a.useEffect)(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}(i,d,c,n);const e=(0,a.useContext)(LR),r=(0,a.useContext)(SR).strict;h.visualElement&&(l=h.visualElement.loadFeatures(c,r,t,e))}return a.createElement(ER.Provider,{value:h},l&&h.visualElement?a.createElement(l,ot({visualElement:h.visualElement},c)):null,r(i,e,function(e,t,n){return(0,a.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):kR(n)&&(n.current=r))},[t])}(d,h.visualElement,o),d,u,h.visualElement))});return o[UR]=i,o}function BR(e){let{layoutId:t}=e;const n=(0,a.useContext)(gR).id;return n&&void 0!==t?n+"-"+t:t}function VR(e){function t(t){return FR(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const zR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HR(e){return"string"===typeof e&&!e.includes("-")&&!!(zR.indexOf(e)>-1||/[A-Z]/.test(e))}const GR={};const WR=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qR=new Set(WR);function QR(e,t){let{layout:n,layoutId:r}=t;return qR.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!GR[e]||"opacity"===e)}const KR=e=>Boolean(e&&e.getVelocity),JR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YR=WR.length;const XR=e=>t=>"string"===typeof t&&t.startsWith(e),ZR=XR("--"),$R=XR("var(--"),eD=(e,t)=>t&&"number"===typeof e?t.transform(e):e,tD=(e,t,n)=>Math.min(Math.max(n,e),t),nD={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},rD=ot(ot({},nD),{},{transform:e=>tD(0,1,e)}),sD=ot(ot({},nD),{},{default:1}),iD=e=>Math.round(1e5*e)/1e5,aD=/(-)?([\d]*\.?[\d])+/g,oD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lD=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cD(e){return"string"===typeof e}const uD=e=>({test:t=>cD(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),hD=uD("deg"),dD=uD("%"),fD=uD("px"),mD=uD("vh"),pD=uD("vw"),gD=ot(ot({},dD),{},{parse:e=>dD.parse(e)/100,transform:e=>dD.transform(100*e)}),yD=ot(ot({},nD),{},{transform:Math.round}),vD={borderWidth:fD,borderTopWidth:fD,borderRightWidth:fD,borderBottomWidth:fD,borderLeftWidth:fD,borderRadius:fD,radius:fD,borderTopLeftRadius:fD,borderTopRightRadius:fD,borderBottomRightRadius:fD,borderBottomLeftRadius:fD,width:fD,maxWidth:fD,height:fD,maxHeight:fD,size:fD,top:fD,right:fD,bottom:fD,left:fD,padding:fD,paddingTop:fD,paddingRight:fD,paddingBottom:fD,paddingLeft:fD,margin:fD,marginTop:fD,marginRight:fD,marginBottom:fD,marginLeft:fD,rotate:hD,rotateX:hD,rotateY:hD,rotateZ:hD,scale:sD,scaleX:sD,scaleY:sD,scaleZ:sD,skew:hD,skewX:hD,skewY:hD,distance:fD,translateX:fD,translateY:fD,translateZ:fD,x:fD,y:fD,z:fD,perspective:fD,transformPerspective:fD,opacity:rD,originX:gD,originY:gD,originZ:fD,zIndex:yD,fillOpacity:rD,strokeOpacity:rD,numOctaves:yD};function xD(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const h in t){const e=t[h];if(ZR(h)){i[h]=e;continue}const n=vD[h],r=eD(e,n);if(qR.has(h)){if(l=!0,a[h]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,o[h]=r):s[h]=r}if(t.transform||(l||r?s.transform=function(e,t,n,r){let{enableHardwareAcceleration:s=!0,allowTransformNone:i=!0}=t,a="";for(let o=0;o<YR;o++){const t=WR[o];void 0!==e[t]&&(a+="".concat(JR[t]||t,"(").concat(e[t],") "))}return s&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):i&&n&&(a="none"),a}(e.transform,n,u,r):s.transform&&(s.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;s.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const wD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bD(e,t,n){for(const r in t)KR(t[r])||QR(r,n)||(e[r]=t[r])}function ED(e,t,n){const r={};return bD(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,a.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return xD(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function SD(e,t,n){const r={},s=ED(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const ND=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function AD(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ND.has(e)}let kD=e=>!AD(e);try{(CD=require("@emotion/is-prop-valid").default)&&(kD=e=>e.startsWith("on")?!AD(e):CD(e))}catch(qV){}var CD;function TD(e,t,n){return"string"===typeof e?e:fD.transform(t+n*e)}const jD={offset:"stroke-dashoffset",array:"stroke-dasharray"},PD={offset:"strokeDashoffset",array:"strokeDasharray"};const ID=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function _D(e,t,n,r,s){let{attrX:i,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0}=t;if(xD(e,yk(t,ID),n,s),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:p}=e;f.transform&&(p&&(m.transform=f.transform),delete f.transform),p&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){const r=TD(t,e.x,e.width),s=TD(n,e.y,e.height);return"".concat(r," ").concat(s)}(p,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==i&&(f.x=i),void 0!==a&&(f.y=a),void 0!==o&&(f.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?jD:PD;e[i.offset]=fD.transform(-r);const a=fD.transform(t),o=fD.transform(n);e[i.array]="".concat(a," ").concat(o)}(f,u,h,d,!1)}const RD=()=>ot(ot({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),DD=e=>"string"===typeof e&&"svg"===e.toLowerCase();function MD(e,t,n,r){const s=(0,a.useMemo)(()=>{const n=RD();return _D(n,t,{enableHardwareAcceleration:!1},DD(r),e.transformTemplate),ot(ot({},n.attrs),{},{style:ot({},n.style)})},[t]);if(e.style){const t={};bD(t,e.style,e),s.style=ot(ot({},t),s.style)}return s}function OD(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,i)=>{let{latestValues:o}=s;const l=(HR(t)?MD:SD)(n,o,i,t),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(kD(s)||!0===n&&AD(s)||!t&&!AD(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"===typeof t,e),u=ot(ot(ot({},c),l),{},{ref:r}),{children:h}=n,d=(0,a.useMemo)(()=>KR(h)?h.get():h,[h]);return(0,a.createElement)(t,ot(ot({},u),{},{children:d}))}}function LD(e,t,n,r){let{style:s,vars:i}=t;Object.assign(e.style,s,r&&r.getProjectionStyles(n));for(const a in i)e.style.setProperty(a,i[a])}const UD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FD(e,t,n,r){LD(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(UD.has(s)?s:NR(s),t.attrs[s])}function BD(e,t){const{style:n}=e,r={};for(const s in n)(KR(n[s])||t.style&&KR(t.style[s])||QR(s,e))&&(r[s]=n[s]);return r}function VD(e,t){const n=BD(e,t);for(const r in e)if(KR(e[r])||KR(t[r])){n[-1!==WR.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function zD(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,s)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,s)),t}const HD=e=>Array.isArray(e),GD=e=>HD(e)?e[e.length-1]||0:e;function WD(e){const t=KR(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const qD=["transitionEnd","transition"];const QD=e=>(t,n)=>{const r=(0,a.useContext)(ER),s=(0,a.useContext)(uR),i=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i,onMount:a}=e;const o={latestValues:KD(t,n,r,s),renderState:i()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,r,s);return n?i():hR(i)};function KD(e,t,n,r){const s={},i=r(e,{});for(const d in i)s[d]=WD(i[d]);let{initial:a,animate:o}=e;const l=IR(e),c=_R(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?o:a;if(h&&"boolean"!==typeof h&&!TR(h)){(Array.isArray(h)?h:[h]).forEach(t=>{const n=zD(e,t);if(!n)return;const{transitionEnd:r,transition:i}=n,a=yk(n,qD);for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(s[e]=t)}for(const e in r)s[e]=r[e]})}return s}const JD={useVisualState:QD({scrapeMotionValuesFromProps:VD,createRenderState:RD,onMount:(e,t,n)=>{let{renderState:r,latestValues:s}=n;aR.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(GV){r.dimensions={x:0,y:0,width:0,height:0}}}),aR.render(()=>{_D(r,s,{enableHardwareAcceleration:!1},DD(t.tagName),e.transformTemplate),FD(t,r)})}})},YD={useVisualState:QD({scrapeMotionValuesFromProps:BD,createRenderState:wD})};function XD(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ZD=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function $D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function eM(e,t,n,r){return XD(e,t,(e=>t=>ZD(t)&&e(t,$D(t)))(n),r)}const tM=(e,t)=>n=>t(e(n)),nM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(tM)};function rM(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const sM=rM("dragHorizontal"),iM=rM("dragVertical");function aM(e){let t=!1;if("y"===e)t=iM();else if("x"===e)t=sM();else{const e=sM(),n=iM();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function oM(){const e=aM(!0);return!e||(e(),!1)}class lM{constructor(e){this.isMounted=!1,this.node=e}update(){}}function cM(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return eM(e.current,n,(n,s)=>{if("touch"===n.pointerType||oM())return;const i=e.getProps();e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",t),i[r]&&aR.update(()=>i[r](n,s))},{passive:!e.getProps()[r]})}const uM=(e,t)=>!!t&&(e===t||uM(e,t.parentElement));function hM(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,$D(n))}const dM=["root"],fM=new WeakMap,mM=new WeakMap,pM=e=>{const t=fM.get(e.target);t&&t(e)},gM=e=>{e.forEach(pM)};function yM(e,t,n){const r=function(e){let{root:t}=e,n=yk(e,dM);const r=t||document;mM.has(r)||mM.set(r,{});const s=mM.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(gM,ot({root:t},n))),s[i]}(t);return fM.set(e,n),r.observe(e),()=>{fM.delete(e),r.unobserve(e)}}const vM={some:0,all:1};const xM={inView:{Feature:class extends lM{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:vM[r]};return yM(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends lM{constructor(){super(...arguments),this.removeStartListeners=rR,this.removeEndListeners=rR,this.removeAccessibleListeners=rR,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=eM(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:s}=this.node.getProps();aR.update(()=>{s||uM(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),s=eM(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=nM(r,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=XD(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=XD(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&hM("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&aR.update(()=>n(e,t))})}),hM("down",(e,t)=>{this.startPress(e,t)})}),t=XD(this.node.current,"blur",()=>{this.isPressing&&hM("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=nM(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&aR.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oM()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&aR.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=eM(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=XD(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nM(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends lM{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(GV){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nM(XD(this.node.current,"focus",()=>this.onFocus()),XD(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends lM{mount(){this.unmount=nM(cM(this.node,!0),cM(this.node,!1))}unmount(){}}}};function wM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function bM(e,t,n){const r=e.getProps();return zD(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}const EM=e=>1e3*e,SM=e=>e/1e3,NM=!1,AM=e=>Array.isArray(e)&&"number"===typeof e[0];function kM(e){return Boolean(!e||"string"===typeof e&&TM[e]||AM(e)||Array.isArray(e)&&e.every(kM))}const CM=e=>{let[t,n,r,s]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(s,")")},TM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:CM([0,.65,.55,1]),circOut:CM([.55,0,1,.45]),backIn:CM([.31,.01,.66,-.59]),backOut:CM([.33,1.53,.69,.99])};function jM(e){if(e)return AM(e)?CM(e):Array.isArray(e)?e.map(jM):TM[e]}const PM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function IM(e,t,n,r){if(e===t&&n===r)return rR;const s=t=>function(e,t,n,r,s){let i,a,o=0;do{a=t+(n-t)/2,i=PM(a,r,s)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:PM(s(e),t,r)}const _M=IM(.42,0,1,1),RM=IM(0,0,.58,1),DM=IM(.42,0,.58,1),MM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,OM=e=>t=>1-e(1-t),LM=e=>1-Math.sin(Math.acos(e)),UM=OM(LM),FM=MM(LM),BM=IM(.33,1.53,.69,.99),VM=OM(BM),zM=MM(VM),HM={linear:rR,easeIn:_M,easeInOut:DM,easeOut:RM,circIn:LM,circInOut:FM,circOut:UM,backIn:VM,backInOut:zM,backOut:BM,anticipate:e=>(e*=2)<1?.5*VM(e):.5*(2-Math.pow(2,-10*(e-1)))},GM=e=>{if(Array.isArray(e)){vR(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,s]=e;return IM(t,n,r,s)}return"string"===typeof e?(vR(void 0!==HM[e],"Invalid easing type '".concat(e,"'")),HM[e]):e},WM=(e,t)=>n=>Boolean(cD(n)&&lD.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),qM=(e,t,n)=>r=>{if(!cD(r))return r;const[s,i,a,o]=r.match(aD);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},QM=ot(ot({},nD),{},{transform:e=>Math.round((e=>tD(0,255,e))(e))}),KM={test:WM("rgb","red"),parse:qM("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+QM.transform(t)+", "+QM.transform(n)+", "+QM.transform(r)+", "+iD(rD.transform(s))+")"}};const JM={test:WM("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:KM.transform},YM={test:WM("hsl","hue"),parse:qM("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+dD.transform(iD(n))+", "+dD.transform(iD(r))+", "+iD(rD.transform(s))+")"}},XM={test:e=>KM.test(e)||JM.test(e)||YM.test(e),parse:e=>KM.test(e)?KM.parse(e):YM.test(e)?YM.parse(e):JM.parse(e),transform:e=>cD(e)?e:e.hasOwnProperty("red")?KM.transform(e):YM.transform(e)},ZM=(e,t,n)=>-n*e+n*t+e;function $M(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const eO=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},tO=[JM,KM,YM];function nO(e){const t=(n=e,tO.find(e=>e.test(n)));var n;vR(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===YM&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=$M(s,e,t+1/3),a=$M(s,e,t),o=$M(s,e,t-1/3)}else i=a=o=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:s}}(r)),r}const rO=(e,t)=>{const n=nO(e),r=nO(t),s=ot({},n);return e=>(s.red=eO(n.red,r.red,e),s.green=eO(n.green,r.green,e),s.blue=eO(n.blue,r.blue,e),s.alpha=ZM(n.alpha,r.alpha,e),KM.transform(s))};const sO={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:rR},iO={regex:oD,countKey:"Colors",token:"${c}",parse:XM.parse},aO={regex:aD,countKey:"Numbers",token:"${n}",parse:nD.parse};function oO(e,t){let{regex:n,countKey:r,token:s,parse:i}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,s),e.values.push(...a.map(i)))}function lO(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&oO(n,sO),oO(n,iO),oO(n,aO),n}function cO(e){return lO(e).values}function uO(e){const{values:t,numColors:n,numVars:r,tokenised:s}=lO(e),i=t.length;return e=>{let t=s;for(let s=0;s<i;s++)t=s<r?t.replace(sO.token,e[s]):s<r+n?t.replace(iO.token,XM.transform(e[s])):t.replace(aO.token,iD(e[s]));return t}}const hO=e=>"number"===typeof e?0:e;const dO={test:function(e){var t,n;return isNaN(e)&&cD(e)&&((null===(t=e.match(aD))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(oD))||void 0===n?void 0:n.length)||0)>0},parse:cO,createTransformer:uO,getAnimatableNone:function(e){const t=cO(e);return uO(e)(t.map(hO))}},fO=(e,t)=>n=>"".concat(n>0?t:e);function mO(e,t){return"number"===typeof e?n=>ZM(e,t,n):XM.test(e)?rO(e,t):e.startsWith("var(")?fO(e,t):yO(e,t)}const pO=(e,t)=>{const n=[...e],r=n.length,s=e.map((e,n)=>mO(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}},gO=(e,t)=>{const n=ot(ot({},e),t),r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=mO(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}},yO=(e,t)=>{const n=dO.createTransformer(t),r=lO(e),s=lO(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?nM(pO(r.values,s.values),n):(yR(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),fO(e,t))},vO=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},xO=(e,t)=>n=>ZM(e,t,n);function wO(e,t,n){const r=[],s=n||("number"===typeof(i=e[0])?xO:"string"===typeof i?XM.test(i)?rO:yO:Array.isArray(i)?pO:"object"===typeof i?gO:xO);var i;const a=e.length-1;for(let o=0;o<a;o++){let n=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||rR:t;n=nM(e,n)}r.push(n)}return r}function bO(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(vR(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=wO(t,r,s),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=vO(e[n],e[n+1],t);return a[n](r)};return n?t=>l(tD(e[0],e[i-1],t)):l}function EO(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=vO(0,t,r);e.push(ZM(n,1,s))}}(t,e.length-1),t}function SO(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(GM):GM(s),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:EO(n),t),l=bO(o,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map(()=>u||DM).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function NO(e,t){return t?e*(1e3/t):0}function AO(e,t,n){const r=Math.max(t-5,0);return NO(n-e(r),t-r)}const kO=.001;function CO(e){let t,n,{duration:r=800,bounce:s=.25,velocity:i=0,mass:a=1}=e;yR(r<=EM(10),"Spring duration must be 10 seconds or less");let o=1-s;o=tD(.05,1,o),r=tD(.01,10,SM(r)),o<1?(t=e=>{const t=e*o,n=t*r,s=t-i,a=jO(e,o),l=Math.exp(-n);return kO-s/a*l},n=e=>{const n=e*o*r,s=n*i+i,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=jO(Math.pow(e,2),o);return(-t(e)+kO>0?-1:1)*((s-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<TO;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=EM(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const TO=12;function jO(e,t){return e*Math.sqrt(1-t*t)}const PO=["keyframes","restDelta","restSpeed"],IO=["duration","bounce"],_O=["stiffness","damping","mass"];function RO(e,t){return t.some(t=>void 0!==e[t])}function DO(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,s=yk(e,PO);const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t=ot({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!RO(e,_O)&&RO(e,IO)){const n=CO(e);t=ot(ot(ot({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(ot(ot({},s),{},{velocity:-SM(s.velocity||0)})),m=d||0,p=c/(2*Math.sqrt(l*u)),g=a-i,y=SM(Math.sqrt(l/u)),v=Math.abs(g)<5;let x;if(r||(r=v?.01:2),n||(n=v?.005:.5),p<1){const e=jO(y,p);x=t=>{const n=Math.exp(-p*y*t);return a-n*((m+p*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===p)x=e=>a-Math.exp(-y*e)*(g+(m+y*g)*e);else{const e=y*Math.sqrt(p*p-1);x=t=>{const n=Math.exp(-p*y*t),r=Math.min(e*t,300);return a-n*((m+p*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=x(e);if(f)o.done=e>=h;else{let s=m;0!==e&&(s=p<1?AO(x,e,t):0);const i=Math.abs(s)<=r,l=Math.abs(a-t)<=n;o.done=i&&l}return o.value=o.done?a:t,o}}}function MO(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let p=r*n;const g=d+p,y=void 0===o?g:o(g);y!==g&&(p=y-d);const v=e=>-p*Math.exp(-e/s),x=e=>y+v(e),w=e=>{const t=v(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let b,E;const S=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(b=e,E=DO({keyframes:[f.value,m(f.value)],velocity:AO(x,e,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==b||(t=!0,w(e),S(e)),void 0!==b&&e>b?E.next(e-b):(!t&&w(e),f)}}}const OO=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>aR.update(t,!0),stop:()=>oR(t),now:()=>lR.isProcessing?lR.timestamp:performance.now()}};function LO(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const UO=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],FO={decay:MO,inertia:MO,tween:SO,keyframes:SO,spring:DO};function BO(e){let t,n,{autoplay:r=!0,delay:s=0,driver:i=OO,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:m}=e,p=yk(e,UO),g=1,y=!1;const v=()=>{n=new Promise(e=>{t=e})};let x;v();const w=FO[o]||SO;let b;w!==SO&&"number"!==typeof a[0]&&(b=bO([0,100],a,{clamp:!1}),a=[0,100]);const E=w(ot(ot({},p),{},{keyframes:a}));let S;"mirror"===u&&(S=w(ot(ot({},p),{},{keyframes:[...a].reverse(),velocity:-(p.velocity||0)})));let N="idle",A=null,k=null,C=null;null===E.calculatedDuration&&l&&(E.calculatedDuration=LO(E));const{calculatedDuration:T}=E;let j=1/0,P=1/0;null!==T&&(j=T+c,P=j*(l+1)-c);let I=0;const _=e=>{if(null===k)return;g>0&&(k=Math.min(k,e)),g<0&&(k=Math.min(e-P/g,k)),I=null!==A?A:Math.round(e-k)*g;const t=I-s*(g>=0?1:-1),n=g>=0?t<0:t>P;I=Math.max(t,0),"finished"===N&&null===A&&(I=P);let r=I,i=E;if(l){const e=Math.min(I,P)/j;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/j)):"mirror"===u&&(i=S)),r=tD(0,1,n)*j}const o=n?{done:!1,value:a[0]}:i.next(r);b&&(o.value=b(o.value));let{done:h}=o;n||null===T||(h=g>=0?I>=P:I<=0);const d=null===A&&("finished"===N||"running"===N&&h);return m&&m(o.value),d&&M(),o},R=()=>{x&&x.stop(),x=void 0},D=()=>{N="idle",R(),t(),v(),k=C=null},M=()=>{N="finished",f&&f(),R(),t()},O=()=>{if(y)return;x||(x=i(_));const e=x.now();h&&h(),null!==A?k=e-A:k&&"finished"!==N||(k=e),"finished"===N&&v(),C=k,A=null,N="running",x.start()};r&&O();const L={then:(e,t)=>n.then(e,t),get time(){return SM(I)},set time(e){e=EM(e),I=e,null===A&&x&&0!==g?k=x.now()-e/g:A=e},get duration(){const e=null===E.calculatedDuration?LO(E):E.calculatedDuration;return SM(e)},get speed(){return g},set speed(e){e!==g&&x&&(g=e,L.time=SM(I))},get state(){return N},play:O,pause:()=>{N="paused",A=I},stop:()=>{y=!0,"idle"!==N&&(N="idle",d&&d(),D())},cancel:()=>{null!==C&&_(C),D()},complete:()=>{N="finished"},sample:e=>(k=0,_(e))};return L}const VO=["onUpdate","onComplete"],zO=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HO=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function GO(e,t,n){let{onUpdate:r,onComplete:s}=n,i=yk(n,VO);if(!(zO()&&HO.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise(e=>{a=e})};u();let{keyframes:h,duration:d=300,ease:f,times:m}=i;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!kM(t.ease))(t,i)){const e=BO(ot(ot({},i),{},{repeat:0,delay:0}));let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;m=void 0,h=n,d=r-10,f="linear"}const p=function(e,t,n){let{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=jM(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,h,ot(ot({},i),{},{duration:d,ease:f,times:m})),g=()=>{c=!1,p.cancel()},y=()=>{c=!0,aR.update(g),a(),u()};p.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,i)),s&&s(),y())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(p.timeline=e,p.onfinish=null,rR),get time(){return SM(p.currentTime||0)},set time(e){p.currentTime=EM(e)},get speed(){return p.playbackRate},set speed(e){p.playbackRate=e},get duration(){return SM(d)},play:()=>{l||(p.play(),oR(g))},pause:()=>p.pause(),stop:()=>{if(l=!0,"idle"===p.playState)return;const{currentTime:t}=p;if(t){const n=BO(ot(ot({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||p.finish()},cancel:y}}const WO={type:"spring",stiffness:500,damping:25,restSpeed:10},qO={type:"keyframes",duration:.8},QO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KO=(e,t)=>{let{keyframes:n}=t;return n.length>2?qO:qR.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:WO:QO},JO=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!dO.test(t)&&"0"!==t||t.startsWith("url("))),YO=new Set(["brightness","contrast","saturate","opacity"]);function XO(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(aD)||[];if(!r)return e;const s=n.replace(r,"");let i=YO.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ZO=/([a-z-]*)\(.*?\)/g,$O=ot(ot({},dO),{},{getAnimatableNone:e=>{const t=e.match(ZO);return t?t.map(XO).join(" "):e}}),eL=ot(ot({},vD),{},{color:XM,backgroundColor:XM,outlineColor:XM,fill:XM,stroke:XM,borderColor:XM,borderTopColor:XM,borderRightColor:XM,borderBottomColor:XM,borderLeftColor:XM,filter:$O,WebkitFilter:$O}),tL=e=>eL[e];function nL(e,t){let n=tL(e);return n!==$O&&(n=dO),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const rL=e=>/^0[^.\s]+$/.test(e);function sL(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||rL(e):void 0}const iL=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function aL(e,t){return e[t]||e.default||e}const oL=!1,lL=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s=>{const i=aL(r,e)||{},a=i.delay||r.delay||0;let{elapsed:o=0}=r;o-=EM(a);const l=function(e,t,n,r){const s=JO(t,n);let i;i=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?a:i[c-1]),sL(i[c])&&l.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(o=i[c]);if(s&&l.length&&o)for(let c=0;c<l.length;c++)i[l[c]]=nL(t,o);return i}(t,e,n,i),c=l[0],u=l[l.length-1],h=JO(e,c),d=JO(e,u);yR(h===d,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=ot(ot({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},i),{},{delay:-o,onUpdate:e=>{t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,h=yk(e,iL);return!!Object.keys(h).length}(i)||(f=ot(ot({},f),KO(e,f))),f.duration&&(f.duration=EM(f.duration)),f.repeatDelay&&(f.repeatDelay=EM(f.repeatDelay)),!h||!d||NM||!1===i.type||oL)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:s}=e;const i=()=>(r&&r(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:rR,pause:rR,stop:rR,then:e=>(e(),Promise.resolve()),cancel:rR,complete:rR});return n?BO({keyframes:[0,1],duration:0,delay:n,onComplete:i}):i()}(NM?ot(ot({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=GO(t,e,f);if(n)return n}return BO(f)}};function cL(e){return Boolean(KR(e)&&e.add)}const uL=e=>/^\-?\d*\.?\d+$/.test(e);function hL(e,t){-1===e.indexOf(t)&&e.push(t)}function dL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fL{constructor(){this.subscriptions=[]}add(e){return hL(this.subscriptions,e),()=>dL(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mL={current:void 0};class pL{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:s}=lR;t.lastUpdated!==s&&(t.timeDelta=r,t.lastUpdated=s,aR.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>aR.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new fL);const n=this.events[e].add(t);return"change"===e?()=>{n(),aR.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return mL.current&&mL.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?NO(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gL(e,t){return new pL(e,t)}const yL=e=>t=>t.test(e),vL=[nD,fD,dD,hD,pD,mD,{test:e=>"auto"===e,parse:e=>e}],xL=e=>vL.find(yL(e)),wL=[...vL,XM,dO],bL=e=>wL.find(yL(e)),EL=["transitionEnd","transition"];function SL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gL(n))}function NL(e,t){const n=bM(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:s={},transition:i={}}=r,a=yk(r,EL);a=ot(ot({},a),s);for(const o in a){SL(e,o,GD(a[o]))}}function AL(e,t){if(!t)return;return(t[e]||t.default||t).from}const kL=["transition","transitionEnd"];function CL(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function TL(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function jL(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.makeTargetAnimatable(t),{transition:a=e.getDefaultTransition(),transitionEnd:o}=i,l=yk(i,kL);const c=e.getValue("willChange");r&&(a=r);const u=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const t=e.getValue(d),r=l[d];if(!t||void 0===r||h&&CL(h,d))continue;const s=ot({delay:n,elapsed:0},aL(a||{},d));if(window.HandoffAppearAnimations){const n=e.getProps()[AR];if(n){const e=window.HandoffAppearAnimations(n,d,t,aR);null!==e&&(s.elapsed=e,s.isHandoff=!0)}}let i=!s.isHandoff&&!TL(t,r);if("spring"===s.type&&(t.getVelocity()||s.velocity)&&(i=!1),t.animation&&(i=!1),i)continue;t.start(lL(d,t,r,e.shouldReduceMotion&&qR.has(d)?{type:!1}:s));const o=t.animation;cL(c)&&(c.add(d),o.then(()=>c.remove(d))),u.push(o)}return o&&Promise.all(u).then(()=>{o&&NL(e,o)}),u}function PL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=bM(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(jL(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(IL).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(PL(e,t,ot(ot({},i),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,i+r,a,o,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[e,t]="beforeChildren"===o?[i,a]:[a,i];return e().then(()=>t())}return Promise.all([i(),a(n.delay)])}function IL(e,t){return e.sortNodePosition(t)}const _L=["transition","transitionEnd"],RL=[...jR].reverse(),DL=jR.length;function ML(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>PL(e,t,r));n=Promise.all(s)}else if("string"===typeof t)n=PL(e,t,r);else{const s="function"===typeof t?bM(e,t,r.custom):t;n=Promise.all(jL(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function OL(e){let t=ML(e);const n={animate:UL(!0),whileInView:UL(),whileHover:UL(),whileTap:UL(),whileDrag:UL(),whileFocus:UL(),exit:UL()};let r=!0;const s=(t,n)=>{const r=bM(e,n);if(r){const{transition:e,transitionEnd:n}=r,s=yk(r,_L);t=ot(ot(ot({},t),s),n)}return t};function i(i,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let h={},d=1/0;for(let t=0;t<DL;t++){const f=RL[t],m=n[f],p=void 0!==o[f]?o[f]:l[f],g=CR(p),y=f===a?m.isActive:null;!1===y&&(d=t);let v=p===l[f]&&p!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),m.protectedKeys=ot({},h),!m.isActive&&null===y||!p&&!m.prevProp||TR(p)||"boolean"===typeof p)continue;let x=LL(m.prevProp,p)||f===a&&m.isActive&&!v&&g||t>d&&g,w=!1;const b=Array.isArray(p)?p:[p];let E=b.reduce(s,{});!1===y&&(E={});const{prevResolvedValues:S={}}=m,N=ot(ot({},S),E),A=e=>{x=!0,u.has(e)&&(w=!0,u.delete(e)),m.needsAnimating[e]=!0};for(const e in N){const t=E[e],n=S[e];if(h.hasOwnProperty(e))continue;let r=!1;r=HD(t)&&HD(n)?!wM(t,n):t!==n,r?void 0!==t?A(e):u.add(e):void 0!==t&&u.has(e)?A(e):m.protectedKeys[e]=!0}m.prevProp=p,m.prevResolvedValues=E,m.isActive&&(h=ot(ot({},h),E)),r&&e.blockInitialAnimation&&(x=!1),!x||v&&!w||c.push(...b.map(e=>({animation:e,options:ot({type:f},i)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:i,setActive:function(t,r,s){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=i(s,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function LL(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!wM(t,e)}function UL(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let FL=0;const BL={animation:{Feature:class extends lM{constructor(e){super(e),e.animationState||(e.animationState=OL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),TR(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends lM{constructor(){super(...arguments),this.id=FL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},VL=(e,t)=>Math.abs(e-t);class zL{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=WL(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=VL(e.x,t.x),r=VL(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=lR;this.history.push(ot(ot({},r),{},{timestamp:s}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=HL(t,this.transformPagePoint),aR.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=WL("pointercancel"===e.type?this.lastMoveEventInfo:HL(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!ZD(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=HL($D(e),this.transformPagePoint),{point:a}=i,{timestamp:o}=lR;this.history=[ot(ot({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,WL(i,this.history)),this.removeListeners=nM(eM(this.contextWindow,"pointermove",this.handlePointerMove),eM(this.contextWindow,"pointerup",this.handlePointerUp),eM(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oR(this.updatePoint)}}function HL(e,t){return t?{point:t(e.point)}:e}function GL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function WL(e,t){let{point:n}=e;return{point:n,delta:GL(n,QL(t)),offset:GL(n,qL(t)),velocity:KL(t,.1)}}function qL(e){return e[0]}function QL(e){return e[e.length-1]}function KL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=QL(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>EM(t)));)n--;if(!r)return{x:0,y:0};const i=SM(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function JL(e){return e.max-e.min}function YL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function XL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=ZM(t.min,t.max,e.origin),e.scale=JL(n)/JL(t),(YL(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ZM(n.min,n.max,e.origin)-e.originPoint,(YL(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ZL(e,t,n,r){XL(e.x,t.x,n.x,r?r.originX:void 0),XL(e.y,t.y,n.y,r?r.originY:void 0)}function $L(e,t,n){e.min=n.min+t.min,e.max=e.min+JL(t)}function eU(e,t,n){e.min=t.min-n.min,e.max=e.min+JL(t)}function tU(e,t,n){eU(e.x,t.x,n.x),eU(e.y,t.y,n.y)}function nU(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function rU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const sU=.35;function iU(e,t,n){return{min:aU(e,t),max:aU(e,n)}}function aU(e,t){return"number"===typeof e?e:e[t]||0}const oU=()=>({x:{min:0,max:0},y:{min:0,max:0}});function lU(e){return[e("x"),e("y")]}function cU(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function uU(e){return void 0===e||1===e}function hU(e){let{scale:t,scaleX:n,scaleY:r}=e;return!uU(t)||!uU(n)||!uU(r)}function dU(e){return hU(e)||fU(e)||e.z||e.rotate||e.rotateX||e.rotateY}function fU(e){return mU(e.x)||mU(e.y)}function mU(e){return e&&"0%"!==e}function pU(e,t,n){return n+t*(e-n)}function gU(e,t,n,r,s){return void 0!==s&&(e=pU(e,s,r)),pU(e,n,r)+t}function yU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=gU(e.min,t,n,r,s),e.max=gU(e.max,t,n,r,s)}function vU(e,t){let{x:n,y:r}=t;yU(e.x,n.translate,n.scale,n.originPoint),yU(e.y,r.translate,r.scale,r.originPoint)}function xU(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function wU(e,t){e.min=e.min+t,e.max=e.max+t}function bU(e,t,n){let[r,s,i]=n;const a=void 0!==t[i]?t[i]:.5,o=ZM(e.min,e.max,a);yU(e,t[r],t[s],o,t.scale)}const EU=["x","scaleX","originX"],SU=["y","scaleY","originY"];function NU(e,t){bU(e.x,t,EU),bU(e.y,t,SU)}function AU(e,t){return cU(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const kU=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},CU=new WeakMap;class TU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new zL(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor($D(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aM(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lU(e=>{let t=this.getAxisMotionValue(e).get()||0;if(dD.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=JL(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&aR.update(()=>s(e,t),!1,!0);const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>lU(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:kU(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&aR.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!jU(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?ZM(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?ZM(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&kR(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:nU(e.x,r,i),y:nU(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sU;return!1===e?e=0:!0===e&&(e=sU),{x:iU(e,"left","right"),y:iU(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&lU(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!kR(e))return!1;const n=e.current;vR(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=AU(e,n),{scroll:s}=t;return s&&(wU(r.x,s.offset.x),wU(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:rU(e.x,t.x),y:rU(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=cU(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=lU(a=>{if(!jU(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h=ot(ot({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(a,h)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(lL(e,n,0,t))}stopAnimation(){lU(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lU(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){lU(t=>{const{drag:n}=this.getProps();if(!jU(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-ZM(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!kR(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};lU(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=JL(e),s=JL(t);return s>r?n=vO(t.min,t.max-r,e.min):r>s&&(n=vO(e.min,e.max-s,t.min)),tD(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),lU(t=>{if(!jU(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(ZM(s,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;CU.set(this.visualElement,this);const e=eM(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();kR(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const s=XD(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(lU(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=sU,dragMomentum:a=!0}=e;return ot(ot({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a})}}function jU(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const PU=e=>(t,n)=>{e&&aR.update(()=>e(t,n))};const IU={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _U(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const RU={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!fD.test(e))return e;e=parseFloat(e)}const n=_U(e,t.target.x),r=_U(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},DU={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=dO.parse(e);if(i.length>5)return s;const a=dO.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const u=ZM(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=u),"number"===typeof i[3+o]&&(i[3+o]/=u),a(i)}};class MU extends a.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;var i;i=LU,Object.assign(GR,i),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(ot(ot({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),IU.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,i=n.projection;return i?(i.isPresent=s,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||aR.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OU(e){const[t,n]=function(){const e=(0,a.useContext)(uR);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,a.useId)();return(0,a.useEffect)(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,a.useContext)(gR);return a.createElement(MU,ot(ot({},e),{},{layoutGroup:r,switchLayoutGroup:(0,a.useContext)(LR),isPresent:t,safeToRemove:n}))}const LU={borderRadius:ot(ot({},RU),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:RU,borderTopRightRadius:RU,borderBottomLeftRadius:RU,borderBottomRightRadius:RU,boxShadow:DU},UU=["TopLeft","TopRight","BottomLeft","BottomRight"],FU=UU.length,BU=e=>"string"===typeof e?parseFloat(e):e,VU=e=>"number"===typeof e||fD.test(e);function zU(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const HU=WU(0,.5,UM),GU=WU(.5,.95,rR);function WU(e,t,n){return r=>r<e?0:r>t?1:n(vO(e,t,r))}function qU(e,t){e.min=t.min,e.max=t.max}function QU(e,t){qU(e.x,t.x),qU(e.y,t.y)}function KU(e,t,n,r,s){return e=pU(e-=t,1/n,r),void 0!==s&&(e=pU(e,1/s,r)),e}function JU(e,t,n,r,s){let[i,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;dD.test(t)&&(t=parseFloat(t),t=ZM(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=ZM(i.min,i.max,r);e===i&&(o-=t),e.min=KU(e.min,t,n,o,s),e.max=KU(e.max,t,n,o,s)}(e,t[i],t[a],t[o],t.scale,r,s)}const YU=["x","scaleX","originX"],XU=["y","scaleY","originY"];function ZU(e,t,n,r){JU(e.x,t,YU,n?n.x:void 0,r?r.x:void 0),JU(e.y,t,XU,n?n.y:void 0,r?r.y:void 0)}function $U(e){return 0===e.translate&&1===e.scale}function eF(e){return $U(e.x)&&$U(e.y)}function tF(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function nF(e){return JL(e.x)/JL(e.y)}class rF{constructor(){this.members=[]}add(e){hL(this.members,e),e.scheduleRender()}remove(e){if(dL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sF(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r="translate3d(".concat(s,"px, ").concat(i,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:s}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) "))}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const iF=(e,t)=>e.depth-t.depth;class aF{constructor(){this.children=[],this.isDirty=!1}add(e){hL(this.children,e),this.isDirty=!0}remove(e){dL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iF),this.isDirty=!1,this.children.forEach(e)}}const oF=["","X","Y","Z"],lF={visibility:"hidden"};let cF=0;const uF={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function hF(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=cF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uF.totalNodes=uF.resolvedTargetDeltas=uF.recalculatedProjection=0,this.nodes.forEach(mF),this.nodes.forEach(bF),this.nodes.forEach(EF),this.nodes.forEach(pF),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(uF)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new aF)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new fL),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:s,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||s)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=s=>{let{timestamp:i}=s;const a=i-n;a>=t&&(oR(r),e(a-t))};return aR.read(r,!0),()=>oR(r)}(r,250),IU.hasAnimatedSinceResize&&(IU.hasAnimatedSinceResize=!1,this.nodes.forEach(wF))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&a&&(s||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||TF,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!tF(this.targetLayout,s)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=ot(ot({},aL(i,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||wF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,oR(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SF),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(yF);this.isUpdating||this.nodes.forEach(vF),this.isUpdating=!1,this.nodes.forEach(xF),this.nodes.forEach(dF),this.nodes.forEach(fF),this.clearAllSnapshots();const e=performance.now();lR.delta=tD(0,1e3/60,e-lR.timestamp),lR.timestamp=e,lR.isProcessing=!0,cR.update.process(lR),cR.preRender.process(lR),cR.render.process(lR),lR.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(gF),this.sharedNodes.forEach(NF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,aR.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){aR.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!eF(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||dU(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),IF((r=n).x),IF(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(wU(t.x,n.offset.x),wU(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};QU(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:s,options:i}=r;if(r!==this.root&&s&&i.layoutScroll){if(s.isRoot){QU(t,e);const{scroll:n}=this.root;n&&(wU(t.x,-n.offset.x),wU(t.y,-n.offset.y))}wU(t.x,s.offset.x),wU(t.y,s.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};QU(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&NU(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),dU(e.latestValues)&&NU(n,e.latestValues)}return dU(this.latestValues)&&NU(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};QU(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!dU(e.latestValues))continue;hU(e.latestValues)&&e.updateSnapshot();const r=oU();QU(r,e.measurePageBox()),ZU(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return dU(this.latestValues)&&ZU(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=ot(ot(ot({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lR.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:s,layoutId:i}=this.options;if(this.layout&&(s||i)){if(this.resolvedRelativeTargetAt=lR.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},tU(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),QU(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,$L(a.x,o.x,l.x),$L(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):QU(this.target,this.layout.layoutBox),vU(this.target,this.targetDelta)):QU(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},tU(this.relativeTargetOrigin,this.target,e.target),QU(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uF.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!hU(this.parent.latestValues)&&!fU(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===lR.timestamp&&(r=!1),r)return;const{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!i)return;QU(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,a;t.x=t.y=1;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const s=i.instance;s&&s.style&&"contents"===s.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&NU(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,vU(e,a)),r&&dU(i.latestValues)&&NU(e,i.latestValues))}t.x=xU(t.x),t.y=xU(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;ZL(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=sF(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),uF.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s=ot({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(CF));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;AF(i.x,e.x,n),AF(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tU(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){kF(e.x,t.x,n.x,r),kF(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),QU(h,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=ZM(0,void 0!==n.opacity?n.opacity:1,HU(r)),e.opacityExit=ZM(void 0!==t.opacity?t.opacity:1,0,GU(r))):i&&(e.opacity=ZM(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<FU;a++){const s="border".concat(UU[a],"Radius");let i=zU(t,s),o=zU(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||VU(i)===VU(o)?(e[s]=Math.max(ZM(BU(i),BU(o),r),0),(dD.test(o)||dD.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=ZM(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(oR(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=aR.update(()=>{IU.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=KR(e)?e:gL(e);return r.start(lL("",r,t,n)),r.animation}(0,1e3,ot(ot({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&_F(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=JL(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=JL(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}QU(t,n),NU(t,s),ZL(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rF);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let s=0;s<oF.length;s++){const t="rotate"+oF[s];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const s in r)e.setStaticValue(s,r[s]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lF;const r={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=WD(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=s?s(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=WD(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!dU(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const a=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=sF(this.projectionDeltaWithTransform,this.treeScale,a),s&&(r.transform=s(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),i.animationValues?r.opacity=i===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=i===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in GR){if(void 0===a[c])continue;const{correct:e,applyTo:t}=GR[c],n="none"===r.transform?a[c]:e(a[c],i);if(t){const e=t.length;for(let s=0;s<e;s++)r[t[s]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=i===this?WD(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(yF),this.root.sharedNodes.clear()}}}function dF(e){e.updateLayout()}function fF(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;"size"===s?lU(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],s=JL(r);r.min=t[e].min,r.max=r.min+s}):_F(s,n.layoutBox,t)&&lU(r=>{const s=i?n.measuredBox[r]:n.layoutBox[r],a=JL(t[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ZL(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?ZL(o,e.applyTransform(r,!0),n.measuredBox):ZL(o,t,n.layoutBox);const l=!eF(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};tU(a,n.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};tU(o,t,i.layoutBox),tF(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function mF(e){uF.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gF(e){e.clearSnapshot()}function yF(e){e.clearMeasurements()}function vF(e){e.isLayoutDirty=!1}function xF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bF(e){e.resolveTargetDelta()}function EF(e){e.calcProjection()}function SF(e){e.resetRotation()}function NF(e){e.removeLeadSnapshot()}function AF(e,t,n){e.translate=ZM(t.translate,0,n),e.scale=ZM(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kF(e,t,n,r){e.min=ZM(t.min,n.min,r),e.max=ZM(t.max,n.max,r)}function CF(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const TF={duration:.45,ease:[.4,0,.1,1]},jF=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),PF=jF("applewebkit/")&&!jF("chrome/")?Math.round:rR;function IF(e){e.min=PF(e.min),e.max=PF(e.max)}function _F(e,t,n){return"position"===e||"preserve-aspect"===e&&!YL(nF(t),nF(n),.2)}const RF=hF({attachResizeListener:(e,t)=>XD(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),DF={current:void 0},MF=hF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!DF.current){const e=new RF({});e.mount(window),e.setOptions({layoutScroll:!0}),DF.current=e}return DF.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),OF={pan:{Feature:class extends lM{constructor(){super(...arguments),this.removePointerDownListener=rR}onPointerDown(e){this.session=new zL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:PU(e),onStart:PU(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&aR.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=eM(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends lM{constructor(e){super(e),this.removeGroupControls=rR,this.removeListeners=rR,this.controls=new TU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rR}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:MF,MeasureLayout:OU}};const LF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function UF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;vR(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,s]=function(e){const t=LF.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return uL(e)?parseFloat(e):e}return $R(s)?UF(s,t,n+1):s}function FF(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const s=e.current;if(!(s instanceof Element))return{target:r,transitionEnd:n};n&&(n=ot({},n)),e.values.forEach(e=>{const t=e.get();if(!$R(t))return;const n=UF(t,s);n&&e.set(n)});for(const i in r){const e=r[i];if(!$R(e))continue;const t=UF(e,s);t&&(r[i]=t,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:r,transitionEnd:n}}const BF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),VF=e=>BF.has(e),zF=e=>e===nD||e===fD,HF=(e,t)=>parseFloat(e.split(", ")[t]),GF=(e,t)=>(n,r)=>{let{transform:s}=r;if("none"===s||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return HF(i[1],t);{const t=s.match(/^matrix\((.+)\)$/);return t?HF(t[1],e):0}},WF=new Set(["x","y","z"]),qF=WR.filter(e=>!WF.has(e));const QF={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:GF(4,13),y:GF(5,14)};QF.translateX=QF.x,QF.translateY=QF.y;const KF=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=ot({},t),r=ot({},r);const s=Object.keys(t).filter(VF);let i=[],a=!1;const o=[];if(s.forEach(s=>{const l=e.getValue(s);if(!e.hasValue(s))return;let c=n[s],u=xL(c);const h=t[s];let d;if(HD(h)){const e=h.length,t=null===h[0]?1:0;c=h[t],u=xL(c);for(let n=t;n<e&&null!==h[n];n++)d?vR(xL(h[n])===d,"All keyframes must be of the same type"):(d=xL(h[n]),vR(d===u||zF(u)&&zF(d),"Keyframes must be of the same dimension as the current value"))}else d=xL(h);if(u!==d)if(zF(u)&&zF(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[s]=parseFloat(h):Array.isArray(h)&&d===fD&&(t[s]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):t[s]=u.transform(h):(a||(i=function(e){const t=[];return qF.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),a=!0),o.push(s),r[s]=void 0!==r[s]?r[s]:t[s],l.jump(h))}),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,s=((e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=QF[e](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=QF[n](l,i)}),e})(t,e,o);return i.length&&i.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),eR&&null!==n&&window.scrollTo({top:n}),{target:s,transitionEnd:r}}return{target:t,transitionEnd:r}};function JF(e,t,n,r){return(e=>Object.keys(e).some(VF))(t)?KF(e,t,n,r):{target:t,transitionEnd:r}}const YF={current:null},XF={current:!1};const ZF=new WeakMap,$F=["willChange"],eB=["children"],tB=Object.keys(OR),nB=tB.length,rB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],sB=PR.length;class iB{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>aR.render(this.render,!1,!0);const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget=ot({},o),this.initialValues=n.initial?ot({},o):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=IR(n),this.isVariantNode=_R(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,h=yk(c,$F);for(const d in h){const e=h[d];void 0!==o[d]&&KR(e)&&(e.set(o[d],!1),cL(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,ZF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),XF.current||function(){if(XF.current=!0,eR)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>YF.current=e.matches;e.addListener(t),t()}else YF.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||YF.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ZF.delete(this.current),this.projection&&this.projection.unmount(),oR(this.notifyUpdate),oR(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=qR.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&aR.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let s,i,{children:a}=e,o=yk(e,eB);for(let l=0;l<nB;l++){const e=tB[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=OR[e];r&&(s=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(i=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:i,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||i&&kR(i),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return i}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<rB.length;n++){const t=rB[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(KR(i))e.addValue(s,i),cL(r)&&r.add(s);else if(KR(a))e.addValue(s,gL(i,{owner:e})),cL(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const t=e.getValue(s);!t.hasAnimated&&t.set(i)}else{const t=e.getStaticValue(s);e.addValue(s,gL(void 0!==t?t:i,{owner:e}))}}for(const s in n)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<sB;t++){const n=PR[t],r=this.props[n];(CR(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=gL(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=zD(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||KR(s)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new fL),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const aB=["transition","transitionEnd"];class oB extends iB{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:s}=e,i=yk(e,aB),{transformValues:a}=t,o=function(e,t,n){const r={};for(const s in e){const e=AL(s,t);if(void 0!==e)r[s]=e;else{const e=n.getValue(s);e&&(r[s]=e.get())}}return r}(i,r||{},this);if(a&&(s&&(s=a(s)),i&&(i=a(i)),o&&(o=a(o))),n){!function(e,t,n){var r,s;const i=Object.keys(t).filter(t=>!e.hasValue(t)),a=i.length;if(a)for(let o=0;o<a;o++){const a=i[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(s=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==s?s:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(uL(c)||rL(c))?c=parseFloat(c):!bL(c)&&dO.test(l)&&(c=nL(a,l)),e.addValue(a,gL(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,i,o);const e=((e,t,n,r)=>{const s=FF(e,t,r);return JF(e,t=s.target,n,r=s.transitionEnd)})(this,i,o,s);s=e.transitionEnd,i=e.target}return ot({transition:r,transitionEnd:s},i)}}class lB extends oB{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(qR.has(t)){const e=tL(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),s=(ZR(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return AU(e,n)}build(e,t,n,r){xD(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return BD(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;KR(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){LD(e,t,n,r)}}class cB extends oB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qR.has(t)){const e=tL(t);return e&&e.default||0}return t=UD.has(t)?t:NR(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return VD(e,t)}build(e,t,n,r){_D(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){FD(e,t,0,r)}mount(e){this.isSVGTag=DD(e.tagName),super.mount(e)}}const uB=(e,t)=>HR(e)?new cB(t,{enableHardwareAcceleration:!1}):new lB(t,{enableHardwareAcceleration:!0}),hB={layout:{ProjectionNode:MF,MeasureLayout:OU}},dB=ot(ot(ot(ot({},BL),xM),OF),hB),fB=VR((e,t)=>function(e,t,n,r){let{forwardMotionProps:s=!1}=t;return ot(ot({},HR(e)?JD:YD),{},{preloadedFeatures:n,useRender:OD(s),createVisualElement:r,Component:e})}(e,t,dB,uB));const mB=(e,t,n,r)=>{const s=new CustomEvent("showAlert",{detail:{type:e,message:t,duration:n,action:r}});window.dispatchEvent(s)},pB=()=>{const[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{const e=e=>{const{type:t,message:r,duration:s=5e3,action:i}=e.detail;n(t,r,s,i)};return window.addEventListener("showAlert",e),()=>window.removeEventListener("showAlert",e)},[]);const n=(e,n,s,i)=>{const a=Date.now()+Math.random(),o={id:a,type:e,message:n,duration:s,action:i};t(e=>[...e,o]),setTimeout(()=>{r(a)},s)},r=e=>{t(t=>t.filter(t=>t.id!==e))};return(0,Re.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:(0,Re.jsx)(wR,{children:e.map(e=>{const t=(e=>{switch(e){case"success":return{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:(0,Re.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})};case"error":return{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:(0,Re.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};case"warning":return{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:(0,Re.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})};case"info":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:(0,Re.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon:null}}})(e.type);return(0,Re.jsx)(fB.div,{initial:{opacity:0,x:300,scale:.3},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.5},transition:{duration:.3},className:"max-w-sm w-full ".concat(t.bg," ").concat(t.border," border rounded-lg shadow-lg p-4"),children:(0,Re.jsxs)("div",{className:"flex items-start",children:[(0,Re.jsx)("div",{className:"flex-shrink-0",children:t.icon}),(0,Re.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Re.jsx)("p",{className:"text-sm font-medium ".concat(t.text),children:e.message}),e.action&&(0,Re.jsx)("div",{className:"mt-2",children:(0,Re.jsx)("button",{onClick:e.action.onClick,className:"text-sm font-medium underline ".concat(t.text," hover:no-underline"),children:e.action.text})})]}),(0,Re.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,Re.jsx)("button",{onClick:()=>r(e.id),className:"".concat(t.text," hover:opacity-75"),children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},e.id)})})})},gB=(0,a.createContext)(),yB=()=>{const e=(0,a.useContext)(gB);if(!e)throw new Error("useDatabase must be used within a DatabaseProvider");return e},vB=e=>{let{children:t}=e;const{isConnected:n,account:r,walletType:s}=rm(),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[d,f]=(0,a.useState)([]),[m,p]=(0,a.useState)([]),[g,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{if(n&&r){y(!0);try{console.log("Initializing user for wallet:",r);let e=await(async e=>{try{const t=WA(nA(pP,"users"),QA("walletAddress","==",e.toLowerCase())),n=await ck(t);if(!n.empty){const e=n.docs[0];return ot({id:e.id},e.data())}return null}catch(WV){throw console.error("Error getting user:",WV),WV}})(r);console.log("Existing user data:",e),e||(console.log("Creating new user..."),e=await B_(r,s),console.log("New user created:",e)),o(e),await v(e.id)}catch(WV){console.error("Error initializing user:",WV)}finally{y(!1)}}else o(null),c([]),h([]),f([]),p([])})()},[n,r,s]);const v=async e=>{try{const[t,n,r,s]=await Promise.all([q_(e),Q_(e),K_(e),Z_(e)]);c(t),h(n),f(r),p(s)}catch(WV){console.error("Error loading user data:",WV)}};(0,a.useEffect)(()=>{if(!i||!i.id)return;let e=null,t=null,n=null;try{e=((e,t)=>{try{return dk(rA(pP,"users",e),t,e=>{console.error("Error in subscribeToUserBalance:",e)})}catch(WV){return console.error("Error setting up subscribeToUserBalance:",WV),()=>{}}})(i.id,e=>{e.exists()&&o(t=>ot(ot({},t),e.data()))}),t=((e,t)=>{try{return dk(WA(nA(pP,"trades"),QA("walletAddress","==",e.toLowerCase())),t,e=>{console.error("Error in subscribeToUserTrades:",e)})}catch(WV){return console.error("Error setting up subscribeToUserTrades:",WV),()=>{}}})(i.id,e=>{const t=e.docs.map(e=>ot({id:e.id},e.data()));c(t)}),n=$_(i.id,e=>{console.log("=== CHAT SUBSCRIPTION UPDATE ==="),console.log("User ID:",i.id),console.log("Snapshot docs count:",e.docs.length),console.log("Snapshot docs:",e.docs.map(e=>ot({id:e.id},e.data())));const t=e.docs.map(e=>ot({id:e.id},e.data())).sort((e,t)=>{var n,r;return(null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate():new Date(e.createdAt||0))-(null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():new Date(t.createdAt||0))});console.log("Processed messages (sorted):",t),p(t)})}catch(WV){console.error("Error setting up real-time subscriptions:",WV)}return()=>{e&&e(),t&&t(),n&&n()}},[null===i||void 0===i?void 0:i.id]);const x={user:i,userTrades:l,userDeposits:u,userWithdrawals:d,chatMessages:m,isLoading:g,createDeposit:async(e,t,n)=>{if(!i)throw new Error("User not found");try{const r=await(async(e,t,n,r)=>{try{const s={userId:e,amount:parseFloat(t),currency:n.toUpperCase(),txHash:r,status:"pending",createdAt:pk(),approvedAt:null,approvedBy:null};return ot({id:(await hk(nA(pP,"deposits"),s)).id},s)}catch(WV){throw console.error("Error creating deposit:",WV),WV}})(i.id,e,t,n);return h(e=>[r,...e]),r}catch(WV){throw console.error("Error creating deposit:",WV),WV}},createWithdrawal:async(e,t,n)=>{if(!i)throw new Error("User not found");try{const r=await(async(e,t,n,r)=>{try{const s=await ok(rA(pP,"users",e));if(!s.exists())throw new Error("User not found");if(s.data().balance<t)throw new Error("Insufficient balance");const i={userId:e,amount:parseFloat(t),currency:n.toUpperCase(),walletAddress:r,status:"pending",createdAt:pk(),approvedAt:null,approvedBy:null};return ot({id:(await hk(nA(pP,"withdrawals"),i)).id},i)}catch(WV){throw console.error("Error creating withdrawal:",WV),WV}})(i.id,e,t,n);return f(e=>[r,...e]),r}catch(WV){throw console.error("Error creating withdrawal:",WV),WV}},createTrade:async e=>{if(!i||!r)throw new Error("User not found or wallet not connected");try{console.log("Creating trade with validation:",e);const t=await G_(r,e);if(t.success)return c(e=>[t.tradeData,...e]),o(e=>ot(ot({},e),{},{balance:t.newBalance})),mB("success","Trading plan created successfully! Order #".concat(t.tradeId.slice(-8)," is now active."),5e3),t.tradeData;if("RATE_LIMIT_EXCEEDED"===t.error)throw mB("warning",t.message,5e3),new Error("RATE_LIMIT_EXCEEDED");{const e=t.shortfall;throw mB("error","Insufficient funds! You need ".concat(e.toFixed(2)," USD more to create this order."),8e3,{text:"Deposit Funds",onClick:()=>{window.dispatchEvent(new CustomEvent("openDepositModal"))}}),new Error("INSUFFICIENT_FUNDS")}}catch(WV){if(console.error("Error creating trade:",WV),"INSUFFICIENT_FUNDS"===WV.message)throw WV;throw mB("error","Failed to create trading plan. Please try again.",5e3),WV}},createSmartTrade:async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!i)throw new Error("User not found");try{const s=await z_(i.id,e,t,n,r);return c(e=>[s,...e]),s}catch(WV){throw console.error("Error creating smart trade:",WV),WV}},closeTrade:async e=>{try{await(async e=>{try{const n=rA(pP,"trades",e),r=await ok(n);if(!r.exists())throw new Error("Trade not found");const s=r.data();if("Smart Trading"===s.type){var t;const e=parseInt(null===(t=s.timeframe)||void 0===t?void 0:t.split(" ")[0])||1,r=s.amount||s.orderAmount||0;let i;i=1===e?.03*Math.random()+.025:7===e?.03*Math.random()+.018:15===e?.03*Math.random()+.015:30===e?.025*Math.random()+.012:.02*Math.random()+.01;const a=r*i;await uk(n,{status:"completed",closePrice:s.openPrice*(1+i),profit:a,totalRevenue:a,closedAt:pk()}),await V_(s.walletAddress,a,"profit")}else{const e=await W_(s.asset);let t=0;t="buy"===s.tradeType?(e-s.entryPrice)*s.amount*s.leverage:(s.entryPrice-e)*s.amount*s.leverage,await uk(n,{status:"closed",currentPrice:e,profit:t,closedAt:pk()}),await V_(s.userId,t)}return!0}catch(WV){throw console.error("Error closing trade:",WV),WV}})(e),i&&await v(i.id)}catch(WV){throw console.error("Error closing trade:",WV),WV}},sendMessage:async e=>{if(!i)throw new Error("User not found");try{console.log("=== SEND MESSAGE DEBUG ==="),console.log("User:",i),console.log("User ID:",i.id),console.log("Message:",e);const t=await Y_(i.id,e,!1);return console.log("New message created:",t),p(e=>{const n=[...e,t].sort((e,t)=>{var n,r;return(null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate():new Date(e.createdAt||0))-(null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():new Date(t.createdAt||0))});return console.log("Updated chat messages (sorted):",n),n}),console.log("Auto-reply will be sent automatically for user messages"),t}catch(WV){throw console.error("Error sending message:",WV),WV}},sendAdminMessage:async(e,t)=>{try{return await X_(e,t)}catch(WV){throw console.error("Error sending admin message:",WV),WV}},loadUserData:v,updateUserBalance:V_};return(0,Re.jsx)(gB.Provider,{value:x,children:t})},xB=e=>{let{isOpen:t,onClose:n}=e;const{currentLanguage:r,changeLanguage:s,languageNames:i}=Ue();return(0,Re.jsx)(wR,{children:t&&(0,Re.jsx)(fB.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:n,children:(0,Re.jsxs)(fB.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 p-6",onClick:e=>e.stopPropagation(),children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Re.jsx)("div",{className:"text-right",children:(0,Re.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Language"})}),(0,Re.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Re.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Re.jsx)("div",{className:"text-center mb-8",children:(0,Re.jsx)("h2",{className:"text-xl font-medium text-gray-900",children:"Choose a language and region"})}),(0,Re.jsx)("div",{className:"mb-6",children:(0,Re.jsx)("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg text-center",children:i[r]||"English"})}),(0,Re.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{code:"en",name:"English"},{code:"vi",name:"Ti\u1ebfng Vi\u1ec7t"},{code:"ja",name:"\u65e5\u672c\u8a9e"},{code:"ko",name:"\ud55c\uad6d\uc5b4"},{code:"zh",name:"\u7b80\u4f53\u4e2d\u6587"},{code:"es",name:"Espa\xf1ol"},{code:"fr",name:"Fran\xe7ais"},{code:"de",name:"Deutsch"},{code:"pt",name:"Portugu\xeas"},{code:"ru",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"},{code:"th",name:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},{code:"id",name:"Indonesian"},{code:"ms",name:"Melayu"}].map(e=>(0,Re.jsx)(fB.button,{onClick:()=>{return t=e.code,s(t),void n();var t},className:"px-4 py-3 text-left text-gray-700 hover:bg-gray-50 rounded-lg transition-colors ".concat(r===e.code?"bg-gray-100":""),whileHover:{scale:1.02},whileTap:{scale:.98},children:e.name},e.code))}),(0,Re.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,Re.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Language changes will be applied immediately"})})]})})})},wB=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),o=ne(),{t:l}=Ue(),{isConnected:c,account:u,formatAddress:h,balance:d}=rm();return(0,a.useEffect)(()=>{const e=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,Re.jsxs)(fB.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6},className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ".concat(e?"bg-white/95 backdrop-blur-xl shadow-2xl border-b border-gray-200/50":"bg-transparent"),children:[(0,Re.jsxs)("nav",{className:"container-max py-4",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsx)(Pe,{to:"/",className:"flex items-center space-x-2 sm:space-x-3",children:(0,Re.jsxs)(fB.div,{whileHover:{scale:1.05},className:"flex items-center space-x-2 sm:space-x-3",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 sm:h-10 w-auto"}),(0,Re.jsx)("span",{className:"text-lg sm:text-2xl font-bold text-black",children:"Tokenize"})]})}),(0,Re.jsxs)("div",{className:"hidden lg:flex items-center space-x-6 xl:space-x-8",children:[(0,Re.jsx)(Pe,{to:"/",className:"transition-colors duration-300 font-medium text-sm xl:text-base ".concat("/"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("home")}),(0,Re.jsx)(Pe,{to:"/market",className:"transition-colors duration-300 font-medium text-sm xl:text-base ".concat("/market"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("market")}),(0,Re.jsx)(Pe,{to:"/smart-trading",className:"transition-colors duration-300 font-medium text-sm xl:text-base ".concat("/smart-trading"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("smartTrading")}),(0,Re.jsx)(Pe,{to:"/loan",className:"transition-colors duration-300 font-medium text-sm xl:text-base ".concat("/loan"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("loan")}),(0,Re.jsx)(Pe,{to:"/account",className:"transition-colors duration-300 font-medium text-sm xl:text-base ".concat("/account"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("account")})]}),(0,Re.jsxs)("div",{className:"hidden lg:flex items-center space-x-3 xl:space-x-4",children:[c&&(0,Re.jsxs)("div",{className:"flex items-center space-x-2 bg-green-50 border border-green-200 rounded-lg px-2 xl:px-3 py-1",children:[(0,Re.jsx)("img",{src:"https://avatars.githubusercontent.com/u/11744586?s=200&v=4",alt:"MetaMask",className:"w-3 h-3 xl:w-4 xl:h-4",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="block"}}),(0,Re.jsx)("span",{className:"text-green-600 text-xs hidden",children:"\ud83e\udd8a"}),(0,Re.jsx)("span",{className:"text-green-800 text-xs xl:text-sm font-medium",children:h(u)}),d&&(0,Re.jsxs)("span",{className:"text-green-600 text-xs",children:[d," ETH"]})]}),(0,Re.jsx)("button",{onClick:()=>r(!0),className:"text-gray-700 font-medium hover:text-black transition-colors text-sm xl:text-base",children:l("language")})]}),(0,Re.jsx)("button",{onClick:()=>i(!s),className:"lg:hidden text-gray-700 p-2",children:(0,Re.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s?(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),s&&(0,Re.jsx)(fB.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden mt-4 border-t border-gray-200 pt-4",children:(0,Re.jsxs)("div",{className:"flex flex-col space-y-4",children:[c&&(0,Re.jsxs)("div",{className:"flex items-center space-x-2 bg-green-50 border border-green-200 rounded-lg px-3 py-2 mb-4",children:[(0,Re.jsx)("img",{src:"https://avatars.githubusercontent.com/u/11744586?s=200&v=4",alt:"MetaMask",className:"w-4 h-4",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="block"}}),(0,Re.jsx)("span",{className:"text-green-600 text-sm hidden",children:"\ud83e\udd8a"}),(0,Re.jsx)("span",{className:"text-green-800 text-sm font-medium",children:h(u)}),d&&(0,Re.jsxs)("span",{className:"text-green-600 text-xs",children:[d," ETH"]})]}),(0,Re.jsx)(Pe,{to:"/",onClick:()=>i(!1),className:"transition-colors duration-300 font-medium py-2 ".concat("/"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("home")}),(0,Re.jsx)(Pe,{to:"/market",onClick:()=>i(!1),className:"transition-colors duration-300 font-medium py-2 ".concat("/market"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("market")}),(0,Re.jsx)(Pe,{to:"/smart-trading",onClick:()=>i(!1),className:"transition-colors duration-300 font-medium py-2 ".concat("/smart-trading"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("smartTrading")}),(0,Re.jsx)(Pe,{to:"/loan",onClick:()=>i(!1),className:"transition-colors duration-300 font-medium py-2 ".concat("/loan"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("loan")}),(0,Re.jsx)(Pe,{to:"/account",onClick:()=>i(!1),className:"transition-colors duration-300 font-medium py-2 ".concat("/account"===o.pathname?"text-black font-bold":"text-gray-700 hover:text-black"),children:l("account")}),(0,Re.jsx)("button",{onClick:()=>{r(!0),i(!1)},className:"text-gray-700 font-medium hover:text-black transition-colors py-2 text-left",children:l("language")})]})})]}),(0,Re.jsx)(xB,{isOpen:n,onClose:()=>r(!1)})]})},bB=()=>(0,Re.jsx)("section",{id:"home",className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-blue-50 pt-16 sm:pt-20 overflow-hidden",children:(0,Re.jsx)("div",{className:"container-max",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[(0,Re.jsxs)(fB.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8},className:"space-y-6 lg:space-y-8 text-center lg:text-left",children:[(0,Re.jsxs)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-gray-900 leading-tight mb-4 lg:mb-6",children:["Buy, trade, and hold",(0,Re.jsx)("br",{}),(0,Re.jsx)("span",{className:"text-gradient",children:"350+ cryptocurrencies"}),(0,Re.jsx)("br",{}),"on the best platform."]}),(0,Re.jsxs)(fB.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-black text-white px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg flex items-center justify-center lg:justify-start space-x-3 hover:bg-gray-800 transition-colors duration-300 mx-auto lg:mx-0",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Re.jsx)("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),(0,Re.jsx)("span",{className:"hidden sm:inline",children:"Available on the App Store"}),(0,Re.jsx)("span",{className:"sm:hidden",children:"App Store"})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative flex justify-center items-center mt-8 lg:mt-0",children:[(0,Re.jsx)("div",{className:"lg:hidden",children:(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"relative z-10",children:(0,Re.jsx)("img",{src:"https://hnw-ubs.com/static/img/home_iphone11.80c4d197.png",alt:"UBS Trading App - iPhone 11",className:"w-64 sm:w-80 h-auto drop-shadow-2xl floating"})})}),(0,Re.jsxs)("div",{className:"hidden lg:flex relative justify-center items-center",children:[(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"relative z-10",children:(0,Re.jsx)("img",{src:"https://hnw-ubs.com/static/img/home_iphone11.80c4d197.png",alt:"UBS Trading App - iPhone 11",className:"w-72 xl:w-80 h-auto drop-shadow-2xl floating"})}),(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"relative -ml-16 xl:-ml-24",children:(0,Re.jsx)("img",{src:"https://hnw-ubs.com/static/img/home_iphone22.d98a82af.png",alt:"UBS Trading App - iPhone 22",className:"w-72 xl:w-80 h-auto drop-shadow-2xl floating-delayed"})})]})]})]})})}),EB=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];var SB=Object.defineProperty,NB=(e,t,n)=>((e,t,n)=>t in e?SB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n),AB=new Map,kB=new WeakMap,CB=0,TB=void 0;function jB(e){return Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>"".concat(t,"_").concat("root"===t?function(e){return e?(kB.has(e)||(CB+=1,kB.set(e,CB.toString())),kB.get(e)):"0"}(e.root):e[t])).toString()}function PB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:TB;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){const s=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:s,intersectionRect:s,rootBounds:s}),()=>{}}const{id:s,observer:i,elements:a}=function(e){const t=jB(e);let n=AB.get(t);if(!n){const r=new Map;let s;const i=new IntersectionObserver(t=>{t.forEach(t=>{var n;const i=t.isIntersecting&&s.some(e=>t.intersectionRatio>=e);e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=i),null==(n=r.get(t.target))||n.forEach(e=>{e(i,t)})})},e);s=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},AB.set(t,n)}return n}(n),o=a.get(e)||[];return a.has(e)||a.set(e,o),o.push(t),i.observe(e),function(){o.splice(o.indexOf(t),1),0===o.length&&(a.delete(e),i.unobserve(e)),0===a.size&&(i.disconnect(),AB.delete(s))}}a.Component;function IB(){let{threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:s,triggerOnce:i,skip:o,initialInView:l,fallbackInView:c,onChange:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var h;const[d,f]=a.useState(null),m=a.useRef(u),[p,g]=a.useState({inView:!!l,entry:void 0});m.current=u,a.useEffect(()=>{if(o||!d)return;let a;return a=PB(d,(e,t)=>{g({inView:e,entry:t}),m.current&&m.current(e,t),t.isIntersecting&&i&&a&&(a(),a=void 0)},{root:s,rootMargin:r,threshold:e,trackVisibility:n,delay:t},c),()=>{a&&a()}},[Array.isArray(e)?e.toString():e,d,s,r,i,o,n,c,t]);const y=null==(h=p.entry)?void 0:h.target,v=a.useRef(void 0);d||!y||i||o||v.current===y||(v.current=y,g({inView:!!l,entry:void 0}));const x=[f,p.inView,p.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const _B=()=>{const{t:e}=Ue(),[t,n]=IB({triggerOnce:!0,threshold:.1});return(0,Re.jsxs)("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 relative overflow-hidden",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),(0,Re.jsx)("div",{className:"absolute top-0 left-0 w-full h-full opacity-20",children:(0,Re.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-500/5 to-purple-500/5"})}),(0,Re.jsx)("div",{className:"container-max",children:(0,Re.jsxs)(fB.div,{ref:t,initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[(0,Re.jsxs)(fB.div,{initial:{opacity:0,scale:.8},animate:n?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.1},className:"text-center relative z-10 sm:col-span-2 lg:col-span-1",children:[(0,Re.jsx)("div",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-2 sm:mb-3 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"$3.8 billion"}),(0,Re.jsx)("div",{className:"text-gray-300 text-base sm:text-lg lg:text-xl font-medium",children:e("totalVolume")})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,scale:.8},animate:n?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.2},className:"text-center relative z-10",children:[(0,Re.jsx)("div",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-2 sm:mb-3 bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent",children:"350+"}),(0,Re.jsx)("div",{className:"text-gray-300 text-base sm:text-lg lg:text-xl font-medium",children:e("activeUsers")})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,scale:.8},animate:n?{opacity:1,scale:1}:{},transition:{duration:.6,delay:.3},className:"text-center relative z-10",children:[(0,Re.jsx)("div",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-2 sm:mb-3 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"1.2 million"}),(0,Re.jsx)("div",{className:"text-gray-300 text-base sm:text-lg lg:text-xl font-medium",children:e("satisfaction")})]})]})})]})},RB=()=>{const{t:e}=Ue(),[t,n]=IB({triggerOnce:!0,threshold:.1});return(0,Re.jsxs)("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-b from-gray-50 to-white relative overflow-hidden",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-50/30 to-blue-50/30"}),(0,Re.jsx)("div",{className:"absolute top-0 left-0 w-48 sm:w-72 h-48 sm:h-72 bg-gradient-to-br from-purple-400/10 to-blue-400/10 rounded-full blur-3xl"}),(0,Re.jsx)("div",{className:"absolute bottom-0 right-0 w-48 sm:w-72 h-48 sm:h-72 bg-gradient-to-tl from-green-400/10 to-purple-400/10 rounded-full blur-3xl"}),(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsx)(fB.div,{ref:t,initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-8 sm:mb-12 lg:mb-16",children:(0,Re.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 sm:mb-6",children:e("featuresTitle")})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8,delay:.2},className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-10 lg:gap-12 max-w-4xl mx-auto",children:[(0,Re.jsxs)(fB.div,{initial:{opacity:0,x:-30},animate:n?{opacity:1,x:0}:{},transition:{duration:.8,delay:.1},className:"text-center",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-4 sm:mb-6",children:(0,Re.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})})}),(0,Re.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Application"}),(0,Re.jsx)("p",{className:"text-gray-600 text-base sm:text-lg leading-relaxed",children:"Mobile banking that throws out the rule book and gives you a precision tool for managing your finances."})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,x:30},animate:n?{opacity:1,x:0}:{},transition:{duration:.8,delay:.2},className:"text-center",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center mb-4 sm:mb-6",children:(0,Re.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})})}),(0,Re.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Crypto deposit"}),(0,Re.jsx)("p",{className:"text-gray-600 text-base sm:text-lg leading-relaxed",children:"By using cryptocurrency for deposit, an additional layer of security is obtained, and quick transaction processing is ensured."})]})]})]})]})},DB=()=>{const{t:e}=Ue(),[t,n]=IB({triggerOnce:!0,threshold:.1}),r=[{title:e("smartTradingService"),description:e("smartTradingServiceDesc"),icon:(0,Re.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),gradient:"from-blue-500 to-purple-600"},{title:e("investmentService"),description:e("investmentServiceDesc"),icon:(0,Re.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),gradient:"from-green-500 to-teal-600"},{title:e("marketsService"),description:e("marketsServiceDesc"),icon:(0,Re.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),gradient:"from-orange-500 to-red-600"}];return(0,Re.jsxs)("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-gray-50 to-white relative overflow-hidden",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsxs)(fB.div,{ref:t,initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-8 sm:mb-12 lg:mb-16",children:[(0,Re.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 sm:mb-6",children:e("servicesTitle")}),(0,Re.jsx)("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:e("heroDescription")})]}),(0,Re.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:r.map((e,t)=>(0,Re.jsx)(fB.div,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.6,delay:.1+.2*t},whileHover:{scale:1.05},className:"group",children:(0,Re.jsxs)("div",{className:"card-dark bg-white border-2 border-gray-200 hover:border-gray-300 hover:shadow-xl transition-all duration-300 h-full p-6 sm:p-8",children:[(0,Re.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br ".concat(e.gradient," rounded-xl sm:rounded-2xl flex items-center justify-center text-white mb-4 sm:mb-6 group-hover:scale-110 transition-transform duration-300"),children:(0,Re.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8",children:e.icon})}),(0,Re.jsx)("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mb-3 sm:mb-4 group-hover:text-gray-700 transition-colors duration-300",children:e.title}),(0,Re.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6 leading-relaxed",children:e.description}),(0,Re.jsx)("button",{className:"btn-primary bg-gradient-to-r from-gray-800 to-gray-900 hover:from-gray-900 hover:to-black text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold text-sm sm:text-base transition-all duration-300 hover:shadow-lg w-full sm:w-auto",children:"Learn More"})]})},t))})]})]})},MB=()=>{const{t:e}=Ue(),t=(new Date).getFullYear(),n={products:[e("market"),e("loan"),e("smartTrading")],company:[e("aboutUs"),"License Supervision",e("helpCenter"),"Online Support"],policies:[e("termsConditions"),e("privacyPolicy")]};return(0,Re.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsx)("div",{className:"py-8 sm:py-12 lg:py-16",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"sm:col-span-2 lg:col-span-1",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-4 sm:mb-6",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-6 sm:h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-lg sm:text-xl font-bold text-white",children:"Tokenize"})]})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[(0,Re.jsx)("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:e("products")}),(0,Re.jsx)("ul",{className:"space-y-1 sm:space-y-2",children:n.products.map((e,t)=>(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-sm sm:text-base text-gray-300 hover:text-white transition-colors duration-300",children:e})},t))})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,Re.jsx)("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:e("company")}),(0,Re.jsx)("ul",{className:"space-y-1 sm:space-y-2",children:n.company.map((e,t)=>(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-sm sm:text-base text-gray-300 hover:text-white transition-colors duration-300",children:e})},t))})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,Re.jsx)("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:e("policies")}),(0,Re.jsx)("ul",{className:"space-y-1 sm:space-y-2",children:n.policies.map((e,t)=>(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-sm sm:text-base text-gray-300 hover:text-white transition-colors duration-300",children:e})},t))})]})]})}),(0,Re.jsx)("div",{className:"py-4 sm:py-6 lg:py-8 border-t border-gray-700",children:(0,Re.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center space-y-4 lg:space-y-0",children:[(0,Re.jsx)("div",{className:"flex flex-wrap gap-2 sm:gap-4 text-xs sm:text-sm text-gray-400 justify-center lg:justify-start",children:["Legal Information","Disclaimer","Risk Warning","Cookie Policy","About Advertising"].map((e,t)=>(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:e},t))}),(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-6",children:[(0,Re.jsxs)("div",{className:"flex space-x-3 sm:space-x-4",children:[(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-7 h-7 sm:w-8 sm:h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-7 h-7 sm:w-8 sm:h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-7 h-7 sm:w-8 sm:h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]}),(0,Re.jsxs)("div",{className:"text-gray-400 text-xs sm:text-sm text-center lg:text-left",children:["\xa9 ",t," UBS. ",e("copyright")]})]})]})})]})})};function OB(){return(0,Re.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Re.jsx)(wB,{}),(0,Re.jsxs)("main",{className:"pt-20",children:[(0,Re.jsx)(bB,{}),(0,Re.jsx)(_B,{}),(0,Re.jsx)(RB,{}),(0,Re.jsx)(DB,{})]}),(0,Re.jsx)(MB,{})]})}const LB=()=>{const{showWalletModal:e,setShowWalletModal:t,connectWallet:n,isConnecting:r}=rm();console.log("WalletConnectionModal: showWalletModal =",e);return(0,Re.jsx)(wR,{children:e&&(0,Re.jsx)(fB.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:()=>{t(!1)},children:(0,Re.jsxs)(fB.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-8 w-full max-w-md mx-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,Re.jsxs)("div",{className:"text-center mb-8",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Re.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect Your Wallet"}),(0,Re.jsx)("p",{className:"text-gray-600",children:"Connect your Web3 wallet to access all features"})]}),(0,Re.jsx)("div",{className:"space-y-3 mb-6",children:[{id:"metamask",name:"MetaMask",description:"Connect using MetaMask browser extension",logo:"https://avatars.githubusercontent.com/u/11744586?s=200&v=4",color:"from-orange-400 to-orange-600"},{id:"walletconnect",name:"WalletConnect",description:"Connect using WalletConnect mobile app",logo:"https://raw.githubusercontent.com/WalletConnect/walletconnect-assets/master/Icon/Gradient/Icon.png",color:"from-blue-400 to-blue-600"},{id:"coinbase",name:"Coinbase Wallet",description:"Connect using Coinbase Wallet",logo:"https://avatars.githubusercontent.com/u/18060234?s=200&v=4",color:"from-purple-400 to-purple-600"}].map(e=>(0,Re.jsx)("button",{onClick:()=>(async e=>{await n(e)})(e.id),disabled:r,className:"w-full p-4 rounded-xl border-2 border-gray-200 hover:border-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed group",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsxs)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center group-hover:scale-105 transition-transform duration-200 overflow-hidden",children:[(0,Re.jsx)("img",{src:e.logo,alt:e.name,className:"w-full h-full object-contain",onError:t=>{console.log("Logo failed to load:",e.logo,"for wallet:",e.name),t.target.style.display="none",t.target.nextElementSibling.style.display="flex"},onLoad:()=>{console.log("Logo loaded successfully:",e.logo,"for wallet:",e.name)}}),(0,Re.jsx)("div",{className:"w-full h-full bg-gradient-to-r ".concat(e.color," rounded-full flex items-center justify-center text-white text-xl hidden"),children:e.name.charAt(0)})]}),(0,Re.jsxs)("div",{className:"flex-1 text-left",children:[(0,Re.jsx)("div",{className:"font-semibold text-gray-900",children:e.name}),(0,Re.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),r&&(0,Re.jsxs)("svg",{className:"animate-spin h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[(0,Re.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Re.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]})},e.id))}),(0,Re.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,Re.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Re.jsx)("p",{className:"font-medium",children:"Real Web3 Wallet Required"}),(0,Re.jsx)("p",{children:"Connect your actual MetaMask or Coinbase Wallet to access DeFi features, trading, deposits, and loans"})]})]})}),(0,Re.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:(0,Re.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-gray-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,Re.jsx)("p",{className:"font-medium",children:"Supported Networks"}),(0,Re.jsx)("p",{children:"Ethereum, Polygon, BSC, Arbitrum"})]})]})}),(0,Re.jsx)("div",{className:"text-center",children:(0,Re.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,Re.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Re.jsx)("p",{className:"text-blue-800 text-sm font-medium",children:"Connect your wallet to access trading features"})]})})})]})})})};function UB(){var e,t;const{isConnected:n,account:r,balance:s,formatAddress:i}=rm();return(0,Re.jsxs)("div",{className:"min-h-screen bg-white text-gray-900",children:[(0,Re.jsx)(LB,{}),(0,Re.jsxs)("header",{className:"flex items-center justify-between px-4 py-4 bg-white border-b border-gray-200",children:[(0,Re.jsxs)(Pe,{to:"/",className:"flex items-center space-x-2",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-gray-900 text-xl font-semibold",children:"Tokenize"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12.828 7H4.828z"})})})]})]}),(0,Re.jsxs)("main",{className:"px-4 pb-32",children:[(0,Re.jsxs)("div",{className:"relative mt-6",children:[(0,Re.jsx)("div",{className:"bg-gradient-to-r from-gray-100 to-purple-100 rounded-2xl p-4 mb-3 relative z-10 border border-gray-200",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-gray-700 text-sm",children:"USDC Balance"}),(0,Re.jsx)("p",{className:"text-gray-900 text-lg font-bold",children:n?"".concat((null===s||void 0===s?void 0:s.toFixed(4))||"0.0000"," USDC"):"Connect Wallet"})]}),(0,Re.jsx)("div",{className:"w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center",children:(0,Re.jsx)("span",{className:"text-white font-bold text-sm",children:"C"})})]})}),(0,Re.jsxs)("div",{className:"bg-gradient-to-r from-gray-100 to-green-100 rounded-2xl p-4 relative z-20 -mt-2 border border-gray-200",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-gray-700 text-sm",children:"USDT Balance"}),(0,Re.jsx)("p",{className:"text-gray-900 text-2xl font-bold",children:n?"".concat((null===(e=.99*s)||void 0===e?void 0:e.toFixed(6))||"0.000000"," USDT"):"Connect Wallet"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("div",{className:"w-6 h-6 bg-gray-900 rounded flex items-center justify-center",children:(0,Re.jsx)("span",{className:"text-white font-bold text-xs",children:"\u20ae"})}),(0,Re.jsxs)("button",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center space-x-1",children:[(0,Re.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),(0,Re.jsx)("span",{children:n?"Open":"Connect"})]})]})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 text-sm",children:[(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,Re.jsx)("span",{children:n?"$".concat((null===(t=.01*s)||void 0===t?void 0:t.toFixed(8))||"0.00000000"," Today's Profit"):"Connect wallet to see profit"})]})]})]}),(0,Re.jsx)("div",{className:"bg-gray-100 rounded-2xl p-4 mt-6 border border-gray-200",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-gray-900 font-semibold",children:"New features in online!"}),(0,Re.jsx)("p",{className:"text-gray-600 text-sm",children:"in the process of updating"})]})]})}),(0,Re.jsx)("div",{className:"mt-4",children:(0,Re.jsxs)("button",{className:"w-full bg-gray-100 rounded-2xl p-4 flex items-center justify-center space-x-3 border border-gray-200",children:[(0,Re.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Re.jsx)("span",{className:"text-gray-900 font-semibold",children:"Operate with a Demo Account"})]})}),(0,Re.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-2xl p-6 relative overflow-hidden border border-gray-200",children:[(0,Re.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-green-500/10 rounded-full -translate-y-10 translate-x-10"}),(0,Re.jsx)("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-green-500/10 rounded-full translate-y-8 -translate-x-8"}),(0,Re.jsxs)("div",{className:"text-center relative z-10",children:[(0,Re.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Re.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Lowest transactions fees < 0.3%"}),(0,Re.jsx)("h2",{className:"text-gray-900 text-2xl font-bold mb-2",children:"Trade all assets in one place"}),(0,Re.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Forex, crypto, stocks, indices, commodities"}),(0,Re.jsx)("button",{className:"bg-gray-900 text-white px-6 py-3 rounded-xl font-semibold",children:"Get started"})]})]}),(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-2xl p-6 relative overflow-hidden border border-gray-200",children:[(0,Re.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-green-500/10 rounded-full -translate-y-10 translate-x-10"}),(0,Re.jsx)("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-green-500/10 rounded-full translate-y-8 -translate-x-8"}),(0,Re.jsxs)("div",{className:"text-center relative z-10",children:[(0,Re.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Re.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Simple and stable"}),(0,Re.jsx)("h2",{className:"text-gray-900 text-2xl font-bold mb-2",children:"Smart trading"}),(0,Re.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"One click to create your earning plan"}),(0,Re.jsx)("button",{className:"bg-gray-900 text-white px-6 py-3 rounded-xl font-semibold",children:"Get started"})]})]}),(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-2xl p-6 relative overflow-hidden border border-gray-200",children:[(0,Re.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-green-500/10 rounded-full -translate-y-10 translate-x-10"}),(0,Re.jsx)("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-green-500/10 rounded-full translate-y-8 -translate-x-8"}),(0,Re.jsxs)("div",{className:"text-center relative z-10",children:[(0,Re.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})})}),(0,Re.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:"Low interest rate and higher amount"}),(0,Re.jsx)("h2",{className:"text-gray-900 text-2xl font-bold mb-2",children:"Cryptocurrency loans"}),(0,Re.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Borrow cryptocurrency spots without any collateral!"}),(0,Re.jsx)("button",{className:"bg-gray-900 text-white px-6 py-3 rounded-xl font-semibold",children:"Get started"})]})]})]}),(0,Re.jsx)("div",{className:"mt-8",children:(0,Re.jsx)(MB,{})})]}),(0,Re.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 px-4 pb-4",children:(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-3xl shadow-2xl px-8 py-6 flex items-center justify-between",children:[(0,Re.jsx)(Pe,{to:"/",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),(0,Re.jsx)(Pe,{to:"/market",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Re.jsx)(Pe,{to:"/smart-trading",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Re.jsx)(Pe,{to:"/loan",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Re.jsx)(Pe,{to:"/account",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})})]})}const FB=e=>{let{countryCode:t}=e;return{US:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#B22234"}),(0,Re.jsx)("rect",{width:"24",height:"1.23",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{y:"2.46",width:"24",height:"1.23",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{y:"4.92",width:"24",height:"1.23",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{y:"7.38",width:"24",height:"1.23",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{y:"9.84",width:"24",height:"1.23",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{y:"12.3",width:"24",height:"1.23",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{y:"14.76",width:"24",height:"1.23",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{width:"9.6",height:"8.61",fill:"#3C3B6E"}),(0,Re.jsxs)("g",{fill:"#FFFFFF",children:[(0,Re.jsx)("circle",{cx:"1.2",cy:"1",r:"0.2"}),(0,Re.jsx)("circle",{cx:"2.4",cy:"1",r:"0.2"}),(0,Re.jsx)("circle",{cx:"3.6",cy:"1",r:"0.2"}),(0,Re.jsx)("circle",{cx:"4.8",cy:"1",r:"0.2"}),(0,Re.jsx)("circle",{cx:"6",cy:"1",r:"0.2"}),(0,Re.jsx)("circle",{cx:"7.2",cy:"1",r:"0.2"}),(0,Re.jsx)("circle",{cx:"8.4",cy:"1",r:"0.2"})]})]}),CH:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#FF0000"}),(0,Re.jsx)("rect",{x:"10",y:"2",width:"4",height:"12",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{x:"2",y:"6",width:"20",height:"4",fill:"#FFFFFF"})]}),HK:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#DE2910"}),(0,Re.jsxs)("g",{fill:"#FFFFFF",children:[(0,Re.jsx)("path",{d:"M12 4c0-1 1-2 2-2s2 1 2 2-1 2-2 2-2-1-2-2z"}),(0,Re.jsx)("path",{d:"M8 6c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M16 6c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M6 8c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M18 8c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M8 10c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M16 10c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M12 12c0-1 1-2 2-2s2 1 2 2-1 2-2 2-2-1-2-2z"})]})]}),SG:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"8",fill:"#ED2939"}),(0,Re.jsx)("rect",{y:"8",width:"24",height:"8",fill:"#FFFFFF"}),(0,Re.jsxs)("g",{fill:"#FFFFFF",children:[(0,Re.jsx)("circle",{cx:"4",cy:"3",r:"1"}),(0,Re.jsx)("circle",{cx:"6",cy:"2",r:"0.5"}),(0,Re.jsx)("circle",{cx:"8",cy:"2",r:"0.5"}),(0,Re.jsx)("circle",{cx:"10",cy:"2",r:"0.5"}),(0,Re.jsx)("circle",{cx:"12",cy:"2",r:"0.5"}),(0,Re.jsx)("circle",{cx:"14",cy:"2",r:"0.5"})]})]}),GB:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#012169"}),(0,Re.jsxs)("g",{fill:"#FFFFFF",children:[(0,Re.jsx)("path",{d:"M0 0l24 16M24 0L0 16",stroke:"#FFFFFF",strokeWidth:"1"}),(0,Re.jsx)("path",{d:"M0 0l24 16M24 0L0 16",stroke:"#C8102E",strokeWidth:"0.5"}),(0,Re.jsx)("rect",{x:"10",y:"0",width:"4",height:"16",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{x:"0",y:"6",width:"24",height:"4",fill:"#FFFFFF"}),(0,Re.jsx)("rect",{x:"11",y:"0",width:"2",height:"16",fill:"#C8102E"}),(0,Re.jsx)("rect",{x:"0",y:"7",width:"24",height:"2",fill:"#C8102E"})]})]}),CN:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#DE2910"}),(0,Re.jsxs)("g",{fill:"#FFDE00",children:[(0,Re.jsx)("path",{d:"M4 4c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M7 2c0-0.3 0.3-0.6 0.6-0.6s0.6 0.3 0.6 0.6-0.3 0.6-0.6 0.6-0.6-0.3-0.6-0.6z"}),(0,Re.jsx)("path",{d:"M9 3c0-0.3 0.3-0.6 0.6-0.6s0.6 0.3 0.6 0.6-0.3 0.6-0.6 0.6-0.6-0.3-0.6-0.6z"}),(0,Re.jsx)("path",{d:"M9 5c0-0.3 0.3-0.6 0.6-0.6s0.6 0.3 0.6 0.6-0.3 0.6-0.6 0.6-0.6-0.3-0.6-0.6z"}),(0,Re.jsx)("path",{d:"M7 6c0-0.3 0.3-0.6 0.6-0.6s0.6 0.3 0.6 0.6-0.3 0.6-0.6 0.6-0.6-0.3-0.6-0.6z"})]})]}),JP:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#FFFFFF"}),(0,Re.jsx)("circle",{cx:"12",cy:"8",r:"3",fill:"#BC002D"})]}),EU:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#003399"}),(0,Re.jsxs)("g",{fill:"#FFCC00",children:[(0,Re.jsx)("circle",{cx:"12",cy:"8",r:"1"}),(0,Re.jsx)("circle",{cx:"8",cy:"6",r:"0.5"}),(0,Re.jsx)("circle",{cx:"16",cy:"6",r:"0.5"}),(0,Re.jsx)("circle",{cx:"8",cy:"10",r:"0.5"}),(0,Re.jsx)("circle",{cx:"16",cy:"10",r:"0.5"}),(0,Re.jsx)("circle",{cx:"6",cy:"8",r:"0.5"}),(0,Re.jsx)("circle",{cx:"18",cy:"8",r:"0.5"}),(0,Re.jsx)("circle",{cx:"10",cy:"4",r:"0.5"}),(0,Re.jsx)("circle",{cx:"14",cy:"4",r:"0.5"}),(0,Re.jsx)("circle",{cx:"10",cy:"12",r:"0.5"}),(0,Re.jsx)("circle",{cx:"14",cy:"12",r:"0.5"}),(0,Re.jsx)("circle",{cx:"4",cy:"8",r:"0.5"}),(0,Re.jsx)("circle",{cx:"20",cy:"8",r:"0.5"})]})]}),AU:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#00008B"}),(0,Re.jsxs)("g",{fill:"#FFFFFF",children:[(0,Re.jsx)("path",{d:"M6 4c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M18 4c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M6 12c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M18 12c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M12 8c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"})]})]}),CA:(0,Re.jsxs)("svg",{viewBox:"0 0 24 16",className:"w-6 h-6 rounded-full overflow-hidden border border-gray-200",children:[(0,Re.jsx)("rect",{width:"24",height:"16",fill:"#FF0000"}),(0,Re.jsx)("rect",{x:"8",y:"0",width:"8",height:"16",fill:"#FFFFFF"}),(0,Re.jsxs)("g",{fill:"#FF0000",children:[(0,Re.jsx)("path",{d:"M12 4c0-1 1-2 2-2s2 1 2 2-1 2-2 2-2-1-2-2z"}),(0,Re.jsx)("path",{d:"M10 6c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M14 6c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M8 8c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M16 8c0-0.5 0.5-1 1-1s1 0.5 1 1-0.5 1-1 1-1-0.5-1-1z"}),(0,Re.jsx)("path",{d:"M12 12c0-1 1-2 2-2s2 1 2 2-1 2-2 2-2-1-2-2z"})]})]})}[t]||(0,Re.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs font-bold border border-gray-200",children:"?"})},BB="https://api.coingecko.com/api/v3",VB="https://api.exchangerate-api.com/v4/latest",zB=new Map,HB=e=>{const t=zB.get(e);return!!t&&Date.now()-t.timestamp<3e4},GB=e=>{const t=zB.get(e);return t?t.data:null},WB=(e,t)=>{zB.set(e,{data:t,timestamp:Date.now()})},qB=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["bitcoin","ethereum","binancecoin","cardano","solana"];const t="crypto_".concat(e.join("_"));if(HB(t))return GB(t);try{const n=new AbortController,r=setTimeout(()=>n.abort(),5e3),s=await fetch("".concat(BB,"/simple/price?ids=").concat(e.join(","),"&vs_currencies=usd&include_24hr_change=true"),{signal:n.signal});if(clearTimeout(r),!s.ok)throw new Error("HTTP error! status: ".concat(s.status));const i=await s.json();return WB(t,i),i}catch(WV){console.error("Error fetching crypto prices:",WV);const r=.01*Math.sin(Date.now()/36e5),s=.02*(Math.random()-.5),i={bitcoin:{usd:111690.14*(1+r+s),usd_24h_change:1.52+10*s},ethereum:{usd:4105.68*(1+r+s),usd_24h_change:2.11+10*s},binancecoin:{usd:678.45*(1+r+s),usd_24h_change:.89+10*s},cardano:{usd:.45*(1+r+s),usd_24h_change:.9+10*s},solana:{usd:98.23*(1+r+s),usd_24h_change:3.45+10*s},litecoin:{usd:107.11*(1+r+s),usd_24h_change:2.44+10*s},polkadot:{usd:3.98*(1+r+s),usd_24h_change:3+10*s},chainlink:{usd:14.67*(1+r+s),usd_24h_change:3.2+10*s},cosmos:{usd:8.23*(1+r+s),usd_24h_change:10*s-.5},filecoin:{usd:2.2*(1+r+s),usd_24h_change:1.41+10*s},dogecoin:{usd:.24*(1+r+s),usd_24h_change:2.94+10*s},ripple:{usd:2.87*(1+r+s),usd_24h_change:2.13+10*s},tron:{usd:.08*(1+r+s),usd_24h_change:2.3+10*s},polygon:{usd:.89*(1+r+s),usd_24h_change:1.8+10*s}},a={};return e.forEach(e=>{const t=i[e]||{usd:1e5*Math.random()+1e3,usd_24h_change:10*(Math.random()-.5)};a[e]={usd:t.usd,usd_24h_change:t.usd_24h_change}}),WB(t,a),a}},QB=async()=>{const e="realtime_forex_rates",t=zB.get(e);if(t&&Date.now()-t.timestamp<5e3)return t.data;try{var n,r,s,i,a,o,l,c,u;const t=await fetch("".concat(VB,"/USD"));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const h=await t.json(),d={CHF:(null===(n=h.rates)||void 0===n?void 0:n.CHF)||.8963,JPY:(null===(r=h.rates)||void 0===r?void 0:r.JPY)||152,EUR:(null===(s=h.rates)||void 0===s?void 0:s.EUR)||.92,GBP:(null===(i=h.rates)||void 0===i?void 0:i.GBP)||.79,CAD:(null===(a=h.rates)||void 0===a?void 0:a.CAD)||1.36,AUD:(null===(o=h.rates)||void 0===o?void 0:o.AUD)||1.52,HKD:(null===(l=h.rates)||void 0===l?void 0:l.HKD)||7.8,SGD:(null===(c=h.rates)||void 0===c?void 0:c.SGD)||1.35,CNY:(null===(u=h.rates)||void 0===u?void 0:u.CNY)||7.2},f=ot(ot({},h),{},{rates:d,timestamp:Date.now(),last_updated:(new Date).toISOString()});return WB(e,f),f}catch(WV){return console.error("Error fetching real-time Forex rates:",WV),t?t.data:{rates:{CHF:.8963,JPY:152,EUR:.92,GBP:.79,CAD:1.36,AUD:1.52,HKD:7.8,SGD:1.35,CNY:7.2},timestamp:Date.now(),last_updated:(new Date).toISOString()}}},KB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;"boolean"===typeof e&&(t=e,e=100);const r=[];let s,i=e;s=e>100?.002:e>10?.001:5e-4;const a=Date.now();for(let o=0;o<n;o++){const l=.1*Math.sin((a-36e5*o)/864e5);i*=1+(Math.random()-.5)*s+(t?.3*s:.3*-s)+l+Math.sin(o/n*Math.PI)*s*.2,i=e>1e3?Math.max(.95*e,Math.min(1.05*e,i)):e>100?Math.max(.98*e,Math.min(1.02*e,i)):e>10?Math.max(.95*e,Math.min(1.05*e,i)):Math.max(.9*e,Math.min(1.1*e,i)),r.push(parseFloat(i.toFixed(4)))}return r},JB=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["AAPL","TSLA","AMZN","GOOGL","MSFT"];const t="stocks_realtime_".concat(e.join("_")),n=zB.get(t);if(n&&Date.now()-n.timestamp<15e3)return n.data;try{const n={AAPL:{price:255.46,change:.54,changePercent:.21},TSLA:{price:440.4,change:2.83,changePercent:.65},AMZN:{price:219.78,change:.32,changePercent:.15},GOOGL:{price:246.54,change:.21,changePercent:.09},MSFT:{price:511.46,change:.27,changePercent:.05},UNH:{price:344.08,change:-1.11,changePercent:-.32},AI:{price:17.14,change:-.93,changePercent:-5.15},BRZE:{price:31.58,change:.22,changePercent:.7},FLNC:{price:11.91,change:3.66,changePercent:30.75},SNOW:{price:224.64,change:1.05,changePercent:.47},BB:{price:4.96,change:6.17,changePercent:124.4},EVGO:{price:4.57,change:-1.32,changePercent:-22.4},MQ:{price:5.36,change:.38,changePercent:7.63}},r={};e.forEach(e=>{const t=n[e]||{price:500*Math.random()+50,change:10*(Math.random()-.5),changePercent:5*(Math.random()-.5)};r[e]={price:t.price,change:t.change,changePercent:t.changePercent,timestamp:Date.now()}});const s=ot(ot({},r),{},{timestamp:Date.now(),last_updated:(new Date).toISOString()});return WB(t,s),s}catch(WV){if(console.error("Error fetching real-time stock prices:",WV),n)return n.data;throw WV}},YB=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return parseFloat(e).toFixed(t)},XB=e=>"".concat(e>=0?"+":"").concat(e.toFixed(2),"%"),ZB=(e,t)=>({"USD/EUR":.85,"USD/GBP":.73,"USD/JPY":110,"USD/CHF":.92,"USD/CAD":1.25,"USD/AUD":1.35,"USD/NZD":1.45,"EUR/USD":1.18,"GBP/USD":1.37,"JPY/USD":.009,"CHF/USD":1.09,"CAD/USD":.8,"AUD/USD":.74,"NZD/USD":.69}["".concat(e,"/").concat(t)]||1),$B=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"crypto",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r="historical_".concat(t,"_").concat(e,"_").concat(n);if(HB(r))return GB(r);try{let s;if("crypto"!==t){if("forex"===t){const[t,r]=e.split("/"),s=await QB();let i;if("USD"===t)i=s.rates[r]||1;else if("USD"===r)i=1/(s.rates[t]||1);else{const e=s.rates[t]||1;i=e/(s.rates[r]||1)}const a=KB(i,Math.random()>.5,24*n);return{prices:a.map((e,t)=>[Date.now()-60*(a.length-t)*60*1e3,e]),total_volumes:a.map((e,t)=>[Date.now()-60*(a.length-t)*60*1e3,1e6*Math.random()])}}throw new Error("Unsupported type")}if(s=await fetch("".concat(BB,"/coins/").concat(e,"/market_chart?vs_currency=usd&days=").concat(n,"&interval=hourly")),!s.ok)throw new Error("HTTP error! status: ".concat(s.status));const i=await s.json();return WB(r,i),i}catch(WV){console.error("Error fetching historical data:",WV);const n=[],r=Date.now(),s="forex"===t?1:100;for(let i=0;i<24;i++){const e=r-60*(23-i)*60*1e3,a="forex"===t?.002:.05,o=s*(1+(Math.random()-.5)*a);n.push({timestamp:e,price:o,volume:1e6*Math.random()})}return{prices:n.map(e=>[e.timestamp,e.price]),total_volumes:n.map(e=>[e.timestamp,e.volume])}}};function eV(){const[e,t]=(0,a.useState)("Forex"),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{const t=async()=>{i(!0),l(null);try{let i=[];if("Forex"===e){var t,n,s,a,u,h,d,f,m;let e;try{e=await QB()}catch(o){console.warn("Failed to fetch real-time Forex data, using fallback:",o),e={rates:{CHF:.8963,JPY:152,EUR:.92,GBP:.79,CAD:1.36,AUD:1.52,HKD:7.8,SGD:1.35,CNY:7.2},last_updated:(new Date).toISOString()}}i=[{pair:"USD/CHF",country:"Switzerland",flags:["US","CH"],rate:(null===(t=e.rates)||void 0===t?void 0:t.CHF)||.8963,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/ch.png"]},{pair:"USD/JPY",country:"Japan",flags:["US","JP"],rate:(null===(n=e.rates)||void 0===n?void 0:n.JPY)||152,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/jp.png"]},{pair:"USD/EUR",country:"Eurozone",flags:["US","EU"],rate:(null===(s=e.rates)||void 0===s?void 0:s.EUR)||.92,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/eu.png"]},{pair:"USD/GBP",country:"United Kingdom",flags:["US","GB"],rate:(null===(a=e.rates)||void 0===a?void 0:a.GBP)||.79,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/gb.png"]},{pair:"USD/CAD",country:"Canada",flags:["US","CA"],rate:(null===(u=e.rates)||void 0===u?void 0:u.CAD)||1.36,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/ca.png"]},{pair:"USD/AUD",country:"Australia",flags:["US","AU"],rate:(null===(h=e.rates)||void 0===h?void 0:h.AUD)||1.52,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/au.png"]},{pair:"USD/HKD",country:"Hong Kong",flags:["US","HK"],rate:(null===(d=e.rates)||void 0===d?void 0:d.HKD)||7.8,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/hk.png"]},{pair:"USD/SGD",country:"Singapore",flags:["US","SG"],rate:(null===(f=e.rates)||void 0===f?void 0:f.SGD)||1.35,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/sg.png"]},{pair:"USD/CNY",country:"China",flags:["US","CN"],rate:(null===(m=e.rates)||void 0===m?void 0:m.CNY)||7.2,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/cn.png"]}].map((t,n)=>{const r=Math.random()>.5,s=.002*(Math.random()-.5)*100;return{id:n+1,pair:t.pair,symbol:t.pair,price:YB(t.rate,t.pair.includes("JPY")?2:4),change:XB(s),isPositive:s>=0,flags:t.flags,flagUrls:t.flagUrls,chart:KB(t.rate,r),realTimePrice:t.rate,lastUpdated:e.last_updated||(new Date).toISOString()}})}else if("Crypto"===e){let e;try{e=await qB(["bitcoin","ethereum","litecoin","polkadot","filecoin","dogecoin","ripple","tron","polygon","cardano","chainlink","cosmos"])}catch(o){console.warn("Failed to fetch real-time crypto data, using fallback:",o),e={}}i=[{symbol:"BTC",name:"Bitcoin",logo:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png"},{symbol:"ETH",name:"Ethereum",logo:"https://assets.coingecko.com/coins/images/279/large/ethereum.png"},{symbol:"LTC",name:"Litecoin",logo:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"},{symbol:"DOT",name:"Polkadot",logo:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png"},{symbol:"FIL",name:"Filecoin",logo:"https://assets.coingecko.com/coins/images/12817/large/filecoin.png"},{symbol:"DOGE",name:"Dogecoin",logo:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png"},{symbol:"XRP",name:"Ripple",logo:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png"},{symbol:"TRX",name:"TRON",logo:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png"},{symbol:"MATIC",name:"Polygon",logo:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png"},{symbol:"ADA",name:"Cardano",logo:"https://assets.coingecko.com/coins/images/975/large/cardano.png"},{symbol:"LINK",name:"Chainlink",logo:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png"},{symbol:"ATOM",name:"Cosmos",logo:"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png"}].map((t,n)=>{const r=e[t.symbol.toLowerCase()]||{},s=r.price||5e4*Math.random()+1e3,i=r.change24h||10*(Math.random()-.5),a=i>=0;return{id:n+1,pair:t.symbol,symbol:t.name,price:YB(s,2),change:XB(i),isPositive:a,flags:["US","US"],logo:t.logo,chart:KB(s,a),realTimePrice:s,lastUpdated:(new Date).toISOString()}})}else if("Stocks"===e){let e;try{e=await JB(["AAPL","TSLA","AMZN","GOOGL","MSFT","UNH","AI","BRZE","FLNC","SNOW","BB","EVGO","MQ"])}catch(o){console.warn("Failed to fetch real-time stock data, using fallback:",o),e={}}i=[{symbol:"AAPL",name:"Apple Inc.",logo:"https://logo.clearbit.com/apple.com"},{symbol:"TSLA",name:"Tesla Inc.",logo:"https://logo.clearbit.com/tesla.com"},{symbol:"AMZN",name:"Amazon.com Inc.",logo:"https://logo.clearbit.com/amazon.com"},{symbol:"GOOGL",name:"Alphabet Inc.",logo:"https://logo.clearbit.com/google.com"},{symbol:"MSFT",name:"Microsoft Corporation",logo:"https://logo.clearbit.com/microsoft.com"},{symbol:"UNH",name:"UnitedHealth Group",logo:"https://logo.clearbit.com/unitedhealthgroup.com"},{symbol:"AI",name:"C3.ai Inc.",logo:"https://logo.clearbit.com/c3.ai"},{symbol:"BRZE",name:"Braze Inc.",logo:"https://logo.clearbit.com/braze.com"},{symbol:"FLNC",name:"Fluence Energy",logo:"https://logo.clearbit.com/fluenceenergy.com"},{symbol:"SNOW",name:"Snowflake Inc.",logo:"https://logo.clearbit.com/snowflake.com"},{symbol:"BB",name:"BlackBerry Limited",logo:"https://logo.clearbit.com/blackberry.com"},{symbol:"EVGO",name:"EVgo Inc.",logo:"https://logo.clearbit.com/evgo.com"},{symbol:"MQ",name:"Marqeta Inc.",logo:"https://logo.clearbit.com/marqeta.com"}].map((t,n)=>{const r=e[t.symbol]||{},s=r.price||500*Math.random()+50,i=r.changePercent||5*(Math.random()-.5),a=i>=0;return{id:n+1,pair:t.symbol,symbol:t.name,price:YB(s,2),change:XB(i),isPositive:a,flags:["US","US"],logo:t.logo,chart:KB(s,a),realTimePrice:s,lastUpdated:(new Date).toISOString()}})}else if("ETF"===e){i=[{symbol:"SPY",name:"SPDR S&P 500 ETF",logo:"https://logo.clearbit.com/spdrs.com"},{symbol:"QQQ",name:"Invesco QQQ Trust",logo:"https://logo.clearbit.com/invesco.com"},{symbol:"IWM",name:"iShares Russell 2000 ETF",logo:"https://logo.clearbit.com/ishares.com"},{symbol:"EFA",name:"iShares MSCI EAFE ETF",logo:"https://logo.clearbit.com/ishares.com"},{symbol:"VTI",name:"Vanguard Total Stock Market ETF",logo:"https://logo.clearbit.com/vanguard.com"},{symbol:"VEA",name:"Vanguard FTSE Developed Markets ETF",logo:"https://logo.clearbit.com/vanguard.com"},{symbol:"VWO",name:"Vanguard FTSE Emerging Markets ETF",logo:"https://logo.clearbit.com/vanguard.com"},{symbol:"AGG",name:"iShares Core U.S. Aggregate Bond ETF",logo:"https://logo.clearbit.com/ishares.com"},{symbol:"TLT",name:"iShares 20+ Year Treasury Bond ETF",logo:"https://logo.clearbit.com/ishares.com"},{symbol:"GLD",name:"SPDR Gold Shares",logo:"https://logo.clearbit.com/spdrs.com"}].map((e,t)=>{const n=200*Math.random()+50,r=3*(Math.random()-.5),s=r>=0;return{id:t+1,pair:e.symbol,symbol:e.name,price:YB(n,2),change:XB(r),isPositive:s,flags:["US","US"],logo:e.logo,chart:KB(n,s),realTimePrice:n,lastUpdated:(new Date).toISOString()}})}else if("Futures"===e){i=[{symbol:"ES",name:"E-mini S&P 500",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"NQ",name:"E-mini NASDAQ-100",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"YM",name:"E-mini Dow Jones",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"RTY",name:"E-mini Russell 2000",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"GC",name:"Gold Futures",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"CL",name:"Crude Oil Futures",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"NG",name:"Natural Gas Futures",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"ZB",name:"30-Year Treasury Bond",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"ZN",name:"10-Year Treasury Note",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"ZF",name:"5-Year Treasury Note",logo:"https://logo.clearbit.com/cmegroup.com"}].map((e,t)=>{const n=5e3*Math.random()+1e3,r=2*(Math.random()-.5),s=r>=0;return{id:t+1,pair:e.symbol,symbol:e.name,price:YB(n,2),change:XB(r),isPositive:s,flags:["US","US"],logo:e.logo,chart:KB(n,s),realTimePrice:n,lastUpdated:(new Date).toISOString()}})}r(i)}catch(p){console.error("Error fetching market data:",p),l("Failed to load market data"),r(c())}finally{i(!1)}};r(c()),t();const n=setInterval(t,3e4);return()=>clearInterval(n)},[e]);const c=()=>[{id:1,pair:"USD/HKD",symbol:"USDHKD",price:"7.7712",change:"-0.04%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\udded\ud83c\uddf0"]},{id:2,pair:"USD/SGD",symbol:"USDSGD",price:"1.2940",change:"-0.16%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\uddf8\ud83c\uddec"]},{id:3,pair:"GBP/USD",symbol:"Us Dollar",price:"1.3430",change:"0.27%",isPositive:!0,flags:["\ud83c\uddec\ud83c\udde7","\ud83c\uddfa\ud83c\uddf8"]},{id:4,pair:"USD/CNH",symbol:"USD/CNH",price:"7.1264",change:"-0.07%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\udde8\ud83c\uddf3"]},{id:5,pair:"USD/JPY",symbol:"USD/JPY",price:"150.7964",change:"-0.67%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\uddef\ud83c\uddf5"]},{id:6,pair:"EUR/USD",symbol:"EUR/USD",price:"1.1672",change:"0.24%",isPositive:!0,flags:["\ud83c\uddea\ud83c\uddfa","\ud83c\uddfa\ud83c\uddf8"]},{id:7,pair:"USD/CHF",symbol:"USD/CHF",price:"0.7959",change:"-0.11%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\udde8\ud83c\udded"]}];return(0,Re.jsxs)("div",{className:"min-h-screen bg-white text-gray-900",children:[(0,Re.jsxs)("header",{className:"flex items-center justify-between px-4 py-4 bg-white border-b border-gray-200",children:[(0,Re.jsxs)(Pe,{to:"/",className:"flex items-center space-x-2",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-gray-900 text-xl font-semibold",children:"Market"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12.828 7H4.828z"})})})]})]}),(0,Re.jsxs)("main",{className:"px-4 pb-32",children:[(0,Re.jsx)("div",{className:"mt-6 mb-6",children:(0,Re.jsx)("div",{className:"bg-gray-800 rounded-3xl px-2 py-2 flex items-center justify-between",children:["Forex","Crypto","Stocks","ETF","Futures"].map(n=>(0,Re.jsx)("button",{onClick:()=>t(n),className:"px-3 py-2 rounded-2xl text-sm font-medium transition-all ".concat(e===n?"bg-white text-gray-900":"text-gray-300 hover:text-gray-200"),children:n},n))})}),(0,Re.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:(Array.isArray(n)?n.slice(0,3):[]).map(t=>{var n;return(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-2xl p-4 border border-gray-200",children:[(0,Re.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,Re.jsx)("div",{className:"flex -space-x-1",children:"Crypto"===e&&t.logo||"Stocks"===e&&t.logo?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}}):"Forex"===e&&t.flagUrls?(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flagUrls.map((e,n)=>(0,Re.jsx)("img",{src:e,alt:"".concat(t.flags[n]," flag"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}},n))}):(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flags&&t.flags.length>=2?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(FB,{countryCode:t.flags[0]}),(0,Re.jsx)(FB,{countryCode:t.flags[1]})]}):null===(n=t.flags)||void 0===n?void 0:n.map((e,t)=>(0,Re.jsx)("span",{className:"text-lg",children:e},t))})})}),(0,Re.jsx)("h3",{className:"text-gray-900 font-bold text-sm mb-1",children:t.pair}),(0,Re.jsx)("p",{className:"text-gray-600 text-xs mb-2",children:t.symbol}),(0,Re.jsx)("p",{className:"text-gray-900 font-bold text-lg mb-1",children:t.price}),(0,Re.jsx)("p",{className:"text-xs font-medium ".concat(t.isPositive?"text-green-600":"text-red-600"),children:t.change})]},t.id)})}),(0,Re.jsxs)("div",{className:"space-y-3",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-4 gap-4 px-4 py-2",children:[(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Name"}),(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"24h%"}),(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Chart"}),(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Price"})]}),(Array.isArray(n)?n:[]).map(t=>{var n;return(0,Re.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:(0,Re.jsxs)("div",{className:"grid grid-cols-4 gap-4 items-center",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"flex -space-x-1",children:"Crypto"===e&&t.logo||"Stocks"===e&&t.logo?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}}):"Forex"===e&&t.flagUrls?(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flagUrls.map((e,n)=>(0,Re.jsx)("img",{src:e,alt:"".concat(t.flags[n]," flag"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}},n))}):(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flags&&t.flags.length>=2?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(FB,{countryCode:t.flags[0]}),(0,Re.jsx)(FB,{countryCode:t.flags[1]})]}):null===(n=t.flags)||void 0===n?void 0:n.map((e,t)=>(0,Re.jsx)("span",{className:"text-sm",children:e},t))})}),(0,Re.jsx)("span",{className:"text-gray-900 font-medium text-sm",children:t.pair})]}),(0,Re.jsx)("div",{className:"text-sm font-medium ".concat(t.isPositive?"text-green-600":"text-red-600"),children:t.change}),(0,Re.jsx)("div",{className:"flex items-center",children:(0,Re.jsx)("div",{className:"w-12 h-6 rounded ".concat(t.isPositive?"bg-green-100":"bg-red-100"),children:(0,Re.jsx)("div",{className:"w-full h-full rounded ".concat(t.isPositive?"bg-green-500":"bg-red-500"),style:{clipPath:"polygon(0% 100%, 25% 80%, 50% 60%, 75% 40%, 100% 20%)"}})})}),(0,Re.jsx)("div",{className:"text-gray-900 font-medium text-sm",children:t.price})]})},t.id)})]})]}),(0,Re.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 px-4 pb-4",children:(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-3xl shadow-2xl px-8 py-6 flex items-center justify-between",children:[(0,Re.jsx)(Pe,{to:"/",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Re.jsx)(Pe,{to:"/market",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Re.jsx)(Pe,{to:"/smart-trading",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Re.jsx)(Pe,{to:"/loan",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})})}),(0,Re.jsx)(Pe,{to:"/account",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})})]})}function tV(){const[e,t]=(0,a.useState)("Forex"),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{const t=async()=>{i(!0),l(null);try{let i=[];if("Forex"===e){var t,n,s,a,u,h,d,f,m;let e;try{e=await QB()}catch(o){console.warn("Failed to fetch real-time Forex data, using fallback:",o),e={rates:{CHF:.8963,JPY:152,EUR:.92,GBP:.79,CAD:1.36,AUD:1.52,HKD:7.8,SGD:1.35,CNY:7.2},last_updated:(new Date).toISOString()}}i=[{pair:"USD/CHF",country:"Switzerland",flags:["US","CH"],rate:(null===(t=e.rates)||void 0===t?void 0:t.CHF)||.8963,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/ch.png"]},{pair:"USD/JPY",country:"Japan",flags:["US","JP"],rate:(null===(n=e.rates)||void 0===n?void 0:n.JPY)||152,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/jp.png"]},{pair:"USD/EUR",country:"Eurozone",flags:["US","EU"],rate:(null===(s=e.rates)||void 0===s?void 0:s.EUR)||.92,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/eu.png"]},{pair:"USD/GBP",country:"United Kingdom",flags:["US","GB"],rate:(null===(a=e.rates)||void 0===a?void 0:a.GBP)||.79,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/gb.png"]},{pair:"USD/CAD",country:"Canada",flags:["US","CA"],rate:(null===(u=e.rates)||void 0===u?void 0:u.CAD)||1.36,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/ca.png"]},{pair:"USD/AUD",country:"Australia",flags:["US","AU"],rate:(null===(h=e.rates)||void 0===h?void 0:h.AUD)||1.52,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/au.png"]},{pair:"USD/HKD",country:"Hong Kong",flags:["US","HK"],rate:(null===(d=e.rates)||void 0===d?void 0:d.HKD)||7.8,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/hk.png"]},{pair:"USD/SGD",country:"Singapore",flags:["US","SG"],rate:(null===(f=e.rates)||void 0===f?void 0:f.SGD)||1.35,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/sg.png"]},{pair:"USD/CNY",country:"China",flags:["US","CN"],rate:(null===(m=e.rates)||void 0===m?void 0:m.CNY)||7.2,flagUrls:["https://flagcdn.com/w40/us.png","https://flagcdn.com/w40/cn.png"]}].map((t,n)=>{const r=Math.random()>.5,s=.002*(Math.random()-.5)*100;return{id:n+1,pair:t.pair,symbol:t.pair,price:YB(t.rate,t.pair.includes("JPY")?2:4),change:XB(s),isPositive:s>=0,flags:t.flags,flagUrls:t.flagUrls,chart:KB(t.rate,r),realTimePrice:t.rate,lastUpdated:e.last_updated||(new Date).toISOString()}})}else if("Crypto"===e){let e;try{e=await qB(["bitcoin","ethereum","litecoin","polkadot","filecoin","dogecoin","ripple","tron","polygon","cardano","chainlink","cosmos"])}catch(o){console.warn("Failed to fetch real-time crypto data, using fallback:",o),e={}}i=[{symbol:"BTC",name:"Bitcoin",logo:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png"},{symbol:"ETH",name:"Ethereum",logo:"https://assets.coingecko.com/coins/images/279/large/ethereum.png"},{symbol:"LTC",name:"Litecoin",logo:"https://assets.coingecko.com/coins/images/2/large/litecoin.png"},{symbol:"DOT",name:"Polkadot",logo:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png"},{symbol:"FIL",name:"Filecoin",logo:"https://assets.coingecko.com/coins/images/12817/large/filecoin.png"},{symbol:"DOGE",name:"Dogecoin",logo:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png"},{symbol:"XRP",name:"Ripple",logo:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png"},{symbol:"TRX",name:"TRON",logo:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png"},{symbol:"MATIC",name:"Polygon",logo:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png"},{symbol:"ADA",name:"Cardano",logo:"https://assets.coingecko.com/coins/images/975/large/cardano.png"},{symbol:"LINK",name:"Chainlink",logo:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png"},{symbol:"ATOM",name:"Cosmos",logo:"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png"}].map((t,n)=>{const r=e[t.symbol.toLowerCase()]||{},s=r.price||5e4*Math.random()+1e3,i=r.change24h||10*(Math.random()-.5),a=i>=0;return{id:n+1,pair:t.symbol,symbol:t.name,price:YB(s,2),change:XB(i),isPositive:a,flags:["US","US"],logo:t.logo,chart:KB(s,a),realTimePrice:s,lastUpdated:(new Date).toISOString()}})}else if("Stocks"===e){let e;try{e=await JB(["AAPL","TSLA","AMZN","GOOGL","MSFT","UNH","AI","BRZE","FLNC","SNOW","BB","EVGO","MQ"])}catch(o){console.warn("Failed to fetch real-time stock data, using fallback:",o),e={}}i=[{symbol:"AAPL",name:"Apple Inc.",logo:"https://logo.clearbit.com/apple.com"},{symbol:"TSLA",name:"Tesla Inc.",logo:"https://logo.clearbit.com/tesla.com"},{symbol:"AMZN",name:"Amazon.com Inc.",logo:"https://logo.clearbit.com/amazon.com"},{symbol:"GOOGL",name:"Alphabet Inc.",logo:"https://logo.clearbit.com/google.com"},{symbol:"MSFT",name:"Microsoft Corporation",logo:"https://logo.clearbit.com/microsoft.com"},{symbol:"UNH",name:"UnitedHealth Group",logo:"https://logo.clearbit.com/unitedhealthgroup.com"},{symbol:"AI",name:"C3.ai Inc.",logo:"https://logo.clearbit.com/c3.ai"},{symbol:"BRZE",name:"Braze Inc.",logo:"https://logo.clearbit.com/braze.com"},{symbol:"FLNC",name:"Fluence Energy",logo:"https://logo.clearbit.com/fluenceenergy.com"},{symbol:"SNOW",name:"Snowflake Inc.",logo:"https://logo.clearbit.com/snowflake.com"},{symbol:"BB",name:"BlackBerry Limited",logo:"https://logo.clearbit.com/blackberry.com"},{symbol:"EVGO",name:"EVgo Inc.",logo:"https://logo.clearbit.com/evgo.com"},{symbol:"MQ",name:"Marqeta Inc.",logo:"https://logo.clearbit.com/marqeta.com"}].map((t,n)=>{const r=e[t.symbol]||{},s=r.price||500*Math.random()+50,i=r.changePercent||5*(Math.random()-.5),a=i>=0;return{id:n+1,pair:t.symbol,symbol:t.name,price:YB(s,2),change:XB(i),isPositive:a,flags:["US","US"],logo:t.logo,chart:KB(s,a),realTimePrice:s,lastUpdated:(new Date).toISOString()}})}else if("ETF"===e){i=[{symbol:"SPY",name:"SPDR S&P 500 ETF",logo:"https://logo.clearbit.com/spdrs.com"},{symbol:"QQQ",name:"Invesco QQQ Trust",logo:"https://logo.clearbit.com/invesco.com"},{symbol:"IWM",name:"iShares Russell 2000 ETF",logo:"https://logo.clearbit.com/ishares.com"},{symbol:"EFA",name:"iShares MSCI EAFE ETF",logo:"https://logo.clearbit.com/ishares.com"},{symbol:"VTI",name:"Vanguard Total Stock Market ETF",logo:"https://logo.clearbit.com/vanguard.com"},{symbol:"VEA",name:"Vanguard FTSE Developed Markets ETF",logo:"https://logo.clearbit.com/vanguard.com"},{symbol:"VWO",name:"Vanguard FTSE Emerging Markets ETF",logo:"https://logo.clearbit.com/vanguard.com"},{symbol:"AGG",name:"iShares Core U.S. Aggregate Bond ETF",logo:"https://logo.clearbit.com/ishares.com"},{symbol:"TLT",name:"iShares 20+ Year Treasury Bond ETF",logo:"https://logo.clearbit.com/ishares.com"},{symbol:"GLD",name:"SPDR Gold Shares",logo:"https://logo.clearbit.com/spdrs.com"}].map((e,t)=>{const n=200*Math.random()+50,r=3*(Math.random()-.5),s=r>=0;return{id:t+1,pair:e.symbol,symbol:e.name,price:YB(n,2),change:XB(r),isPositive:s,flags:["US","US"],logo:e.logo,chart:KB(n,s),realTimePrice:n,lastUpdated:(new Date).toISOString()}})}else if("Futures"===e){i=[{symbol:"ES",name:"E-mini S&P 500",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"NQ",name:"E-mini NASDAQ-100",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"YM",name:"E-mini Dow Jones",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"RTY",name:"E-mini Russell 2000",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"GC",name:"Gold Futures",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"CL",name:"Crude Oil Futures",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"NG",name:"Natural Gas Futures",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"ZB",name:"30-Year Treasury Bond",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"ZN",name:"10-Year Treasury Note",logo:"https://logo.clearbit.com/cmegroup.com"},{symbol:"ZF",name:"5-Year Treasury Note",logo:"https://logo.clearbit.com/cmegroup.com"}].map((e,t)=>{const n=5e3*Math.random()+1e3,r=2*(Math.random()-.5),s=r>=0;return{id:t+1,pair:e.symbol,symbol:e.name,price:YB(n,2),change:XB(r),isPositive:s,flags:["US","US"],logo:e.logo,chart:KB(n,s),realTimePrice:n,lastUpdated:(new Date).toISOString()}})}r(i)}catch(p){console.error("Error fetching market data:",p),l("Failed to load market data"),r(c())}finally{i(!1)}};r(c()),t();const n=setInterval(t,3e4);return()=>clearInterval(n)},[e]);const c=()=>[{id:1,pair:"USD/CNH",symbol:"USDCNH",price:"7.1229",change:"-0.12%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\udde8\ud83c\uddf3"]},{id:2,pair:"USD/JPY",symbol:"USDJPY",price:"150.6454",change:"-0.77%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\uddef\ud83c\uddf5"]},{id:3,pair:"EUR/USD",symbol:"EURUSD",price:"1.1679",change:"0.58%",isPositive:!0,flags:["\ud83c\uddea\ud83c\uddfa","\ud83c\uddfa\ud83c\uddf8"]},{id:4,pair:"USD/CHF",symbol:"USDCHF",price:"0.7946",change:"-0.28%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\udde8\ud83c\udded"]},{id:5,pair:"USD/HKD",symbol:"USDHKD",price:"7.7709",change:"-0.04%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\udded\ud83c\uddf0"]},{id:6,pair:"USD/SGD",symbol:"USDSGD",price:"1.2933",change:"-0.22%",isPositive:!1,flags:["\ud83c\uddfa\ud83c\uddf8","\ud83c\uddf8\ud83c\uddec"]},{id:7,pair:"GBP/USD",symbol:"GBPUSD",price:"1.3437",change:"0.32%",isPositive:!0,flags:["\ud83c\uddec\ud83c\udde7","\ud83c\uddfa\ud83c\uddf8"]},{id:8,pair:"HKD/CNY",symbol:"HKDCNY",price:"0.9167",change:"-0.05%",isPositive:!1,flags:["\ud83c\udded\ud83c\uddf0","\ud83c\udde8\ud83c\uddf3"]},{id:9,pair:"AUD/USD",symbol:"AUDUSD",price:"0.6543",change:"0.15%",isPositive:!0,flags:["\ud83c\udde6\ud83c\uddfa","\ud83c\uddfa\ud83c\uddf8"]},{id:10,pair:"CAD/USD",symbol:"CADUSD",price:"0.7321",change:"-0.08%",isPositive:!1,flags:["\ud83c\udde8\ud83c\udde6","\ud83c\uddfa\ud83c\uddf8"]}];return(0,Re.jsxs)("div",{className:"min-h-screen bg-white text-gray-900",children:[(0,Re.jsxs)("header",{className:"flex items-center justify-between px-4 py-4 bg-white border-b border-gray-200",children:[(0,Re.jsxs)(Pe,{to:"/",className:"flex items-center space-x-2",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-gray-900 text-xl font-semibold",children:"Smart Trading"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12.828 7H4.828z"})})})]})]}),(0,Re.jsxs)("main",{className:"px-4 pb-32",children:[(0,Re.jsx)("div",{className:"mt-6 mb-6",children:(0,Re.jsx)("div",{className:"bg-gray-800 rounded-3xl px-2 py-2 flex items-center justify-between",children:["Forex","Crypto","Stocks","ETF","Futures"].map(n=>(0,Re.jsx)("button",{onClick:()=>t(n),className:"px-3 py-2 rounded-2xl text-sm font-medium transition-all ".concat(e===n?"bg-white text-gray-900":"text-gray-300 hover:text-gray-200"),children:n},n))})}),(0,Re.jsxs)("div",{className:"space-y-3",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-5 gap-4 px-4 py-2",children:[(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Name"}),(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Spot price"}),(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"24h%"}),(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Chart"}),(0,Re.jsx)("div",{className:"text-gray-600 text-sm font-medium"})]}),(Array.isArray(n)?n:[]).map(t=>{var n;return(0,Re.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:(0,Re.jsxs)("div",{className:"grid grid-cols-5 gap-4 items-center",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"flex -space-x-1",children:"Crypto"===e&&t.logo||"Stocks"===e&&t.logo?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}}):"Forex"===e&&t.flagUrls?(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flagUrls.map((e,n)=>(0,Re.jsx)("img",{src:e,alt:"".concat(t.flags[n]," flag"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}},n))}):(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flags&&t.flags.length>=2?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(FB,{countryCode:t.flags[0]}),(0,Re.jsx)(FB,{countryCode:t.flags[1]})]}):null===(n=t.flags)||void 0===n?void 0:n.map((e,t)=>(0,Re.jsx)("span",{className:"text-sm",children:e},t))})}),(0,Re.jsx)("span",{className:"text-gray-900 font-medium text-sm",children:t.pair})]}),(0,Re.jsx)("div",{className:"text-gray-900 font-medium text-sm",children:t.price}),(0,Re.jsx)("div",{className:"text-sm font-medium ".concat(t.isPositive?"text-green-600":"text-red-600"),children:t.change}),(0,Re.jsx)("div",{className:"flex items-center",children:(0,Re.jsx)("div",{className:"w-12 h-6 rounded ".concat(t.isPositive?"bg-green-100":"bg-red-100"),children:(0,Re.jsx)("div",{className:"w-full h-full rounded ".concat(t.isPositive?"bg-green-500":"bg-red-500"),style:{clipPath:"polygon(0% 100%, 25% 80%, 50% 60%, 75% 40%, 100% 20%)"}})})}),(0,Re.jsx)("div",{className:"flex items-center justify-end",children:(0,Re.jsx)("button",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})})]})},t.id)})]})]}),(0,Re.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 px-4 pb-4",children:(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-3xl shadow-2xl px-8 py-6 flex items-center justify-between",children:[(0,Re.jsx)(Pe,{to:"/",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Re.jsx)(Pe,{to:"/market",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Re.jsx)(Pe,{to:"/smart-trading",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,Re.jsx)(Pe,{to:"/loan",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})})}),(0,Re.jsx)(Pe,{to:"/account",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})})]})}function nV(){const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)("7 Days"),[s,i]=(0,a.useState)(!1),{isConnected:o,account:l}=rm();return(0,Re.jsxs)("div",{className:"min-h-screen bg-white text-gray-900",children:[(0,Re.jsx)(LB,{}),(0,Re.jsxs)("header",{className:"flex items-center justify-between px-4 py-4 bg-white border-b border-gray-200",children:[(0,Re.jsxs)(Pe,{to:"/",className:"flex items-center space-x-2",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-gray-900 text-xl font-semibold",children:"Loan account"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12.828 7H4.828z"})})})]})]}),(0,Re.jsxs)("main",{className:"px-4 pb-32",children:[(0,Re.jsxs)("div",{className:"mt-6 text-center",children:[(0,Re.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"5,000,000 USD"}),(0,Re.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Verify your identity and get more loan amount!"}),(0,Re.jsx)("button",{className:"w-full bg-gray-900 text-white py-4 rounded-2xl font-semibold text-lg",children:"Start verification"})]}),(0,Re.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("div",{className:"flex-1 bg-white border border-gray-300 rounded-2xl px-4 py-4",children:(0,Re.jsx)("input",{type:"text",placeholder:"I want to borrow...",value:e,onChange:e=>t(e.target.value),className:"w-full text-gray-900 placeholder-gray-500 outline-none"})}),(0,Re.jsx)("button",{className:"bg-white border border-gray-300 rounded-2xl px-4 py-4 text-gray-900 font-medium",children:"USD"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("div",{className:"flex-1 bg-gray-800 border border-gray-300 rounded-2xl px-4 py-4",children:(0,Re.jsx)("span",{className:"text-white text-sm",children:"Loan term (Days):"})}),(0,Re.jsxs)("button",{className:"bg-white border border-gray-300 rounded-2xl px-4 py-4 text-gray-900 font-medium flex items-center space-x-2",children:[(0,Re.jsx)("span",{children:n}),(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})]}),(0,Re.jsxs)("div",{className:"mt-8 space-y-3",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Re.jsx)("span",{className:"text-gray-600 text-sm",children:"Daily interest rate:"}),(0,Re.jsx)("span",{className:"text-gray-900 font-bold",children:"0.1%"})]}),(0,Re.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Re.jsx)("span",{className:"text-gray-600 text-sm",children:"Total interest amount:"}),(0,Re.jsxs)("span",{className:"text-gray-900 font-bold",children:[(.001*(parseFloat(e)||0)*(parseInt(n)||7)).toFixed(2)," USD"]})]}),(0,Re.jsx)("p",{className:"text-gray-500 text-xs mt-4",children:"No interest need to pay within 0 days of the loan, after that, interest is payable."})]}),(0,Re.jsx)("div",{className:"mt-8",children:(0,Re.jsx)("button",{onClick:async()=>{o?!e||parseFloat(e)<=0?alert("Please enter a valid loan amount"):parseFloat(e)>5e6?alert("Maximum loan amount is 5,000,000 USD"):(i(!0),setTimeout(()=>{i(!1),alert("Loan application for ".concat(e," USD for ").concat(n," submitted successfully!"))},2e3)):alert("Please connect your wallet first")},disabled:s,className:"w-full bg-gray-900 text-white py-4 rounded-2xl font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Re.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Re.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Borrow now"})})]}),(0,Re.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 px-4 pb-4",children:(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-3xl shadow-2xl px-8 py-6 flex items-center justify-between",children:[(0,Re.jsx)(Pe,{to:"/",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Re.jsx)(Pe,{to:"/market",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Re.jsx)(Pe,{to:"/smart-trading",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Re.jsx)(Pe,{to:"/loan",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Re.jsx)(Pe,{to:"/account",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})})]})}function rV(){const[e,t]=(0,a.useState)("Options");return(0,Re.jsxs)("div",{className:"min-h-screen bg-white text-gray-900",children:[(0,Re.jsxs)("header",{className:"flex items-center justify-between px-4 py-4 bg-white border-b border-gray-200",children:[(0,Re.jsxs)(Pe,{to:"/",className:"flex items-center space-x-2",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-gray-900 text-xl font-semibold",children:"My account"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Re.jsx)("div",{className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.828 7l2.586 2.586a2 2 0 002.828 0L12.828 7H4.828z"})})})]})]}),(0,Re.jsxs)("main",{className:"px-4 pb-32",children:[(0,Re.jsx)("div",{className:"mt-6",children:(0,Re.jsxs)("button",{className:"w-full bg-gray-800 border border-white rounded-2xl px-4 py-3 flex items-center justify-between",children:[(0,Re.jsx)("span",{className:"text-white font-medium",children:"CeDE8D"}),(0,Re.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(0,Re.jsxs)("div",{className:"mt-6 bg-gray-800 rounded-3xl p-6 relative overflow-hidden",children:[(0,Re.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full -translate-y-16 translate-x-16"}),(0,Re.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-purple-500/10 rounded-full translate-y-12 -translate-x-12"}),(0,Re.jsxs)("div",{className:"relative z-10",children:[(0,Re.jsx)("div",{className:"text-center mb-6",children:(0,Re.jsx)("h1",{className:"text-4xl font-bold text-white",children:"0.00 USD"})}),(0,Re.jsxs)("div",{className:"space-y-3",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Re.jsx)("span",{className:"text-orange-400 text-sm",children:"Balance:"}),(0,Re.jsx)("span",{className:"text-white text-sm underline",children:"0.00 USD"})]}),(0,Re.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Re.jsx)("span",{className:"text-orange-400 text-sm",children:"Loan:"}),(0,Re.jsx)("span",{className:"text-white text-sm underline",children:"0.00 USD"})]}),(0,Re.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Re.jsx)("span",{className:"text-white text-sm",children:"Margin Used:"}),(0,Re.jsx)("span",{className:"text-white text-sm",children:"0.00 USD"})]}),(0,Re.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Re.jsx)("span",{className:"text-white text-sm",children:"Expected Profit:"}),(0,Re.jsx)("span",{className:"text-white text-sm",children:"0.00 USD"})]})]})]})]}),(0,Re.jsxs)("div",{className:"mt-8",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order"}),(0,Re.jsx)("div",{className:"bg-gray-800 rounded-3xl px-2 py-2 flex items-center justify-between mb-6",children:["All orders","Options","Smart","Static Inco"].map(n=>(0,Re.jsx)("button",{onClick:()=>t(n),className:"px-3 py-2 rounded-2xl text-sm font-medium transition-all ".concat(e===n?"bg-white text-gray-900":"text-gray-300 hover:text-gray-200"),children:n},n))}),(0,Re.jsx)("div",{className:"text-center py-8",children:(0,Re.jsx)("p",{className:"text-gray-600",children:"No more data"})})]}),(0,Re.jsxs)("div",{className:"mt-8",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),(0,Re.jsx)("div",{className:"space-y-3",children:[{name:"Account verification"},{name:"Invite your friends"},{name:"Contact us"},{name:"Help center (FAQ)"},{name:"Notification"},{name:"Change language"}].map((e,t)=>(0,Re.jsxs)("button",{className:"w-full bg-gray-800 rounded-2xl px-4 py-4 flex items-center justify-between hover:bg-gray-700 transition-colors",children:[(0,Re.jsx)("span",{className:"text-white font-medium",children:e.name}),(0,Re.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},t))})]})]}),(0,Re.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 px-4 pb-4",children:(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-3xl shadow-2xl px-8 py-6 flex items-center justify-between",children:[(0,Re.jsx)(Pe,{to:"/",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Re.jsx)(Pe,{to:"/market",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Re.jsx)(Pe,{to:"/smart-trading",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Re.jsx)(Pe,{to:"/loan",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})})}),(0,Re.jsx)(Pe,{to:"/account",className:"flex flex-col items-center space-y-2",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})]})})]})}const sV=e=>{let{isOpen:t,onClose:n}=e;const[r,s]=(0,a.useState)({firstName:"",lastName:"",gender:"",birthdate:"",country:"",address:"",email:"",phoneNumber:"",document:null}),[i,o]=(0,a.useState)({}),l=e=>{const{name:t,value:n}=e.target;s(e=>ot(ot({},e),{},{[t]:n})),i[t]&&o(e=>ot(ot({},e),{},{[t]:""}))};return t?(0,Re.jsx)(wR,{children:(0,Re.jsx)(fB.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:n,children:(0,Re.jsxs)(fB.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Start verification"}),(0,Re.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Re.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={};r.firstName||(t.firstName="First name is required"),r.lastName||(t.lastName="Last name is required"),r.gender||(t.gender="Gender is required"),r.birthdate||(t.birthdate="Birthdate is required"),r.country||(t.country="Country is required"),r.address||(t.address="Address is required"),r.email||(t.email="Email is required"),r.phoneNumber||(t.phoneNumber="Phone number is required"),r.document||(t.document="Document is required"),o(t),0===Object.keys(t).length&&(console.log("Form submitted:",r),alert("Verification request submitted successfully!"),n())},className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First name"}),(0,Re.jsx)("input",{type:"text",name:"firstName",value:r.firstName,onChange:l,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300 ".concat(i.firstName?"border-red-500":"border-gray-300"),placeholder:"Enter your first name"}),i.firstName&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.firstName})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last name"}),(0,Re.jsx)("input",{type:"text",name:"lastName",value:r.lastName,onChange:l,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300 ".concat(i.lastName?"border-red-500":"border-gray-300"),placeholder:"Enter your last name"}),i.lastName&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.lastName})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Female / Male"}),(0,Re.jsxs)("select",{name:"gender",value:r.gender,onChange:l,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300 ".concat(i.gender?"border-red-500":"border-gray-300"),children:[(0,Re.jsx)("option",{value:"",children:"Select gender"}),(0,Re.jsx)("option",{value:"female",children:"Female"}),(0,Re.jsx)("option",{value:"male",children:"Male"})]}),i.gender&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.gender})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birthdate"}),(0,Re.jsx)("input",{type:"date",name:"birthdate",value:r.birthdate,onChange:l,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300 ".concat(i.birthdate?"border-red-500":"border-gray-300")}),i.birthdate&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.birthdate})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,Re.jsxs)("select",{name:"country",value:r.country,onChange:l,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300 ".concat(i.country?"border-red-500":"border-gray-300"),children:[(0,Re.jsx)("option",{value:"",children:"Select your country"}),(0,Re.jsx)("option",{value:"US",children:"United States"}),(0,Re.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,Re.jsx)("option",{value:"CA",children:"Canada"}),(0,Re.jsx)("option",{value:"AU",children:"Australia"}),(0,Re.jsx)("option",{value:"DE",children:"Germany"}),(0,Re.jsx)("option",{value:"FR",children:"France"}),(0,Re.jsx)("option",{value:"JP",children:"Japan"}),(0,Re.jsx)("option",{value:"SG",children:"Singapore"}),(0,Re.jsx)("option",{value:"HK",children:"Hong Kong"}),(0,Re.jsx)("option",{value:"CH",children:"Switzerland"})]}),i.country&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.country})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,Re.jsx)("textarea",{name:"address",value:r.address,onChange:l,rows:3,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300 ".concat(i.address?"border-red-500":"border-gray-300"),placeholder:"Enter your full address"}),i.address&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.address})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Re.jsx)("input",{type:"email",name:"email",value:r.email,onChange:l,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300 ".concat(i.email?"border-red-500":"border-gray-300"),placeholder:"Enter your email address"}),i.email&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.email})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone number"}),(0,Re.jsxs)("div",{className:"flex",children:[(0,Re.jsxs)("select",{className:"px-4 py-3 border border-r-0 border-gray-300 rounded-l-lg bg-gray-50",children:[(0,Re.jsx)("option",{value:"+98",children:"+98"}),(0,Re.jsx)("option",{value:"+1",children:"+1"}),(0,Re.jsx)("option",{value:"+44",children:"+44"}),(0,Re.jsx)("option",{value:"+61",children:"+61"}),(0,Re.jsx)("option",{value:"+49",children:"+49"}),(0,Re.jsx)("option",{value:"+33",children:"+33"}),(0,Re.jsx)("option",{value:"+81",children:"+81"}),(0,Re.jsx)("option",{value:"+65",children:"+65"}),(0,Re.jsx)("option",{value:"+852",children:"+852"}),(0,Re.jsx)("option",{value:"+41",children:"+41"})]}),(0,Re.jsx)("input",{type:"tel",name:"phoneNumber",value:r.phoneNumber,onChange:l,className:"flex-1 px-4 py-3 border rounded-r-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-300 ".concat(i.phoneNumber?"border-red-500":"border-gray-300"),placeholder:"Enter your phone number"})]}),i.phoneNumber&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.phoneNumber})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document"}),(0,Re.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors duration-300",children:[(0,Re.jsx)("input",{type:"file",name:"document",onChange:e=>{s(t=>ot(ot({},t),{},{document:e.target.files[0]}))},accept:"image/*,.pdf",className:"hidden",id:"document-upload"}),(0,Re.jsxs)("label",{htmlFor:"document-upload",className:"cursor-pointer",children:[(0,Re.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,Re.jsx)("p",{className:"text-gray-600 mb-2",children:"Click to upload document"}),(0,Re.jsx)("p",{className:"text-sm text-gray-500",children:"PNG, JPG, PDF up to 10MB"})]})]}),i.document&&(0,Re.jsx)("p",{className:"text-red-500 text-sm mt-1",children:i.document})]}),(0,Re.jsx)("div",{className:"flex justify-end pt-6",children:(0,Re.jsx)("button",{type:"submit",className:"bg-gray-900 text-white px-8 py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors duration-300",children:"Continue"})})]})]})})}):null},iV=e=>{let{isOpen:t,onClose:n}=e;const{createDeposit:r}=yB(),[s,i]=(0,a.useState)("BTC"),[o,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[h,d]=(0,a.useState)(!1),[f,m]=(0,a.useState)(""),p=[{symbol:"BTC",name:"Bitcoin",logo:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",minDeposit:"0.001",fee:"0.0005"},{symbol:"ETH",name:"Ethereum",logo:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",minDeposit:"0.01",fee:"0.005"},{symbol:"USDC",name:"USD Coin",logo:"https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",minDeposit:"10",fee:"1"},{symbol:"USDT",name:"Tether",logo:"https://assets.coingecko.com/coins/images/325/large/Tether.png",minDeposit:"10",fee:"1"}],g=p.find(e=>e.symbol===s),y=()=>{h||(n(),l(""))};return(0,Re.jsx)(wR,{children:t&&(0,Re.jsx)(fB.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:y,children:(0,Re.jsxs)(fB.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-8 w-full max-w-md mx-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Deposit Funds"}),(0,Re.jsx)("button",{onClick:y,disabled:h,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200 disabled:opacity-50",children:(0,Re.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Re.jsxs)("div",{className:"mb-6",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Currency"}),(0,Re.jsx)("div",{className:"grid grid-cols-2 gap-3",children:p.map(e=>(0,Re.jsx)("button",{onClick:()=>i(e.symbol),disabled:h,className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat(s===e.symbol?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"," disabled:opacity-50"),children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("img",{src:e.logo,alt:e.name,className:"w-8 h-8 rounded-full",onError:e=>{e.target.style.display="none"}}),(0,Re.jsxs)("div",{className:"text-left",children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900",children:e.symbol}),(0,Re.jsx)("div",{className:"text-sm text-gray-500",children:e.name})]})]})},e.symbol))})]}),(0,Re.jsxs)("div",{className:"mb-6",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Amount"}),(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("input",{type:"number",value:o,onChange:e=>l(e.target.value),placeholder:"Enter amount in ".concat(s),disabled:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"}),(0,Re.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:s})]}),(0,Re.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Minimum: ",g.minDeposit," ",s]})]}),(0,Re.jsxs)("div",{className:"mb-6",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Hash"}),(0,Re.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Enter transaction hash from your wallet",disabled:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"}),(0,Re.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:"Enter the transaction hash from your wallet after sending the funds"})]}),(0,Re.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Re.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Deposit Information"}),(0,Re.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,Re.jsxs)("div",{className:"flex justify-between",children:[(0,Re.jsx)("span",{children:"Currency:"}),(0,Re.jsx)("span",{className:"font-medium",children:s})]}),(0,Re.jsxs)("div",{className:"flex justify-between",children:[(0,Re.jsx)("span",{children:"Network Fee:"}),(0,Re.jsxs)("span",{className:"font-medium",children:[g.fee," ",s]})]}),(0,Re.jsxs)("div",{className:"flex justify-between",children:[(0,Re.jsx)("span",{children:"Estimated Time:"}),(0,Re.jsx)("span",{className:"font-medium",children:"BTC"===s?"10-30 min":"ETH"===s?"2-5 min":"1-3 min"})]})]})]}),f&&(0,Re.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:(0,Re.jsx)("p",{className:"text-red-800 text-sm",children:f})}),(0,Re.jsxs)("div",{className:"flex space-x-3",children:[(0,Re.jsx)("button",{onClick:y,disabled:h,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Re.jsx)("button",{onClick:async()=>{if(!o||parseFloat(o)<parseFloat(g.minDeposit))m("Minimum deposit amount is ".concat(g.minDeposit," ").concat(s));else if(c){d(!0),m("");try{await r(parseFloat(o),s,c),alert("Deposit of ".concat(o," ").concat(s," submitted successfully! It will be reviewed by admin.")),n(),l(""),u("")}catch(f){m(f.message)}finally{d(!1)}}else m("Please enter the transaction hash")},disabled:h||!o,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:h?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Re.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Re.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Deposit"})]}),(0,Re.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Re.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Re.jsx)("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Re.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,Re.jsx)("p",{className:"font-medium",children:"Important:"}),(0,Re.jsxs)("p",{children:["Only send ",s," to this address. Sending other cryptocurrencies may result in permanent loss."]})]})]})})]})})})};var aV,oV=Object.defineProperty,lV=Object.getOwnPropertySymbols,cV=Object.prototype.hasOwnProperty,uV=Object.prototype.propertyIsEnumerable,hV=(e,t,n)=>t in e?oV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dV=(e,t)=>{for(var n in t||(t={}))cV.call(t,n)&&hV(e,n,t[n]);if(lV)for(var n of lV(t))uV.call(t,n)&&hV(e,n,t[n]);return e},fV=(e,t)=>{var n={};for(var r in e)cV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lV)for(var r of lV(e))t.indexOf(r)<0&&uV.call(e,r)&&(n[r]=e[r]);return n};(e=>{const t=class t{constructor(e,n,r,i){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let a=[];for(let t=0;t<this.size;t++)a.push(!1);for(let t=0;t<this.size;t++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(r);if(this.drawCodewords(o),-1==i){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(i=t,e=n),this.applyMask(t)}}s(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(n,r){const s=e.QrSegment.makeSegments(n);return t.encodeSegments(s,r)}static encodeBinary(n,r){const s=e.QrSegment.makeBytes(n);return t.encodeSegments([s],r)}static encodeSegments(e,r){let i,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=l&&l<=c&&c<=t.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");for(i=l;;i++){const n=8*t.getNumDataCodewords(i,r),s=a.getTotalBits(e,i);if(s<=n){o=s;break}if(i>=c)throw new RangeError("Data too long")}for(const n of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])h&&o<=8*t.getNumDataCodewords(i,n)&&(r=n);let d=[];for(const t of e){n(t.mode.modeBits,4,d),n(t.numChars,t.mode.numCharCountBits(i),d);for(const e of t.getData())d.push(e)}s(d.length==o);const f=8*t.getNumDataCodewords(i,r);s(d.length<=f),n(0,Math.min(4,f-d.length),d),n(0,(8-d.length%8)%8,d),s(d.length%8==0);for(let t=236;d.length<f;t^=253)n(t,8,d);let m=[];for(;8*m.length<d.length;)m.push(0);return d.forEach((e,t)=>m[t>>>3]|=e<<7-(7&t)),new t(i,r,m,u)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let r=0;r<10;r++)n=n<<1^1335*(n>>>9);const i=21522^(t<<10|n);s(i>>>15==0);for(let s=0;s<=5;s++)this.setFunctionModule(8,s,r(i,s));this.setFunctionModule(8,7,r(i,6)),this.setFunctionModule(8,8,r(i,7)),this.setFunctionModule(7,8,r(i,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,r(i,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,r(i,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,r(i,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;s(t>>>18==0);for(let n=0;n<18;n++){const e=r(t,n),s=this.size-11+n%3,i=Math.floor(n/3);this.setFunctionModule(s,i,e),this.setFunctionModule(i,s,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const s=Math.max(Math.abs(r),Math.abs(n)),i=e+r,a=t+n;0<=i&&i<this.size&&0<=a&&a<this.size&&this.setFunctionModule(i,a,2!=s&&4!=s)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const i=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],a=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],o=Math.floor(t.getNumRawDataModules(n)/8),l=i-o%i,c=Math.floor(o/i);let u=[];const h=t.reedSolomonComputeDivisor(a);for(let s=0,f=0;s<i;s++){let n=e.slice(f,f+c-a+(s<l?0:1));f+=n.length;const r=t.reedSolomonComputeRemainder(n,h);s<l&&n.push(0),u.push(n.concat(r))}let d=[];for(let t=0;t<u[0].length;t++)u.forEach((e,n)=>{(t!=c-a||n>=l)&&d.push(e[t])});return s(d.length==o),d}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let s=0;s<this.size;s++)for(let i=0;i<2;i++){const a=t-i,o=0==(t+1&2)?this.size-1-s:s;!this.isFunction[o][a]&&n<8*e.length&&(this.modules[o][a]=r(e[n>>>3],7-(7&n)),n++)}}s(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let a=0;a<this.size;a++)this.modules[s][a]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[s][a],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,i)*t.PENALTY_N3}for(let s=0;s<this.size;s++){let n=!1,r=0,i=[0,0,0,0,0,0,0];for(let a=0;a<this.size;a++)this.modules[a][s]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[a][s],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,i)*t.PENALTY_N3}for(let s=0;s<this.size-1;s++)for(let n=0;n<this.size-1;n++){const r=this.modules[s][n];r==this.modules[s][n+1]&&r==this.modules[s+1][n]&&r==this.modules[s+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce((e,t)=>e+(t?1:0),n);const r=this.size*this.size,i=Math.ceil(Math.abs(20*n-10*r)/r)-1;return s(0<=i&&i<=9),e+=i*t.PENALTY_N4,s(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return s(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let s=0;s<e;s++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map(e=>0);for(const s of e){const e=s^r.shift();r.push(0),n.forEach((n,s)=>r[s]^=t.reedSolomonMultiply(n,e))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return s(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];s(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];function n(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function r(e,t){return 0!=(e>>>t&1)}function s(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;const i=class e{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(t){let r=[];for(const e of t)n(e,8,r);return new e(e.Mode.BYTE,t.length,r)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let r=[];for(let e=0;e<t.length;){const s=Math.min(t.length-e,3);n(parseInt(t.substring(e,e+s),10),3*s+1,r),e+=s}return new e(e.Mode.NUMERIC,t.length,r)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r,s=[];for(r=0;r+2<=t.length;r+=2){let i=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));i+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),n(i,11,s)}return r<t.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,s),new e(e.Mode.ALPHANUMERIC,t.length,s)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let r=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)n(t,8,r);else if(t<16384)n(2,2,r),n(t,14,r);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,r),n(t,21,r)}return new e(e.Mode.ECI,0,r)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;e.QrSegment=i})(aV||(aV={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2);e.Ecc=t})(t=e.QrCode||(e.QrCode={}))})(aV||(aV={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]);e.Mode=t})(t=e.QrSegment||(e.QrSegment={}))})(aV||(aV={}));var mV=aV,pV={L:mV.QrCode.Ecc.LOW,M:mV.QrCode.Ecc.MEDIUM,Q:mV.QrCode.Ecc.QUARTILE,H:mV.QrCode.Ecc.HIGH},gV=128,yV="L",vV="#FFFFFF",xV="#000000",wV=!1,bV=1;function EV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach(function(e,r){let s=null;e.forEach(function(i,a){if(!i&&null!==s)return n.push("M".concat(s+t," ").concat(r+t,"h").concat(a-s,"v1H").concat(s+t,"z")),void(s=null);if(a!==e.length-1)i&&null===s&&(s=a);else{if(!i)return;null===s?n.push("M".concat(a+t,",").concat(r+t," h1v1H").concat(a+t,"z")):n.push("M".concat(s+t,",").concat(r+t," h").concat(a+1-s,"v1H").concat(s+t,"z"))}})}),n.join("")}function SV(e,t){return e.slice().map((e,n)=>n<t.y||n>=t.y+t.h?e:e.map((e,n)=>(n<t.x||n>=t.x+t.w)&&e))}function NV(e){let{value:t,level:n,minVersion:r,includeMargin:s,marginSize:i,imageSettings:o,size:l,boostLevel:c}=e,u=a.useMemo(()=>{const e=(Array.isArray(t)?t:[t]).reduce((e,t)=>(e.push(...mV.QrSegment.makeSegments(t)),e),[]);return mV.QrCode.encodeSegments(e,pV[n],r,void 0,void 0,c)},[t,n,r,c]);const{cells:h,margin:d,numCells:f,calculatedImageSettings:m}=a.useMemo(()=>{let e=u.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(s,i),n=e.length+2*t,r=function(e,t,n,r){if(null==r)return null;const s=e.length+2*n,i=Math.floor(.1*t),a=s/t,o=(r.width||i)*a,l=(r.height||i)*a,c=null==r.x?e.length/2-o/2:r.x*a,u=null==r.y?e.length/2-l/2:r.y*a,h=null==r.opacity?1:r.opacity;let d=null;if(r.excavate){let e=Math.floor(c),t=Math.floor(u);d={x:e,y:t,w:Math.ceil(o+c-e),h:Math.ceil(l+u-t)}}return{x:c,y:u,h:l,w:o,excavation:d,opacity:h,crossOrigin:r.crossOrigin}}(e,l,t,o);return{cells:e,margin:t,numCells:n,calculatedImageSettings:r}},[u,l,o,s,i]);return{qrcode:u,margin:d,cells:h,numCells:f,calculatedImageSettings:m}}var AV=function(){try{(new Path2D).addPath(new Path2D)}catch(GV){return!1}return!0}(),kV=a.forwardRef(function(e,t){const n=e,{value:r,size:s=gV,level:i=yV,bgColor:o=vV,fgColor:l=xV,includeMargin:c=wV,minVersion:u=bV,boostLevel:h,marginSize:d,imageSettings:f}=n,m=fV(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=m,g=fV(m,["style"]),y=null==f?void 0:f.src,v=a.useRef(null),x=a.useRef(null),w=a.useCallback(e=>{v.current=e,"function"===typeof t?t(e):t&&(t.current=e)},[t]),[b,E]=a.useState(!1),{margin:S,cells:N,numCells:A,calculatedImageSettings:k}=NV({value:r,level:i,minVersion:u,boostLevel:h,includeMargin:c,marginSize:d,imageSettings:f,size:s});a.useEffect(()=>{if(null!=v.current){const e=v.current,t=e.getContext("2d");if(!t)return;let n=N;const r=x.current,i=null!=k&&null!==r&&r.complete&&0!==r.naturalHeight&&0!==r.naturalWidth;i&&null!=k.excavation&&(n=SV(N,k.excavation));const a=window.devicePixelRatio||1;e.height=e.width=s*a;const c=s/A*a;t.scale(c,c),t.fillStyle=o,t.fillRect(0,0,A,A),t.fillStyle=l,AV?t.fill(new Path2D(EV(n,S))):N.forEach(function(e,n){e.forEach(function(e,r){e&&t.fillRect(r+S,n+S,1,1)})}),k&&(t.globalAlpha=k.opacity),i&&t.drawImage(r,k.x+S,k.y+S,k.w,k.h)}}),a.useEffect(()=>{E(!1)},[y]);const C=dV({height:s,width:s},p);let T=null;return null!=y&&(T=a.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{E(!0)},ref:x,crossOrigin:null==k?void 0:k.crossOrigin})),a.createElement(a.Fragment,null,a.createElement("canvas",dV({style:C,height:s,width:s,ref:w,role:"img"},g)),T)});kV.displayName="QRCodeCanvas";var CV=a.forwardRef(function(e,t){const n=e,{value:r,size:s=gV,level:i=yV,bgColor:o=vV,fgColor:l=xV,includeMargin:c=wV,minVersion:u=bV,boostLevel:h,title:d,marginSize:f,imageSettings:m}=n,p=fV(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:y,numCells:v,calculatedImageSettings:x}=NV({value:r,level:i,minVersion:u,boostLevel:h,includeMargin:c,marginSize:f,imageSettings:m,size:s});let w=y,b=null;null!=m&&null!=x&&(null!=x.excavation&&(w=SV(y,x.excavation)),b=a.createElement("image",{href:m.src,height:x.h,width:x.w,x:x.x+g,y:x.y+g,preserveAspectRatio:"none",opacity:x.opacity,crossOrigin:x.crossOrigin}));const E=EV(w,g);return a.createElement("svg",dV({height:s,width:s,viewBox:"0 0 ".concat(v," ").concat(v),ref:t,role:"img"},p),!!d&&a.createElement("title",null,d),a.createElement("path",{fill:o,d:"M0,0 h".concat(v,"v").concat(v,"H0z"),shapeRendering:"crispEdges"}),a.createElement("path",{fill:l,d:E,shapeRendering:"crispEdges"}),b)});CV.displayName="QRCodeSVG";const TV=e=>{var t,n,r,s,i,o;let{isOpen:l,onClose:c}=e;const[u,h]=(0,a.useState)("deposit"),[d,f]=(0,a.useState)(""),[m,p]=(0,a.useState)("USDC"),[g,y]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[w,b]=(0,a.useState)(""),[E,S]=(0,a.useState)(!1),[N,A]=(0,a.useState)(""),{createDeposit:k,createWithdrawal:C,user:T}=yB(),j=()=>P.find(e=>e.id===m),P=[{id:"BTC",name:"Bitcoin",symbol:"\u20bf",address:"bc1q009nsstau3mmzgzwz6vkjqw06tw3jukqfd0vhz",type:"Bitcoin"},{id:"ETH",name:"Ethereum",symbol:"\u039e",address:"0xAe7298dDa2AF52388aFde60160cD8ab0805Ed94D",type:"Ethereum"},{id:"USDC",name:"USD Coin",symbol:"$",address:"0xAe7298dDa2AF52388aFde60160cD8ab0805Ed94D",type:"ERC20"},{id:"USDT",name:"Tether",symbol:"$",address:"0xAe7298dDa2AF52388aFde60160cD8ab0805Ed94D",type:"ERC20"}];return l?(0,Re.jsx)(wR,{children:(0,Re.jsx)(fB.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:c,children:(0,Re.jsxs)(fB.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-3 sm:p-4 w-full max-w-sm sm:max-w-md mx-auto max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Re.jsx)("h2",{className:"text-base sm:text-lg font-bold text-gray-900",children:"Balance Management"}),(0,Re.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Re.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Re.jsxs)("div",{className:"flex mb-3 bg-gray-100 rounded-lg p-1",children:[(0,Re.jsx)("button",{onClick:()=>h("deposit"),className:"flex-1 py-1 sm:py-2 px-2 sm:px-3 rounded-md font-medium text-xs sm:text-sm transition-colors ".concat("deposit"===u?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Deposit"}),(0,Re.jsx)("button",{onClick:()=>h("withdrawal"),className:"flex-1 py-1 sm:py-2 px-2 sm:px-3 rounded-md font-medium text-xs sm:text-sm transition-colors ".concat("withdrawal"===u?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Withdraw"})]}),(0,Re.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3 mb-3",children:[(0,Re.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"Current Balance"}),(0,Re.jsxs)("div",{className:"text-base sm:text-lg font-bold text-gray-900",children:["$",(null===T||void 0===T||null===(t=T.balance)||void 0===t?void 0:t.toFixed(2))||"0.00"," USD"]})]}),(0,Re.jsxs)("div",{className:"space-y-3",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Amount (","deposit"===u?"to deposit":"to withdraw",")"]}),(0,Re.jsx)("input",{type:"number",value:d,onChange:e=>f(e.target.value),placeholder:"0.00",className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",min:"0",step:"0.01"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Currency"}),(0,Re.jsx)("div",{className:"grid grid-cols-2 gap-1",children:P.map(e=>(0,Re.jsxs)("button",{onClick:()=>p(e.id),className:"p-1 sm:p-2 rounded-lg border-2 transition-colors text-xs ".concat(m===e.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:[(0,Re.jsxs)("div",{className:"font-medium",children:[e.symbol," ",e.id]}),(0,Re.jsx)("div",{className:"text-xs text-gray-500",children:e.name})]},e.id))})]}),"deposit"===u&&(0,Re.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:[(0,Re.jsxs)("div",{className:"text-xs font-medium text-blue-900 mb-2",children:["Deposit to ",null===(n=j())||void 0===n?void 0:n.name," Address"]}),(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row items-start space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,Re.jsx)("div",{className:"bg-white p-1 rounded mx-auto sm:mx-0",children:(0,Re.jsx)(CV,{value:(null===(r=j())||void 0===r?void 0:r.address)||"",size:60,level:"M"})}),(0,Re.jsxs)("div",{className:"flex-1 w-full",children:[(0,Re.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:[null===(s=j())||void 0===s?void 0:s.type," Address:"]}),(0,Re.jsx)("div",{className:"bg-white border border-gray-200 rounded p-2 mb-2",children:(0,Re.jsx)("div",{className:"text-xs font-mono text-gray-800 break-all",children:null===(i=j())||void 0===i?void 0:i.address})}),(0,Re.jsx)("button",{onClick:()=>{var e;return(async(e,t)=>{try{await navigator.clipboard.writeText(e),A(t),setTimeout(()=>A(""),2e3)}catch(n){console.error("Failed to copy: ",n)}})((null===(e=j())||void 0===e?void 0:e.address)||"",m)},className:"w-full py-1 px-2 rounded font-medium text-xs transition-colors flex items-center justify-center space-x-1 ".concat(N===m?"bg-green-100 text-green-700 border border-green-300":"bg-blue-100 text-blue-700 hover:bg-blue-200"),children:N===m?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,Re.jsx)("span",{children:"Copied!"})]}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,Re.jsx)("span",{children:"Copy"})]})})]})]}),(0,Re.jsxs)("div",{className:"mt-2 text-xs text-blue-700",children:[(0,Re.jsxs)("p",{children:["\u2022 Send only ",null===(o=j())||void 0===o?void 0:o.id," to this address"]}),(0,Re.jsx)("p",{children:"\u2022 Minimum deposit: $1000 USD equivalent"}),(0,Re.jsx)("p",{children:"\u2022 Double-check the address before sending"})]})]}),"deposit"===u&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Transaction Hash *"}),(0,Re.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),placeholder:"Enter transaction hash",className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),"withdrawal"===u&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Withdrawal Address *"}),(0,Re.jsx)("input",{type:"text",value:v,onChange:e=>x(e.target.value),placeholder:"Enter wallet address",className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),w&&(0,Re.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2",children:(0,Re.jsx)("div",{className:"text-red-600 text-xs",children:w})}),(0,Re.jsx)("button",{onClick:()=>{"deposit"===u?(async()=>{if(d&&g){S(!0);try{await k(parseFloat(d),m,g),alert("Deposit request submitted successfully!"),c(),f(""),y(""),b("")}catch(w){b("Failed to submit deposit request")}finally{S(!1)}}else b("Please fill in all required fields")})():(async()=>{if(d&&v)if(parseFloat(d)>((null===T||void 0===T?void 0:T.balance)||0))b("Insufficient balance");else{S(!0);try{await C(parseFloat(d),m,v),alert("Withdrawal request submitted successfully!"),c(),f(""),x(""),b("")}catch(w){b("Failed to submit withdrawal request")}finally{S(!1)}}else b("Please fill in all required fields")})()},disabled:E,className:"w-full py-2 sm:py-3 px-3 sm:px-4 rounded-lg font-medium text-xs sm:text-sm transition-colors ".concat("deposit"===u?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"," ").concat(E?"opacity-50 cursor-not-allowed":""),children:E?"Processing...":"".concat("deposit"===u?"Submit Deposit":"Submit Withdrawal")})]}),(0,Re.jsx)("div",{className:"mt-3 text-xs text-gray-500",children:"deposit"===u?(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{children:"\u2022 Deposits are processed after blockchain confirmation"}),(0,Re.jsx)("p",{children:"\u2022 Minimum deposit: $1000 USD equivalent"}),(0,Re.jsx)("p",{children:"\u2022 Processing time: 10-30 minutes"})]}):(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{children:"\u2022 Processing time: 1-24 hours"}),(0,Re.jsx)("p",{children:"\u2022 Network fees may apply"})]})})]})})}):null},jV=e=>{let{isOpen:t,onClose:n}=e;const{sendMessage:r,chatMessages:s}=yB(),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),u=(0,a.useRef)(null);(0,a.useEffect)(()=>{(()=>{var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[s]);const h=e=>{if(!e)return"";return(e.toDate?e.toDate():new Date(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return(0,Re.jsx)(wR,{children:t&&(0,Re.jsx)(fB.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:n,children:(0,Re.jsxs)(fB.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-2xl mx-auto shadow-2xl h-[600px] flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Live Support"}),(0,Re.jsx)("p",{className:"text-sm text-gray-500",children:"We're here to help you"})]})]}),(0,Re.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,Re.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Re.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[0===s.length?(0,Re.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,Re.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,Re.jsx)("p",{children:"Start a conversation with our support team"})]}):s.map(e=>(0,Re.jsx)("div",{className:"flex ".concat(e.isAdmin?"justify-start":"justify-end"),children:(0,Re.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(e.isAdmin?"bg-gray-100 text-gray-900":"bg-blue-600 text-white"),children:[(0,Re.jsx)("p",{className:"text-sm",children:e.message}),(0,Re.jsxs)("div",{className:"text-xs mt-1 flex items-center justify-between ".concat(e.isAdmin?"text-gray-500":"text-blue-100"),children:[(0,Re.jsx)("span",{children:h(e.createdAt)}),e.isAutoReply&&(0,Re.jsx)("span",{className:"text-xs opacity-75",children:"\ud83e\udd16 Auto"})]})]})},e.id)),(0,Re.jsx)("div",{ref:u})]}),(0,Re.jsx)("div",{className:"border-t border-gray-200 p-6",children:(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()&&!l){c(!0);try{await r(i),o("")}catch(WV){console.error("Error sending message:",WV)}finally{c(!1)}}},className:"flex space-x-3",children:[(0,Re.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l}),(0,Re.jsx)("button",{type:"submit",disabled:!i.trim()||l,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:l?(0,Re.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Re.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Re.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Re.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})})})},PV=()=>{var e;const[t,n]=(0,a.useState)("All orders"),[r,s]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[d,f]=(0,a.useState)(!1),[m,p]=(0,a.useState)(0),[g,y]=(0,a.useState)(!1),[v,x]=(0,a.useState)(0),[w,b]=(0,a.useState)(!1),{t:E}=Ue(),S=se(),{isConnected:N,account:A,walletType:k,formatAddress:C}=rm(),{user:T,userTrades:j,updateUserBalance:P}=yB();(0,a.useEffect)(()=>{if(A){const e=A.slice(-6).toUpperCase();s(e)}else s("")},[A]),(0,a.useEffect)(()=>{const e=()=>{c(!0)};return window.addEventListener("openDepositModal",e),()=>window.removeEventListener("openDepositModal",e)},[]);const I=(0,a.useCallback)(()=>j&&0!==j.length?j.reduce((e,t)=>{if("completed"===t.status||"closed"===t.status)return e+(t.profit||0);if("Active"===t.status||"active"===t.status){var n,r;const s=t.amount||t.orderAmount||0,i=parseInt(null===(n=t.timeframe)||void 0===n?void 0:n.split(" ")[0])||1,a=null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():new Date(t.createdAt),o=(new Date-a)/36e5/24;let l=0;return 1===i?l=.05*Math.min(o,1):7===i?l=.35*Math.min(o/7,1):30===i?l=1.5*Math.min(o/30,1):90===i&&(l=4.5*Math.min(o/90,1)),e+s*l}return e},0):0,[j]);(0,a.useEffect)(()=>{const e=async()=>{y(!0);const e=I(),t=e-v;if(t>0&&T&&A)try{await P(A,t,"profit"),console.log("Auto-updated balance: +".concat(t.toFixed(2)," USD from profit")),b(!0),setTimeout(()=>b(!1),3e3)}catch(WV){console.error("Error updating balance from profit:",WV)}p(e),x(e),setTimeout(()=>y(!1),1e3)};e();const t=setInterval(e,5e3);return()=>clearInterval(t)},[j,T,A,v,I,P]);const _="All orders"===t?j||[]:"Smart"===t?(j||[]).filter(e=>"Smart Trading"===e.type):"Options"===t?(j||[]).filter(e=>"Options"===e.type):"Static Income"===t?(j||[]).filter(e=>"Static Income"===e.type):[],R=m,D=j?j.filter(e=>(e.profit||e.totalRevenue||0)>0).length:0,M=[{name:E("verification"),action:()=>o(!0)},{name:E("inviteFriends"),action:()=>window.location.href="/invite-friends"},{name:E("liveChat"),action:()=>f(!0)},{name:E("helpCenter"),action:()=>window.location.href="/help-center"},{name:E("notifications"),action:()=>window.location.href="/notifications"},{name:E("language"),action:()=>window.location.href="/language-settings"}],O={products:["Markets","Investment & Lending","Smart Trading"],company:["About Us","License Supervision","Help Center","Online Support"],policies:["Terms & Conditions","Privacy Policy"]};return(0,Re.jsxs)("div",{className:"min-h-screen bg-white pt-16 sm:pt-20",children:[(0,Re.jsxs)("div",{className:"container-max py-4 sm:py-6 lg:py-8",children:[(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-4 sm:mb-6 lg:mb-8",children:(0,Re.jsxs)("button",{className:"bg-gray-800 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-700 transition-colors duration-300",children:[(0,Re.jsx)("span",{className:"font-medium text-sm sm:text-base",children:r}),(0,Re.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-6 sm:mb-8 lg:mb-12",children:(0,Re.jsxs)("div",{className:"bg-gray-800 rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 relative overflow-hidden shadow-2xl",children:[(0,Re.jsx)("div",{className:"absolute right-0 top-0 w-16 sm:w-24 lg:w-32 h-full bg-gradient-to-l from-green-500/20 to-purple-500/20"}),(0,Re.jsxs)("div",{className:"relative z-10 mb-4 sm:mb-6 lg:mb-8",children:[(0,Re.jsxs)("div",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-2 flex flex-col sm:flex-row sm:items-center",children:[(0,Re.jsx)("span",{children:null!==T&&void 0!==T&&T.balance?"".concat(T.balance.toFixed(2)," USD"):"0.00 USD"}),w&&(0,Re.jsxs)("div",{className:"mt-2 sm:mt-0 sm:ml-3 flex items-center text-green-400 text-xs sm:text-sm",children:[(0,Re.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Updated from profit"]})]}),N&&(0,Re.jsxs)("div",{className:"text-xs sm:text-sm text-gray-300",children:["Connected: ",C(A)," (",k,")"]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 sm:gap-6 relative z-10",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("button",{onClick:()=>h(!0),className:"text-blue-400 text-xs sm:text-sm mb-2 hover:text-blue-300 transition-colors duration-300 cursor-pointer underline hover:no-underline flex items-center space-x-1",children:[(0,Re.jsxs)("span",{children:[E("balance"),":"]}),(0,Re.jsx)("svg",{className:"w-2 h-2 sm:w-3 sm:h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),(0,Re.jsx)("div",{className:"bg-gray-700 px-2 sm:px-3 py-2 rounded-lg text-white font-medium text-sm sm:text-base",children:T?"$".concat((null===(e=T.balance)||void 0===e?void 0:e.toFixed(2))||"0.00"):"0.00 USD"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("button",{onClick:()=>S("/loan"),className:"text-blue-400 text-xs sm:text-sm mb-2 hover:text-blue-300 transition-colors duration-300 cursor-pointer underline hover:no-underline flex items-center space-x-1",children:[(0,Re.jsx)("span",{children:"Loan:"}),(0,Re.jsx)("svg",{className:"w-2 h-2 sm:w-3 sm:h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),(0,Re.jsx)("div",{className:"bg-gray-700 px-2 sm:px-3 py-2 rounded-lg text-white font-medium text-sm sm:text-base",children:"0.00 USD"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-gray-300 text-xs sm:text-sm mb-2",children:"Margin Used:"}),(0,Re.jsx)("div",{className:"text-white font-medium text-sm sm:text-base",children:"0.00 USD"})]}),(0,Re.jsxs)("div",{className:"sm:col-span-2 lg:col-span-1",children:[(0,Re.jsxs)("div",{className:"text-gray-300 text-xs sm:text-sm mb-2 flex items-center",children:["Total Profit:",g&&(0,Re.jsx)("div",{className:"ml-2 w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),(0,Re.jsxs)("div",{className:"font-medium text-sm sm:text-base ".concat(R>=0?"text-green-400":"text-red-400"),children:[R>=0?"+":"",R.toFixed(2)," USD"]}),(0,Re.jsxs)("div",{className:"text-gray-400 text-xs mt-1",children:[D," profitable trades"]}),(0,Re.jsx)("div",{className:"text-gray-500 text-xs mt-1",children:w&&(0,Re.jsx)("span",{className:"text-green-400",children:"\u2022 Balance auto-updated"})})]})]})]})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-6 sm:mb-8 lg:mb-12",children:[(0,Re.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Order"}),(0,Re.jsx)("div",{className:"flex flex-wrap gap-1 sm:gap-2 mb-4 sm:mb-6",children:["All orders","Options","Smart","Static Income"].map(e=>(0,Re.jsx)("button",{onClick:()=>n(e),className:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 rounded-lg font-medium text-xs sm:text-sm lg:text-base transition-all duration-300 whitespace-nowrap ".concat(t===e?"bg-gray-300 text-gray-900":"bg-gray-800 text-white hover:bg-gray-700"),children:e},e))}),(0,Re.jsx)("div",{className:"space-y-3 sm:space-y-4",children:_.length>0?_.map((e,t)=>{var n,r,s,i,a,o,l,c;return(0,Re.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 sm:p-6",children:[(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-3 sm:mb-4 space-y-2 sm:space-y-0",children:[(0,Re.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:["#",e.id?e.id.slice(-8):"ORDER-".concat(t+1)]}),(0,Re.jsxs)("div",{className:"text-base sm:text-lg font-semibold text-gray-900",children:[(null===(n=e.amount)||void 0===n?void 0:n.toFixed(2))||"0.00"," USD"]})]}),(0,Re.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[(0,Re.jsx)("div",{className:"font-bold text-gray-900 text-sm sm:text-base",children:e.symbol||"N/A"}),(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2",children:[(0,Re.jsxs)("span",{className:"text-xs sm:text-sm text-gray-600",children:[e.direction||"Up"," ",e.timeframe||"1 Day"]}),(0,Re.jsxs)("span",{className:"text-green-600 font-semibold text-sm sm:text-base",children:[(null===(r=e.profit)||void 0===r?void 0:r.toFixed(2))||"0.00"," USD"]})]})]}),(0,Re.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600 space-y-1",children:[(0,Re.jsxs)("div",{children:["Open: ",(null===(s=e.openPrice)||void 0===s?void 0:s.toFixed(4))||"0.0000"]}),(0,Re.jsxs)("div",{children:["Close: ",(null===(i=e.closePrice)||void 0===i?void 0:i.toFixed(4))||"Pending"]}),(0,Re.jsxs)("div",{children:["Start time: ",e.startTime?new Date(e.startTime).toLocaleString():"N/A"]}),(0,Re.jsxs)("div",{children:["Expiration time: ",e.endTime?new Date(e.endTime).toLocaleString():"N/A"]}),(0,Re.jsxs)("div",{children:["Run time: ",e.runTime||"Calculating..."]})]}),"Smart Trading"===e.type&&(0,Re.jsxs)("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-100",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-gray-600",children:"Transaction:"}),(0,Re.jsx)("div",{className:"font-medium",children:e.symbol||"N/A"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-gray-600",children:"Cycle:"}),(0,Re.jsx)("div",{className:"font-medium",children:e.timeframe||"1 Day"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-gray-600",children:"Daily Ror:"}),(0,Re.jsx)("div",{className:"font-medium",children:e.dailyRor||"2.5%-3.0%"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-gray-600",children:"Amount:"}),(0,Re.jsxs)("div",{className:"font-medium",children:[(null===(a=e.amount)||void 0===a?void 0:a.toFixed(2))||"0.00"," USD"]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-gray-600",children:"Today's Earnings:"}),(0,Re.jsxs)("div",{className:"font-medium text-green-600",children:[(null===(o=e.todayEarnings)||void 0===o?void 0:o.toFixed(2))||"0.00"," USDC"]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-gray-600",children:"Total Revenue:"}),(0,Re.jsxs)("div",{className:"font-medium text-green-600",children:[(null===(l=e.totalRevenue)||void 0===l?void 0:l.toFixed(2))||(null===(c=e.profit)||void 0===c?void 0:c.toFixed(2))||"0.00"," USDC"]})]})]}),(0,Re.jsx)("div",{className:"mt-3 sm:mt-4 text-xs sm:text-sm",children:(0,Re.jsxs)("div",{className:"text-gray-600",children:["Status: ",(0,Re.jsx)("span",{className:"font-medium",children:e.status||"Active"})]})}),(0,Re.jsx)("div",{className:"mt-3 sm:mt-4 text-center",children:(0,Re.jsx)("button",{className:"bg-gray-800 text-white px-4 sm:px-6 py-2 rounded-lg font-medium text-xs sm:text-sm hover:bg-gray-700 transition-colors",children:"Recreate Plan"})})]}),(0,Re.jsx)("div",{className:"flex justify-end",children:(0,Re.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]},e.id||t)}):(0,Re.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-xl sm:rounded-2xl p-6 sm:p-8 text-center",children:(0,Re.jsx)("div",{className:"text-gray-500 text-base sm:text-lg",children:"No orders found"})})})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-6 sm:mb-8 lg:mb-12",children:[(0,Re.jsx)("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Settings"}),(0,Re.jsx)("div",{className:"space-y-2 sm:space-y-3 account-settings-list",children:M.map((e,t)=>(0,Re.jsxs)(fB.button,{onClick:e.action,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.4+.1*t},className:"w-full bg-gray-800 text-white px-4 sm:px-6 py-3 sm:py-4 rounded-lg flex items-center justify-between hover:bg-gray-700 transition-colors duration-300 account-settings-item",children:[(0,Re.jsx)("span",{className:"font-medium text-sm sm:text-base",children:e.name}),(0,Re.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},t))})]})]}),(0,Re.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsx)("div",{className:"py-16",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"md:col-span-1",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-xl font-bold text-white",children:"Tokenize"})]})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Products"}),(0,Re.jsx)("ul",{className:"space-y-2",children:O.products.map((e,t)=>(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:e})},t))})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Company"}),(0,Re.jsx)("ul",{className:"space-y-2",children:O.company.map((e,t)=>(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:e})},t))})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Policies"}),(0,Re.jsx)("ul",{className:"space-y-2",children:O.policies.map((e,t)=>(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:e})},t))})]})]})}),(0,Re.jsx)("div",{className:"py-8 border-t border-gray-700",children:(0,Re.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,Re.jsx)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:["Legal Information","Disclaimer","Risk Warning","Cookie Policy","About Advertising"].map((e,t)=>(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:e},t))}),(0,Re.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Re.jsxs)("div",{className:"flex space-x-4",children:[(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]}),(0,Re.jsx)("div",{className:"text-gray-400 text-sm",children:"\u2022 2023 UBS. All rights reserved."})]})]})})]})}),(0,Re.jsx)(sV,{isOpen:i,onClose:()=>o(!1)}),(0,Re.jsx)(iV,{isOpen:l,onClose:()=>c(!1)}),(0,Re.jsx)(TV,{isOpen:u,onClose:()=>h(!1)}),(0,Re.jsx)(jV,{isOpen:d,onClose:()=>f(!1)})]})},IV=e=>{let{data:t,isPositive:n=!1,width:r=80,height:s=30}=e;const i=t||[3,5,2,4,6,3,2,4,5,2,1,3,2,1,2,1],a=Math.max(...i),o=Math.min(...i),l=a-o,c=i.map((e,t)=>{const n=t/(i.length-1)*r,a=s-(e-o)/l*s;return"".concat(n,",").concat(a)}).join(" L"),u="M ".concat(c),h=n?"#14B8A6":"#EF4444";return(0,Re.jsx)("div",{className:"flex items-center justify-center",children:(0,Re.jsx)("svg",{width:r,height:s,viewBox:"0 0 ".concat(r," ").concat(s),className:"overflow-visible",children:(0,Re.jsx)("path",{d:u,fill:"none",stroke:h,strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})},_V=()=>{const[e,t]=(0,a.useState)("Forex"),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),{t:h}=Ue(),d=[{key:"Forex",label:h("forex")},{key:"Crypto",label:h("crypto")},{key:"Stocks",label:h("stocks")},{key:"ETF",label:h("etf")},{key:"Futures",label:h("futures")}];(0,a.useEffect)(()=>{const t=async()=>{try{if(i(!0),l(null),"Forex"===e){var t,n,s,a,h,d;let e;try{e=await QB()}catch(o){console.warn("Failed to fetch real-time Forex data, using fallback:",o),e={rates:{CHF:.8963,JPY:152,EUR:.92,GBP:.79,CAD:1.36,AUD:1.52,HKD:7.8,SGD:1.35,CNY:7.2},last_updated:(new Date).toISOString()}}const i=[{pair:"USD/CHF",country:"Switzerland",flags:["US","CH"],rate:(null===(t=e.rates)||void 0===t?void 0:t.CHF)||.8963,flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/ch.png"]},{pair:"USD/JPY",country:"Japan",flags:["US","JP"],rate:(null===(n=e.rates)||void 0===n?void 0:n.JPY)||152,flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/jp.png"]},{pair:"USD/EUR",country:"Eurozone",flags:["US","EU"],rate:(null===(s=e.rates)||void 0===s?void 0:s.EUR)||.92,flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/eu.png"]},{pair:"USD/GBP",country:"United Kingdom",flags:["US","GB"],rate:(null===(a=e.rates)||void 0===a?void 0:a.GBP)||.79,flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/gb.png"]},{pair:"USD/CAD",country:"Canada",flags:["US","CA"],rate:(null===(h=e.rates)||void 0===h?void 0:h.CAD)||1.36,flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/ca.png"]},{pair:"USD/AUD",country:"Australia",flags:["US","AU"],rate:(null===(d=e.rates)||void 0===d?void 0:d.AUD)||1.52,flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/au.png"]}],l=i.map((t,n)=>{const r=Math.random()>.5,s=KB(t.rate,r),i=.002*(Math.random()-.5)*100;return{id:n+1,pair:t.pair,country:t.country,value:YB(t.rate,t.pair.includes("JPY")?2:4),change:XB(i),isPositive:i>=0,flags:t.flags,flagUrls:t.flagUrls,chart:s,realTimePrice:t.rate,lastUpdated:e.last_updated||(new Date).toISOString()}});r(l),c&&c.close();const f=((e,t)=>{let n,r={};const s=async()=>{try{const n=await QB(),s={};e.forEach(e=>{const[t,i]=e.split("/");let a;a="USD"===t?n.rates[i]||1:"USD"===i?1/(n.rates[t]||1):(n.rates[t]||1)/(n.rates[i]||1);const o=a*(1+1e-4*(Math.random()-.5)),l=r[e]||o,c=(o-l)/l*100;s[e]={symbol:e,price:parseFloat(o.toFixed(5)),change:parseFloat(c.toFixed(4)),timestamp:Date.now(),isPositive:c>=0},r[e]=o}),t(s)}catch(o){console.error("Error in real-time Forex updates:",o)}};return n=setInterval(s,3e3),s(),{close:()=>{n&&clearInterval(n)}}})(i.map(e=>e.pair),e=>{r(t=>t&&0!==t.length?t.map(t=>{const n=e[t.pair];return n?ot(ot({},t),{},{value:YB(n.price,t.pair.includes("JPY")?2:4),change:XB(n.change),isPositive:n.isPositive,chart:KB(n.price,n.isPositive),realTimePrice:n.price,lastUpdated:(new Date).toISOString()}):t}):t)});u(f)}else if("Crypto"===e){var f,m,p,g,y,v,x,w,b,E,S,N,A,k,C,T,j,P,I,_,R,D,M,O,L,U,F,B,V,z,H,G,W,q,Q,K,J,Y,X,Z,$,ee,te,ne,re,se,ie,ae,oe,le,ce,ue,he,de,fe,me,pe,ge,ye,ve;let e;try{e=await qB(["bitcoin","ethereum","litecoin","polkadot","filecoin","dogecoin","ripple","tron","polygon","cardano","chainlink","cosmos"])}catch(o){console.warn("Failed to fetch real-time crypto data, using fallback:",o),e={bitcoin:{usd:111954.74,usd_24h_change:1.76},ethereum:{usd:4121.62,usd_24h_change:2.5},litecoin:{usd:107.11,usd_24h_change:2.44},polkadot:{usd:3.98,usd_24h_change:3},filecoin:{usd:2.2,usd_24h_change:1.68},dogecoin:{usd:.24,usd_24h_change:4.5},ripple:{usd:.52,usd_24h_change:-1.2},tron:{usd:.08,usd_24h_change:2.3},polygon:{usd:.89,usd_24h_change:1.8},cardano:{usd:.45,usd_24h_change:.9},chainlink:{usd:14.67,usd_24h_change:3.2},cosmos:{usd:8.23,usd_24h_change:-.5}}}const t=[{id:1,pair:"BTC/USD",country:"Bitcoin",value:YB((null===(f=e.bitcoin)||void 0===f?void 0:f.usd)||111954.74,2),change:XB((null===(m=e.bitcoin)||void 0===m?void 0:m.usd_24h_change)||1.76),isPositive:((null===(p=e.bitcoin)||void 0===p?void 0:p.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",chart:KB((null===(g=e.bitcoin)||void 0===g?void 0:g.usd)||111954.74,((null===(y=e.bitcoin)||void 0===y?void 0:y.usd_24h_change)||0)>=0)},{id:2,pair:"ETH/USD",country:"Ethereum",value:YB((null===(v=e.ethereum)||void 0===v?void 0:v.usd)||4121.62,2),change:XB((null===(x=e.ethereum)||void 0===x?void 0:x.usd_24h_change)||2.5),isPositive:((null===(w=e.ethereum)||void 0===w?void 0:w.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",chart:KB((null===(b=e.ethereum)||void 0===b?void 0:b.usd)||4121.62,((null===(E=e.ethereum)||void 0===E?void 0:E.usd_24h_change)||0)>=0)},{id:3,pair:"LTC/USD",country:"Litecoin",value:YB((null===(S=e.litecoin)||void 0===S?void 0:S.usd)||107.11,2),change:XB((null===(N=e.litecoin)||void 0===N?void 0:N.usd_24h_change)||2.44),isPositive:((null===(A=e.litecoin)||void 0===A?void 0:A.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/2/large/litecoin.png",chart:KB((null===(k=e.litecoin)||void 0===k?void 0:k.usd)||107.11,((null===(C=e.litecoin)||void 0===C?void 0:C.usd_24h_change)||0)>=0)},{id:4,pair:"DOT/USD",country:"Polkadot",value:YB((null===(T=e.polkadot)||void 0===T?void 0:T.usd)||3.98,4),change:XB((null===(j=e.polkadot)||void 0===j?void 0:j.usd_24h_change)||3),isPositive:((null===(P=e.polkadot)||void 0===P?void 0:P.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png",chart:KB((null===(I=e.polkadot)||void 0===I?void 0:I.usd)||3.98,((null===(_=e.polkadot)||void 0===_?void 0:_.usd_24h_change)||0)>=0)},{id:5,pair:"FIL/USD",country:"Filecoin",value:YB((null===(R=e.filecoin)||void 0===R?void 0:R.usd)||2.2,4),change:XB((null===(D=e.filecoin)||void 0===D?void 0:D.usd_24h_change)||1.68),isPositive:((null===(M=e.filecoin)||void 0===M?void 0:M.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/12817/large/filecoin.png",chart:KB((null===(O=e.filecoin)||void 0===O?void 0:O.usd)||2.2,((null===(L=e.filecoin)||void 0===L?void 0:L.usd_24h_change)||0)>=0)},{id:6,pair:"DOGE/USD",country:"Dogecoin",value:YB((null===(U=e.dogecoin)||void 0===U?void 0:U.usd)||.24,4),change:XB((null===(F=e.dogecoin)||void 0===F?void 0:F.usd_24h_change)||2.73),isPositive:((null===(B=e.dogecoin)||void 0===B?void 0:B.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png",chart:KB((null===(V=e.dogecoin)||void 0===V?void 0:V.usd)||.24,((null===(z=e.dogecoin)||void 0===z?void 0:z.usd_24h_change)||0)>=0)},{id:7,pair:"XRP/USD",country:"XRP",value:YB((null===(H=e.ripple)||void 0===H?void 0:H.usd)||2.87,4),change:XB((null===(G=e.ripple)||void 0===G?void 0:G.usd_24h_change)||2.13),isPositive:((null===(W=e.ripple)||void 0===W?void 0:W.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",chart:KB((null===(q=e.ripple)||void 0===q?void 0:q.usd)||2.87,((null===(Q=e.ripple)||void 0===Q?void 0:Q.usd_24h_change)||0)>=0)},{id:8,pair:"TRX/USD",country:"TRON",value:YB((null===(K=e.tron)||void 0===K?void 0:K.usd)||.34,4),change:XB((null===(J=e.tron)||void 0===J?void 0:J.usd_24h_change)||.02),isPositive:((null===(Y=e.tron)||void 0===Y?void 0:Y.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png",chart:KB((null===(X=e.tron)||void 0===X?void 0:X.usd)||.34,((null===(Z=e.tron)||void 0===Z?void 0:Z.usd_24h_change)||0)>=0)},{id:9,pair:"MATIC/USD",country:"Polygon",value:YB((null===($=e.polygon)||void 0===$?void 0:$.usd)||.08,4),change:XB((null===(ee=e.polygon)||void 0===ee?void 0:ee.usd_24h_change)||-83.27),isPositive:((null===(te=e.polygon)||void 0===te?void 0:te.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png",chart:KB((null===(ne=e.polygon)||void 0===ne?void 0:ne.usd)||.89,((null===(re=e.polygon)||void 0===re?void 0:re.usd_24h_change)||0)>=0)},{id:10,pair:"ADA/USD",country:"Cardano",value:YB((null===(se=e.cardano)||void 0===se?void 0:se.usd)||.8,4),change:XB((null===(ie=e.cardano)||void 0===ie?void 0:ie.usd_24h_change)||2.59),isPositive:((null===(ae=e.cardano)||void 0===ae?void 0:ae.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/975/large/cardano.png",chart:KB((null===(oe=e.cardano)||void 0===oe?void 0:oe.usd)||.8,((null===(le=e.cardano)||void 0===le?void 0:le.usd_24h_change)||0)>=0)},{id:11,pair:"LINK/USD",country:"Chainlink",value:YB((null===(ce=e.chainlink)||void 0===ce?void 0:ce.usd)||21.49,4),change:XB((null===(ue=e.chainlink)||void 0===ue?void 0:ue.usd_24h_change)||2.42),isPositive:((null===(he=e.chainlink)||void 0===he?void 0:he.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png",chart:KB((null===(de=e.chainlink)||void 0===de?void 0:de.usd)||21.49,((null===(fe=e.chainlink)||void 0===fe?void 0:fe.usd_24h_change)||0)>=0)},{id:12,pair:"ATOM/USD",country:"Cosmos",value:YB((null===(me=e.cosmos)||void 0===me?void 0:me.usd)||4.16,4),change:XB((null===(pe=e.cosmos)||void 0===pe?void 0:pe.usd_24h_change)||1.54),isPositive:((null===(ge=e.cosmos)||void 0===ge?void 0:ge.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png",chart:KB((null===(ye=e.cosmos)||void 0===ye?void 0:ye.usd)||4.16,((null===(ve=e.cosmos)||void 0===ve?void 0:ve.usd_24h_change)||0)>=0)}];r(t)}else if("Stocks"===e){var xe,we,be,Ee,Se,Ne,Ae,ke,Ce,Te,je,Pe,Ie,_e,Re,De,Me,Oe,Le,Ue,Fe,Be,Ve,ze,He;let e;try{e=await JB(["AAPL","TSLA","AMZN","GOOGL","MSFT","UNH","AI","BRZE","FLNC","SNOW","BB","EVGO","MQ"])}catch(o){console.warn("Failed to fetch real-time stock data, using fallback:",o),e={AAPL:{price:255.46,change:.54,changePercent:.21},TSLA:{price:440.4,change:2.83,changePercent:.65},AMZN:{price:219.78,change:.32,changePercent:.15},GOOGL:{price:246.54,change:.21,changePercent:.09},MSFT:{price:511.46,change:.27,changePercent:.05},UNH:{price:344.08,change:-1.11,changePercent:-.32},AI:{price:17.14,change:-.93,changePercent:-5.15},BRZE:{price:31.58,change:.22,changePercent:.7},FLNC:{price:11.91,change:3.66,changePercent:30.75},SNOW:{price:224.64,change:1.05,changePercent:.47},BB:{price:4.96,change:6.17,changePercent:124.4},EVGO:{price:4.57,change:-1.32,changePercent:-22.4},MQ:{price:5.36,change:.38,changePercent:7.63}}}const t=[{id:1,pair:"AAPL",country:"Apple Tokenize",value:YB((null===(xe=e.AAPL)||void 0===xe?void 0:xe.price)||255.46,4),change:XB((null===(we=e.AAPL)||void 0===we?void 0:we.changePercent)||.21),isPositive:((null===(be=e.AAPL)||void 0===be?void 0:be.changePercent)||0)>=0,flags:["US","US"],logo:"https://logo.clearbit.com/apple.com",chart:KB((null===(Ee=e.AAPL)||void 0===Ee?void 0:Ee.price)||255.46,((null===(Se=e.AAPL)||void 0===Se?void 0:Se.changePercent)||0)>=0)},{id:2,pair:"TSLA",country:"Tesla Tokenize",value:YB((null===(Ne=e.TSLA)||void 0===Ne?void 0:Ne.price)||440.4,4),change:XB((null===(Ae=e.TSLA)||void 0===Ae?void 0:Ae.changePercent)||.65),isPositive:((null===(ke=e.TSLA)||void 0===ke?void 0:ke.changePercent)||0)>=0,flags:["US","US"],logo:"https://logo.clearbit.com/tesla.com",chart:KB((null===(Ce=e.TSLA)||void 0===Ce?void 0:Ce.price)||440.4,((null===(Te=e.TSLA)||void 0===Te?void 0:Te.changePercent)||0)>=0)},{id:3,pair:"AMZN",country:"Amazon.com",value:YB((null===(je=e.AMZN)||void 0===je?void 0:je.price)||219.78,4),change:XB((null===(Pe=e.AMZN)||void 0===Pe?void 0:Pe.changePercent)||.15),isPositive:((null===(Ie=e.AMZN)||void 0===Ie?void 0:Ie.changePercent)||0)>=0,flags:["US","US"],logo:"https://logo.clearbit.com/amazon.com",chart:KB((null===(_e=e.AMZN)||void 0===_e?void 0:_e.price)||219.78,((null===(Re=e.AMZN)||void 0===Re?void 0:Re.changePercent)||0)>=0)},{id:4,pair:"GOOGL",country:"Alphabet",value:YB(246.5391,4),change:XB(.21),isPositive:!0,flags:["US","US"],logo:"https://logos-world.net/wp-content/uploads/2020/09/Google-Logo.png",chart:KB(246.5391,!0)},{id:5,pair:"MSFT",country:"Microsoft",value:YB(511.4605,4),change:XB(.27),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/microsoft.com",chart:KB(511.4605,!0)},{id:6,pair:"UNH",country:"Unitedhealth Group Inc",value:YB(344.0802,4),change:XB(-1.11),isPositive:!1,flags:["US","US"],logo:"https://logo.clearbit.com/unitedhealthgroup.com",chart:KB(!1)},{id:7,pair:"AI",country:"C3.ai, Inc",value:YB(17.1391,4),change:XB(-.93),isPositive:!1,flags:["US","US"],logo:"https://logo.clearbit.com/c3.ai",chart:KB(!1)},{id:8,pair:"BRZE",country:"Braze, Inc.",value:YB(31.5802,4),change:XB(.22),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/braze.com",chart:KB((null===(De=e.BRZE)||void 0===De?void 0:De.price)||31.58,((null===(Me=e.BRZE)||void 0===Me?void 0:Me.changePercent)||0)>=0)},{id:9,pair:"FLNC",country:"Fluence Energy, Inc.",value:YB(11.9107,4),change:XB(3.66),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/fluenceenergy.com",chart:KB((null===(Oe=e.FLNC)||void 0===Oe?void 0:Oe.price)||11.91,((null===(Le=e.FLNC)||void 0===Le?void 0:Le.changePercent)||0)>=0)},{id:10,pair:"SNOW",country:"Snowflake Inc.",value:YB(224.6404,4),change:XB(1.05),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/snowflake.com",chart:KB((null===(Ue=e.SNOW)||void 0===Ue?void 0:Ue.price)||224.64,((null===(Fe=e.SNOW)||void 0===Fe?void 0:Fe.changePercent)||0)>=0)},{id:11,pair:"BB",country:"BlackBerry Limited",value:YB(4.958,4),change:XB(6.17),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/blackberry.com",chart:KB((null===(Be=e.BB)||void 0===Be?void 0:Be.price)||4.96,((null===(Ve=e.BB)||void 0===Ve?void 0:Ve.changePercent)||0)>=0)},{id:12,pair:"EVGO",country:"EVgo, Inc.",value:YB(4.5691,4),change:XB(-1.32),isPositive:!1,flags:["US","US"],logo:"https://logo.clearbit.com/evgo.com",chart:KB((null===(ze=e.EVGO)||void 0===ze?void 0:ze.price)||4.57,((null===(He=e.EVGO)||void 0===He?void 0:He.changePercent)||0)>=0)},{id:13,pair:"MQ",country:"Marqeta, Inc.",value:YB(5.3602,4),change:XB(.38),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/marqeta.com",chart:KB(5.3602,!0)}];r(t)}else if("ETF"===e){var Ge,We,qe,Qe,Ke,Je,Ye;let e;try{e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["SPY","QQQ","GLD","VTI","IWM"];const t="etf_realtime_".concat(e.join("_")),n=zB.get(t);if(n&&Date.now()-n.timestamp<2e4)return n.data;try{const n={SPY:{price:456.78,change:.85,changePercent:.19},QQQ:{price:389.45,change:1.23,changePercent:.32},GLD:{price:189.67,change:1.45,changePercent:.77},VTI:{price:234.56,change:.67,changePercent:.29},IWM:{price:198.34,change:-.23,changePercent:-.12},EFA:{price:78.91,change:.34,changePercent:.43},VEA:{price:45.23,change:.12,changePercent:.27},EEM:{price:42.15,change:-.56,changePercent:-1.31},XLF:{price:35.67,change:.78,changePercent:2.24},XLK:{price:178.45,change:1.23,changePercent:.69},XLE:{price:89.12,change:-.45,changePercent:-.5},XLV:{price:134.78,change:.67,changePercent:.5}},r={};e.forEach(e=>{const t=n[e]||{price:200*Math.random()+50,change:5*(Math.random()-.5),changePercent:2*(Math.random()-.5)};r[e]={price:t.price,change:t.change,changePercent:t.changePercent,timestamp:Date.now()}});const s=ot(ot({},r),{},{timestamp:Date.now(),last_updated:(new Date).toISOString()});return WB(t,s),s}catch(o){if(console.error("Error fetching real-time ETF prices:",o),n)return n.data;throw o}}(["SPY","QQQ","GLD","VTI","IWM","EFA","VEA","EEM","XLF","XLK","XLE","XLV"])}catch(o){console.warn("Failed to fetch real-time ETF data, using fallback:",o),e={SPY:{price:456.78,change:.85,changePercent:.19},QQQ:{price:389.45,change:1.23,changePercent:.32},GLD:{price:189.67,change:1.45,changePercent:.77},VTI:{price:234.56,change:.67,changePercent:.29},IWM:{price:198.34,change:-.23,changePercent:-.12},EFA:{price:78.91,change:.34,changePercent:.43},VEA:{price:45.23,change:.12,changePercent:.27},EEM:{price:42.15,change:-.56,changePercent:-1.31},XLF:{price:35.67,change:.78,changePercent:2.24},XLK:{price:178.45,change:1.23,changePercent:.69},XLE:{price:89.12,change:-.45,changePercent:-.5},XLV:{price:134.78,change:.67,changePercent:.5}}}const t=[{id:1,pair:"SPY",country:"SPDR S&P 500 ETF",value:YB((null===(Ge=e.SPY)||void 0===Ge?void 0:Ge.price)||456.78,2),change:XB((null===(We=e.SPY)||void 0===We?void 0:We.changePercent)||.19),isPositive:((null===(qe=e.SPY)||void 0===qe?void 0:qe.changePercent)||0)>=0,flags:["US","US"],chart:KB((null===(Qe=e.SPY)||void 0===Qe?void 0:Qe.price)||456.78,((null===(Ke=e.SPY)||void 0===Ke?void 0:Ke.changePercent)||0)>=0)},{id:2,pair:"QQQ",country:"Invesco QQQ Trust",value:YB(389.45,2),change:XB(1.23),isPositive:!0,flags:["US","US"],chart:KB((null===(Je=e.QQQ)||void 0===Je?void 0:Je.price)||389.45,((null===(Ye=e.QQQ)||void 0===Ye?void 0:Ye.changePercent)||0)>=0)},{id:3,pair:"IWM",country:"iShares Russell 2000 ETF",value:YB(198.32,2),change:XB(-.45),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:4,pair:"VTI",country:"Vanguard Total Stock Market ETF",value:YB(234.67,2),change:XB(.67),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:5,pair:"EFA",country:"iShares MSCI EAFE ETF",value:YB(78.91,2),change:XB(.34),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:6,pair:"VEA",country:"Vanguard FTSE Developed Markets ETF",value:YB(45.23,2),change:XB(-.12),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:7,pair:"BND",country:"Vanguard Total Bond Market ETF",value:YB(78.45,2),change:XB(.18),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:8,pair:"GLD",country:"SPDR Gold Shares",value:YB(189.67,2),change:XB(1.45),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:9,pair:"SLV",country:"iShares Silver Trust",value:YB(22.34,2),change:XB(2.12),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:10,pair:"XLF",country:"Financial Select Sector SPDR Fund",value:YB(38.92,2),change:XB(-.78),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:11,pair:"XLK",country:"Technology Select Sector SPDR Fund",value:YB(167.89,2),change:XB(1.56),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:12,pair:"XLE",country:"Energy Select Sector SPDR Fund",value:YB(89.45,2),change:XB(-1.23),isPositive:!1,flags:["US","US"],chart:KB(!1)}];r(t)}else if("Futures"===e){var Xe,Ze,$e,et,tt;let e;try{e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["ES","GC","CL","NQ","YM"];const t="futures_realtime_".concat(e.join("_")),n=zB.get(t);if(n&&Date.now()-n.timestamp<1e4)return n.data;try{const n={ES:{price:4567.25,change:.92,changePercent:.02},GC:{price:2034.8,change:1.23,changePercent:.06},CL:{price:78.45,change:-1.67,changePercent:-2.08},NQ:{price:15678.9,change:.45,changePercent:0},YM:{price:34567.89,change:-.12,changePercent:0}},r={};e.forEach(e=>{const t=n[e]||{price:1e4*Math.random()+1e3,change:20*(Math.random()-.5),changePercent:1*(Math.random()-.5)};r[e]={price:t.price,change:t.change,changePercent:t.changePercent,timestamp:Date.now()}});const s=ot(ot({},r),{},{timestamp:Date.now(),last_updated:(new Date).toISOString()});return WB(t,s),s}catch(o){if(console.error("Error fetching real-time Futures prices:",o),n)return n.data;throw o}}(["ES","GC","CL","NQ","YM"])}catch(o){console.warn("Failed to fetch real-time Futures data, using fallback:",o),e={ES:{price:4567.25,change:.92,changePercent:.02},GC:{price:2034.8,change:1.23,changePercent:.06},CL:{price:78.45,change:-1.67,changePercent:-2.08},NQ:{price:15678.9,change:.45,changePercent:0},YM:{price:34567.89,change:-.12,changePercent:0}}}const t=[{id:1,pair:"ES",country:"E-mini S&P 500",value:YB((null===(Xe=e.ES)||void 0===Xe?void 0:Xe.price)||4567.25,2),change:XB((null===(Ze=e.ES)||void 0===Ze?void 0:Ze.changePercent)||.02),isPositive:((null===($e=e.ES)||void 0===$e?void 0:$e.changePercent)||0)>=0,flags:["US","US"],chart:KB((null===(et=e.ES)||void 0===et?void 0:et.price)||4567.25,((null===(tt=e.ES)||void 0===tt?void 0:tt.changePercent)||0)>=0)},{id:2,pair:"NQ",country:"E-mini NASDAQ-100",value:YB(15890.5,2),change:XB(1.34),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:3,pair:"YM",country:"E-mini Dow Jones",value:YB(34567,2),change:XB(.67),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:4,pair:"RTY",country:"E-mini Russell 2000",value:YB(1987.3,2),change:XB(-.45),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:5,pair:"GC",country:"Gold Futures",value:YB(2034.8,2),change:XB(1.23),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:6,pair:"SI",country:"Silver Futures",value:YB(24.567,3),change:XB(2.45),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:7,pair:"CL",country:"Crude Oil Futures",value:YB(78.45,2),change:XB(-1.67),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:8,pair:"NG",country:"Natural Gas Futures",value:YB(3.234,3),change:XB(.89),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:9,pair:"ZB",country:"30-Year Treasury Bond",value:YB(118.25,2),change:XB(-.34),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:10,pair:"ZN",country:"10-Year Treasury Note",value:YB(109.875,3),change:XB(-.12),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:11,pair:"ZC",country:"Corn Futures",value:YB(4.567,3),change:XB(1.45),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:12,pair:"ZS",country:"Soybean Futures",value:YB(12.89,2),change:XB(.78),isPositive:!0,flags:["US","US"],chart:KB(!0)}];r(t)}else r([])}catch(nt){console.error("Error fetching market data:",nt),l("Failed to fetch market data. Using cached data."),r([])}finally{i(!1)}};t();const n=setInterval(t,3e4);return()=>{clearInterval(n),c&&c.close()}},[e]);const f="Crypto"===e?[{id:1,pair:"BTC/USD",country:"Bitcoin",value:"$111690.1389",change:"1.52%",isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png"},{id:2,pair:"ETH/USD",country:"Ethereum",value:"$4105.6800",change:"2.11%",isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/279/large/ethereum.png"},{id:3,pair:"FIL/USD",country:"Filecoin",value:"$2.1979",change:"1.41%",isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/12817/large/filecoin.png"},{id:4,pair:"DOGE/USD",country:"Dogecoin",value:"$0.2366",change:"2.94%",isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png"},{id:5,pair:"XRP/USD",country:"XRP",value:"$2.8707",change:"2.14%",isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png"}]:"Stocks"===e?[{id:1,pair:"AAPL",country:"Apple Tokenize",value:"$255.4603",change:"0.54%",isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/apple.com"},{id:2,pair:"AMZN",country:"Amazon.com",value:"$219.7825",change:"0.32%",isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/amazon.com"},{id:3,pair:"GOOGL",country:"Alphabet",value:"$246.5391",change:"0.21%",isPositive:!0,flags:["US","US"],logo:"https://logos-world.net/wp-content/uploads/2020/09/Google-Logo.png"},{id:4,pair:"MSFT",country:"Microsoft",value:"$511.4601",change:"0.27%",isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/microsoft.com"},{id:5,pair:"TSLA",country:"Tesla Tokenize",value:"$440.3997",change:"2.83%",isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/tesla.com"}]:"ETF"===e?[{id:1,pair:"SPY",country:"SPDR S&P 500 ETF",value:"$456.78",change:"0.85%",isPositive:!0,flags:["US","US"]},{id:2,pair:"QQQ",country:"Invesco QQQ Trust",value:"$389.45",change:"1.23%",isPositive:!0,flags:["US","US"]},{id:3,pair:"GLD",country:"SPDR Gold Shares",value:"$189.67",change:"1.45%",isPositive:!0,flags:["US","US"]},{id:4,pair:"XLK",country:"Technology Select Sector SPDR Fund",value:"$167.89",change:"1.56%",isPositive:!0,flags:["US","US"]},{id:5,pair:"VTI",country:"Vanguard Total Stock Market ETF",value:"$234.67",change:"0.67%",isPositive:!0,flags:["US","US"]}]:"Futures"===e?[{id:1,pair:"ES",country:"E-mini S&P 500",value:"$4567.25",change:"0.92%",isPositive:!0,flags:["US","US"]},{id:2,pair:"GC",country:"Gold Futures",value:"$2034.80",change:"1.23%",isPositive:!0,flags:["US","US"]},{id:3,pair:"NQ",country:"E-mini NASDAQ-100",value:"$15890.50",change:"1.34%",isPositive:!0,flags:["US","US"]},{id:4,pair:"CL",country:"Crude Oil Futures",value:"$78.45",change:"-1.67%",isPositive:!1,flags:["US","US"]},{id:5,pair:"SI",country:"Silver Futures",value:"$24.567",change:"2.45%",isPositive:!0,flags:["US","US"]}]:[{id:1,pair:"USD/CHF",country:"Switzerland",value:"0.8963",change:"0.15%",isPositive:!0,flags:["US","CH"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/ch.png"]},{id:2,pair:"USD/JPY",country:"Japan",value:"152.00",change:"0.25%",isPositive:!0,flags:["US","JP"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/jp.png"]},{id:3,pair:"USD/EUR",country:"Eurozone",value:"0.9200",change:"0.12%",isPositive:!0,flags:["US","EU"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/eu.png"]},{id:4,pair:"USD/GBP",country:"United Kingdom",value:"0.7900",change:"0.18%",isPositive:!0,flags:["US","GB"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/gb.png"]},{id:5,pair:"USD/CAD",country:"Canada",value:"1.3600",change:"0.22%",isPositive:!0,flags:["US","CA"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/ca.png"]}];return(0,Re.jsxs)("div",{className:"min-h-screen bg-white pt-16 sm:pt-20",children:[(0,Re.jsxs)("div",{className:"container-max py-6 sm:py-8 lg:py-12",children:[(0,Re.jsx)(fB.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 text-center mb-6 sm:mb-8 lg:mb-12",children:h("marketTitle")}),(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"flex justify-center mb-6 sm:mb-8 lg:mb-12",children:(0,Re.jsx)("div",{className:"flex flex-wrap justify-center gap-1 sm:gap-2 bg-gray-100 p-1 sm:p-2 rounded-lg sm:rounded-xl max-w-full overflow-x-auto",children:d.map(n=>(0,Re.jsx)("button",{onClick:()=>t(n.key),className:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium text-xs sm:text-sm lg:text-base transition-all duration-300 whitespace-nowrap ".concat(e===n.key?"bg-gray-900 text-white shadow-md":"text-gray-600 hover:text-gray-900"),children:n.label},n.key))})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-6 sm:mb-8 lg:mb-12",children:[(0,Re.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 sm:gap-6 overflow-x-auto",children:f.map((t,n)=>(0,Re.jsx)(Pe,{to:"/trading/".concat(e.toLowerCase(),"/").concat(t.pair),className:"block",children:(0,Re.jsx)(fB.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.3+.1*n},className:"rounded-xl sm:rounded-2xl p-4 sm:p-6 hover:shadow-lg transition-all duration-300 min-h-[160px] sm:min-h-[180px] lg:min-h-[200px] cursor-pointer ".concat(0===n?"bg-gradient-to-br from-gray-800 to-gray-900 text-white border-2 border-gray-700":"bg-white border-2 border-gray-200 hover:border-gray-300"),children:(0,Re.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:(0,Re.jsx)("div",{className:"flex items-center space-x-2",children:"Crypto"===e?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full",onError:e=>{e.target.style.display="none"}}):"Stocks"===e?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full",onError:e=>{e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="block")}}):(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flagUrls?t.flagUrls.map((e,n)=>(0,Re.jsx)("img",{src:e,alt:"".concat(t.flags[n]," flag"),className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full border border-white",onError:e=>{e.target.style.display="none"}},n)):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(FB,{countryCode:t.flags[0]}),(0,Re.jsx)(FB,{countryCode:t.flags[1]})]})})})}),(0,Re.jsxs)("div",{className:"mb-2",children:[(0,Re.jsx)("h3",{className:"text-sm sm:text-base lg:text-lg font-bold ".concat(0===n?"text-white":"text-gray-900"),children:t.pair}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm truncate ".concat(0===n?"text-gray-300":"text-gray-600"),children:["(",t.country,")"]})]}),(0,Re.jsx)("div",{className:"mb-2",children:(0,Re.jsx)("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold ".concat(0===n?"text-white":"text-gray-900"),children:t.value})}),(0,Re.jsx)("div",{className:"text-xs sm:text-sm font-medium ".concat(0===n?t.isPositive?"text-green-400":"text-red-400":t.isPositive?"text-green-600":"text-red-600"),children:t.change})]})})},t.id))}),(0,Re.jsx)("div",{className:"hidden lg:flex justify-center mt-6",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400",children:[(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,Re.jsx)("div",{className:"w-16 h-1 bg-gray-300 rounded-full"}),(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-xl sm:rounded-2xl shadow-lg overflow-hidden",children:[(0,Re.jsx)("div",{className:"hidden sm:block bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:(0,Re.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-xs sm:text-sm font-medium text-gray-600",children:[(0,Re.jsx)("div",{className:"text-left",children:"Name"}),(0,Re.jsx)("div",{className:"text-center",children:"24h%"}),(0,Re.jsx)("div",{className:"text-center",children:"Chart"}),(0,Re.jsx)("div",{className:"text-right",children:"Price"})]})}),(0,Re.jsx)("div",{className:"divide-y divide-gray-200",children:s?(0,Re.jsx)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:(0,Re.jsxs)("div",{className:"inline-flex items-center space-x-2 text-gray-500",children:[(0,Re.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,Re.jsx)("span",{className:"text-sm sm:text-base",children:h("loadingMarketData")})]})}):o?(0,Re.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,Re.jsx)("div",{className:"text-red-500 mb-2 text-sm sm:text-base",children:o}),(0,Re.jsx)("button",{onClick:()=>window.location.reload(),className:"text-blue-600 hover:text-blue-800 underline text-sm sm:text-base",children:"Retry"})]}):0===n.length?(0,Re.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center text-gray-500 text-sm sm:text-base",children:["No data available for ",e]}):n.map((t,n)=>(0,Re.jsx)(Pe,{to:"/trading/".concat(e.toLowerCase(),"/").concat(t.pair),className:"block",children:(0,Re.jsxs)(fB.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.5+.05*n},className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-gray-50 transition-colors duration-200 cursor-pointer",children:[(0,Re.jsxs)("div",{className:"sm:hidden",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:["Crypto"===e?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}}):"Stocks"===e?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="block")}}):(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flagUrls?t.flagUrls.map((e,n)=>(0,Re.jsx)("img",{src:e,alt:"".concat(t.flags[n]," flag"),className:"w-5 h-5 rounded-full border border-white",onError:e=>{e.target.style.display="none"}},n)):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(FB,{countryCode:t.flags[0]}),(0,Re.jsx)(FB,{countryCode:t.flags[1]})]})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:t.pair}),(0,Re.jsx)("div",{className:"text-xs text-gray-600",children:t.country})]})]}),(0,Re.jsxs)("div",{className:"text-right",children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:t.value}),(0,Re.jsx)("div",{className:"text-xs font-medium ".concat(t.isPositive?"text-green-600":"text-red-600"),children:t.change})]})]}),(0,Re.jsx)("div",{className:"flex justify-center",children:(0,Re.jsx)(IV,{data:t.chart,isPositive:t.isPositive})})]}),(0,Re.jsxs)("div",{className:"hidden sm:grid grid-cols-4 gap-4 items-center",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3 text-left",children:["Crypto"===e?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-8 h-8 rounded-full",onError:e=>{e.target.style.display="none"}}):"Stocks"===e?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-8 h-8 rounded-full",onError:e=>{e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="block")}}):(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flagUrls?t.flagUrls.map((e,n)=>(0,Re.jsx)("img",{src:e,alt:"".concat(t.flags[n]," flag"),className:"w-6 h-6 rounded-full border border-white",onError:e=>{e.target.style.display="none"}},n)):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(FB,{countryCode:t.flags[0]}),(0,Re.jsx)(FB,{countryCode:t.flags[1]})]})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900",children:t.pair}),(0,Re.jsx)("div",{className:"text-sm text-gray-600",children:t.country})]})]}),(0,Re.jsx)("div",{className:"font-medium text-center ".concat(t.isPositive?"text-green-600":"text-red-600"),children:t.change}),(0,Re.jsx)("div",{className:"flex justify-center",children:(0,Re.jsx)(IV,{data:t.chart,isPositive:t.isPositive})}),(0,Re.jsx)("div",{className:"font-medium text-gray-900 text-right",children:t.value})]})]})},t.id))})]})]}),(0,Re.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsx)("div",{className:"py-8 sm:py-10 lg:py-12",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"sm:col-span-2 lg:col-span-1",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-4 sm:mb-6",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-6 sm:h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-lg sm:text-xl font-bold text-white",children:"Tokenize"})]}),(0,Re.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm leading-relaxed",children:"Advanced trading platform with real-time market data, smart trading algorithms, and comprehensive investment solutions."})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[(0,Re.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6",children:"Products"}),(0,Re.jsxs)("ul",{className:"space-y-2 sm:space-y-3",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)(Pe,{to:"/market",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Markets"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)(Pe,{to:"/loan",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Investment & Lending"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)(Pe,{to:"/smart-trading",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Smart Trading"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,Re.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6",children:"Company"}),(0,Re.jsxs)("ul",{className:"space-y-2 sm:space-y-3",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#about",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"About Us"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#license",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"License Supervision"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)(Pe,{to:"/help-center",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Help Center"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#support",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Online Support"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,Re.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-4 sm:mb-6",children:"Policies"}),(0,Re.jsxs)("ul",{className:"space-y-2 sm:space-y-3",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#terms",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Terms & Conditions"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#privacy",className:"text-gray-300 hover:text-white transition-colors text-sm sm:text-base",children:"Privacy Policy"})})]})]})]})}),(0,Re.jsx)("div",{className:"border-t border-gray-800 py-4 sm:py-6",children:(0,Re.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center space-y-4 lg:space-y-0",children:[(0,Re.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-4 text-xs sm:text-sm text-gray-400 justify-center lg:justify-start",children:[(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors",children:"Legal Information"}),(0,Re.jsx)("a",{href:"#disclaimer",className:"hover:text-white transition-colors",children:"Disclaimer"}),(0,Re.jsx)("a",{href:"#risk",className:"hover:text-white transition-colors",children:"Risk Warning"}),(0,Re.jsx)("a",{href:"#cookies",className:"hover:text-white transition-colors",children:"Cookie Policy"}),(0,Re.jsx)("a",{href:"#advertising",className:"hover:text-white transition-colors",children:"About Advertising"})]}),(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,Re.jsx)("a",{href:"#discord",className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:(0,Re.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),(0,Re.jsx)("a",{href:"#twitter",className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:(0,Re.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,Re.jsx)("a",{href:"#telegram",className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors",children:(0,Re.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]}),(0,Re.jsxs)("div",{className:"text-xs sm:text-sm text-gray-400 text-center lg:text-right",children:["\xa9 ",(new Date).getFullYear()," UBS. All rights reserved."]})]})]})})]})})]})},RV=()=>{const[e,t]=(0,a.useState)(!1),n=[{number:1,title:"Register",description:"Fill in the online form and open a trading account.",icon:(0,Re.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{number:2,title:"Fund",description:"Deposit funds into your account to start trading.",icon:(0,Re.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{number:3,title:"Trade",description:"Start trading with our award-winning trading platform.",icon:(0,Re.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}];return(0,Re.jsxs)("div",{className:"min-h-screen bg-white account-container pt-20",style:{minWidth:"1200px"},children:[(0,Re.jsx)("div",{className:"bg-gray-50 py-4",children:(0,Re.jsx)("div",{className:"container-max",children:(0,Re.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Re.jsx)(Pe,{to:"/",className:"hover:text-gray-900",children:"UBS"}),(0,Re.jsx)("span",{children:">"}),(0,Re.jsx)(Pe,{to:"/account",className:"hover:text-gray-900",children:"Account"}),(0,Re.jsx)("span",{children:">"}),(0,Re.jsx)("span",{className:"text-gray-900",children:"Invite friends"})]})})}),(0,Re.jsx)("div",{className:"container-max py-16",children:(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-4xl mx-auto",children:[(0,Re.jsx)("h1",{className:"text-5xl font-bold text-gray-900 mb-8",children:"Invite your friends"}),(0,Re.jsxs)("div",{className:"flex justify-center items-center space-x-4 mb-8",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,Re.jsx)("div",{className:"w-20 h-20 bg-blue-100 border-4 border-blue-300 rounded-full flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-10 h-10 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),(0,Re.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})]}),(0,Re.jsx)("p",{className:"text-xl text-gray-600 mb-16 leading-relaxed",children:"Invite your friends and family to join us, and reap the rewards together while embarking on a journey towards financial prosperity!"}),(0,Re.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:n.map((e,t)=>(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+.2*t},className:"text-center",children:[(0,Re.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white mx-auto mb-6 shadow-lg",children:e.icon}),(0,Re.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:[e.title," #",e.number]}),(0,Re.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},e.number))}),(0,Re.jsx)(fB.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.7},onClick:async()=>{try{await navigator.clipboard.writeText("https://tokenize.com/invite/ref123456"),t(!0),setTimeout(()=>t(!1),2e3)}catch(e){console.error("Failed to copy: ",e)}},className:"px-12 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 ".concat(e?"bg-green-600 text-white":"bg-gray-900 text-white hover:bg-gray-800"),children:e?(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,Re.jsx)("span",{children:"Copied!"})]}):"Copy link"}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"0"}),(0,Re.jsx)("div",{className:"text-gray-600",children:"Friends Invited"})]}),(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"$0.00"}),(0,Re.jsx)("div",{className:"text-gray-600",children:"Total Rewards"})]}),(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"0"}),(0,Re.jsx)("div",{className:"text-gray-600",children:"Active Referrals"})]})]})]})}),(0,Re.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsx)("div",{className:"py-16",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"md:col-span-1",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-xl font-bold text-white",children:"Tokenize"})]})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Products"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Markets"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Investment & Lending"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Smart Trading"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Company"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"About Us"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"License Supervision"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Help Center"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Online Support"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Policies"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Terms & Conditions"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Privacy Policy"})})]})]})]})}),(0,Re.jsx)("div",{className:"py-8 border-t border-gray-700",children:(0,Re.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,Re.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Legal Information"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Disclaimer"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Risk Warning"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Cookie Policy"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"About Advertising"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Re.jsxs)("div",{className:"flex space-x-4",children:[(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]}),(0,Re.jsx)("div",{className:"text-gray-400 text-sm",children:"\u2022 2023 UBS. All rights reserved."})]})]})})]})})]})},DV=()=>{const[e,t]=(0,a.useState)("General"),[n,r]=(0,a.useState)(""),s={General:[{question:"What is UBS?",answer:"UBS is a leading financial services platform that provides advanced trading tools, real-time market data, and comprehensive investment solutions for both beginners and experienced traders."},{question:"How do I get started?",answer:"To get started, simply create an account, complete the verification process, deposit funds, and start trading. Our platform is designed to be user-friendly for all experience levels."},{question:"Is UBS regulated?",answer:"Yes, UBS operates under strict regulatory compliance and is licensed in multiple jurisdictions. We maintain the highest standards of security and regulatory adherence."}],Account:[{question:"How do I verify my account?",answer:"Account verification involves submitting your personal information, identity documents, and proof of address. This process typically takes 1-3 business days to complete."},{question:"What documents do I need for verification?",answer:"You will need a government-issued ID (passport, driver's license, or national ID), proof of address (utility bill or bank statement), and in some cases, additional documentation for enhanced verification."},{question:"Can I have multiple accounts?",answer:"No, each user is allowed only one account per person. Multiple accounts are not permitted and may result in account suspension."}],Trading:[{question:"What trading pairs are available?",answer:"We offer a wide range of trading pairs including major cryptocurrencies (BTC, ETH, etc.), forex pairs, stocks, ETFs, and futures contracts."},{question:"What are the trading fees?",answer:"Our trading fees are competitive and vary based on your trading volume and account type. Maker fees start at 0.1% and taker fees start at 0.2%."},{question:"How do I place a trade?",answer:"To place a trade, select your desired trading pair, choose your order type (market, limit, stop), enter the amount, and confirm your trade. Always review your order before confirming."}],Deposits:[{question:"How do I deposit funds?",answer:"You can deposit funds via bank transfer, credit/debit card, or cryptocurrency. Navigate to the deposit section in your account dashboard and follow the instructions."},{question:"Are there deposit fees?",answer:"Deposit fees vary by method. Bank transfers are usually free, while card deposits may have a small fee. Cryptocurrency deposits are typically free."},{question:"How long do deposits take?",answer:"Deposit times vary by method: bank transfers (1-3 business days), card deposits (instant), cryptocurrency deposits (10-30 minutes depending on network congestion)."}],Withdrawals:[{question:"How do I withdraw funds?",answer:"To withdraw funds, go to the withdrawal section in your account, select your preferred method, enter the amount, and confirm your withdrawal request."},{question:"What are the withdrawal limits?",answer:"Withdrawal limits depend on your account verification level. Basic accounts have lower limits, while fully verified accounts have higher limits."},{question:"How long do withdrawals take?",answer:"Withdrawal processing times vary: bank transfers (1-3 business days), card withdrawals (1-2 business days), cryptocurrency withdrawals (10-30 minutes)."}],Security:[{question:"How secure is my account?",answer:"We use bank-level security including SSL encryption, two-factor authentication, cold storage for cryptocurrencies, and regular security audits."},{question:"What is two-factor authentication?",answer:"Two-factor authentication (2FA) adds an extra layer of security by requiring a second verification step, typically through an authenticator app or SMS."},{question:"What should I do if I suspect unauthorized access?",answer:"If you suspect unauthorized access, immediately change your password, enable 2FA if not already active, and contact our support team immediately."}],Technical:[{question:"What browsers are supported?",answer:"We support all modern browsers including Chrome, Firefox, Safari, and Edge. For the best experience, we recommend using the latest version of Chrome."},{question:"Is there a mobile app?",answer:"Yes, we have mobile apps for both iOS and Android devices. You can download them from the App Store or Google Play Store."},{question:"What if I experience technical issues?",answer:"If you experience technical issues, try refreshing your browser, clearing cache and cookies, or using a different browser. If problems persist, contact our technical support."}]}[e].filter(e=>e.question.toLowerCase().includes(n.toLowerCase())||e.answer.toLowerCase().includes(n.toLowerCase()));return(0,Re.jsxs)("div",{className:"min-h-screen bg-white account-container pt-20",style:{minWidth:"1200px"},children:[(0,Re.jsx)("div",{className:"bg-gray-50 py-4",children:(0,Re.jsx)("div",{className:"container-max",children:(0,Re.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Re.jsx)(Pe,{to:"/",className:"hover:text-gray-900",children:"UBS"}),(0,Re.jsx)("span",{children:">"}),(0,Re.jsx)(Pe,{to:"/account",className:"hover:text-gray-900",children:"Account"}),(0,Re.jsx)("span",{children:">"}),(0,Re.jsx)("span",{className:"text-gray-900",children:"Help Center (FAQ)"})]})})}),(0,Re.jsxs)("div",{className:"container-max py-12",children:[(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[(0,Re.jsx)("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Help Center (FAQ)"}),(0,Re.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Find answers to common questions and get the support you need"}),(0,Re.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Search for help...",className:"w-full px-6 py-4 pl-12 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"}),(0,Re.jsx)("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]}),(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"flex justify-center mb-12",children:(0,Re.jsx)("div",{className:"flex flex-wrap gap-2 bg-gray-100 p-2 rounded-xl",children:["General","Account","Trading","Deposits","Withdrawals","Security","Technical"].map(n=>(0,Re.jsx)("button",{onClick:()=>t(n),className:"px-6 py-3 rounded-lg font-medium transition-all duration-300 ".concat(e===n?"bg-white text-gray-900 shadow-md":"text-gray-600 hover:text-gray-900"),children:n},n))})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"max-w-4xl mx-auto",children:[(0,Re.jsx)("div",{className:"space-y-4",children:s.map((e,t)=>(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3+.1*t},className:"bg-white border-2 border-gray-200 rounded-xl p-6 hover:border-gray-300 transition-colors duration-300",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.question}),(0,Re.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.answer})]},t))}),0===s.length&&(0,Re.jsxs)("div",{className:"text-center py-12",children:[(0,Re.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.009-5.824-2.709M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),(0,Re.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No results found"}),(0,Re.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search terms or browse different categories."})]})]}),(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-center mt-16",children:(0,Re.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-8",children:[(0,Re.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Still need help?"}),(0,Re.jsx)("p",{className:"text-gray-600 mb-6",children:"Our support team is here to assist you 24/7"}),(0,Re.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,Re.jsx)("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-300",children:"Contact Support"}),(0,Re.jsx)("button",{className:"border-2 border-gray-300 text-gray-700 px-8 py-3 rounded-lg font-semibold hover:border-gray-400 transition-colors duration-300",children:"Live Chat"})]})]})})]}),(0,Re.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsx)("div",{className:"py-16",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"md:col-span-1",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-xl font-bold text-white",children:"Tokenize"})]})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Products"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Markets"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Investment & Lending"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Smart Trading"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Company"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"About Us"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"License Supervision"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Help Center"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Online Support"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Policies"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Terms & Conditions"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Privacy Policy"})})]})]})]})}),(0,Re.jsx)("div",{className:"py-8 border-t border-gray-700",children:(0,Re.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,Re.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Legal Information"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Disclaimer"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Risk Warning"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Cookie Policy"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"About Advertising"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Re.jsxs)("div",{className:"flex space-x-4",children:[(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]}),(0,Re.jsx)("div",{className:"text-gray-400 text-sm",children:"\u2022 2023 UBS. All rights reserved."})]})]})})]})})]})},MV=()=>{const{t:e}=Ue(),[t,n]=(0,a.useState)(""),[r,s]=(0,a.useState)(7),[i,o]=(0,a.useState)("USD"),[l,c]=(0,a.useState)(!1),[u]=(0,a.useState)(.1),[h,d]=(0,a.useState)(0),f=5e6;(0,a.useEffect)(()=>{if(t&&t>0){const e=parseFloat(t);d(e*u/100*r)}else d(0)},[t,r,u]);return(0,Re.jsxs)("div",{className:"min-h-screen bg-white account-container pt-20",style:{minWidth:"1200px"},children:[(0,Re.jsx)("div",{className:"container-max py-16",children:(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl mx-auto",children:[(0,Re.jsxs)("div",{className:"text-center mb-12",children:[(0,Re.jsxs)(fB.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.1},className:"text-6xl font-bold text-gray-900 mb-4",children:[f.toLocaleString()," ",i]}),(0,Re.jsx)(fB.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-gray-600 mb-8",children:e("loanSubtitle")}),(0,Re.jsx)(fB.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},onClick:()=>c(!0),className:"bg-gray-900 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-800 transition-colors duration-300 transform hover:scale-105",children:e("verification")})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white border-2 border-gray-200 rounded-2xl p-8 shadow-lg",children:[(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e("loanAmount")}),(0,Re.jsxs)("div",{className:"flex",children:[(0,Re.jsx)("input",{type:"text",value:t,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&n(t)},placeholder:"I want to borrow...",className:"flex-1 px-4 py-4 border-2 border-gray-300 rounded-l-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"}),(0,Re.jsx)("select",{value:i,onChange:e=>o(e.target.value),className:"px-6 py-4 bg-gray-800 text-white border-2 border-l-0 border-gray-300 rounded-r-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:["USD","EUR","GBP","JPY","CHF"].map(e=>(0,Re.jsx)("option",{value:e,children:e},e))})]}),t&&parseFloat(t)>f&&(0,Re.jsxs)("p",{className:"text-red-500 text-sm mt-2",children:["Maximum loan amount is ",f.toLocaleString()," ",i]})]}),(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e("loanTerm")}),(0,Re.jsxs)("div",{className:"flex",children:[(0,Re.jsx)("input",{type:"text",value:"".concat(r," Days"),readOnly:!0,className:"flex-1 px-4 py-4 border-2 border-gray-300 rounded-l-xl bg-gray-50 text-lg"}),(0,Re.jsx)("select",{value:r,onChange:e=>s(parseInt(e.target.value)),className:"px-6 py-4 bg-gray-800 text-white border-2 border-l-0 border-gray-300 rounded-r-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[7,14,30,60,90,180,365].map(e=>(0,Re.jsxs)("option",{value:e,children:[e," Days"]},e))})]})]}),(0,Re.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("p",{className:"text-gray-600 mb-2",children:[e("interestRate"),":"]}),(0,Re.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[u,"%"]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-gray-600 mb-2",children:"Total interest amount:"}),(0,Re.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(m=h,new Intl.NumberFormat("en-US",{style:"currency",currency:i,minimumFractionDigits:2,maximumFractionDigits:2}).format(m))})]})]}),(0,Re.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Re.jsxs)("p",{className:"text-gray-600 text-sm",children:["No interest need to pay within ",r," days of the loan, after that, interest is payable."]})})]}),(0,Re.jsx)(fB.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{!t||parseFloat(t)<=0?alert("Please enter a valid loan amount"):parseFloat(t)>f?alert("Maximum loan amount is ".concat(f.toLocaleString()," ").concat(i)):alert("Loan application submitted for ".concat(t," ").concat(i," for ").concat(r," days"))},className:"w-full bg-gray-900 text-white py-4 rounded-xl font-semibold text-lg hover:bg-gray-800 transition-colors duration-300",children:e("getStarted")})]}),(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-12 text-center",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Low Interest Rates"}),(0,Re.jsx)("p",{className:"text-gray-600",children:"Competitive rates starting from 0.1% daily"})]}),(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Fast Approval"}),(0,Re.jsx)("p",{className:"text-gray-600",children:"Get approved within minutes"})]}),(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Secure & Safe"}),(0,Re.jsx)("p",{className:"text-gray-600",children:"Bank-level security for your transactions"})]})]})})]})}),(0,Re.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsx)("div",{className:"py-16",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"md:col-span-1",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-xl font-bold text-white",children:"Tokenize"})]})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Products"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Markets"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Investment & Lending"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Smart Trading"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Company"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"About Us"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"License Supervision"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Help Center"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Online Support"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Policies"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Terms & Conditions"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Privacy Policy"})})]})]})]})}),(0,Re.jsx)("div",{className:"py-8 border-t border-gray-700",children:(0,Re.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,Re.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Legal Information"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Disclaimer"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Risk Warning"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Cookie Policy"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"About Advertising"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Re.jsxs)("div",{className:"flex space-x-4",children:[(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]}),(0,Re.jsx)("div",{className:"text-gray-400 text-sm",children:"\u2022 2023 UBS. All rights reserved."})]})]})})]})}),(0,Re.jsx)(sV,{isOpen:l,onClose:()=>c(!1)})]});var m},OV=e=>{let{symbol:t,category:n,currentPrice:r,priceChange:s,ohlc:i}=e;const[o,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(!0),[h,d]=(0,a.useState)(null),[f,m]=(0,a.useState)(()=>"forex"===n?t.includes("USD/CHF")?.805:t.includes("EUR/USD")?1.085:.805:"crypto"===n?t.includes("BTC")?45e3:t.includes("ETH")?3e3:100:t.includes("AAPL")?180:t.includes("TSLA")?250:100),[p,g]=(0,a.useState)(0),[y,v]=(0,a.useState)(0),[x,w]=(0,a.useState)(!1),[b,E]=(0,a.useState)({x:0,scroll:0}),[S]=(0,a.useState)(1),N=(0,a.useRef)(null),A=(0,a.useRef)(null),k=(0,a.useRef)(null),C=e=>"forex"===n?e.toFixed(4):e.toFixed(2),T=()=>{const e=new Date,r=[];let s;s="forex"===n?t.includes("USD/CHF")?.805:t.includes("EUR/USD")?1.085:.805:"crypto"===n?t.includes("BTC")?45e3:t.includes("ETH")?3e3:100:t.includes("AAPL")?180:t.includes("TSLA")?250:100;let i=s;for(let t=0;t<100;t++){const s=new Date(e.getTime()-60*(99-t)*60*1e3),a="crypto"===n?.05:"forex"===n?.002:.03;i*=1+(Math.random()-.5)*a,r.push({time:s.toISOString(),price:i,volume:1e3*Math.random()})}return r},j=()=>{N.current&&N.current.close();try{if("crypto"===n){const e=t.toLowerCase().replace("/usd","usdt"),n="wss://stream.binance.com:9443/ws/".concat(e,"@ticker");N.current=new WebSocket(n),N.current.onmessage=e=>{const t=JSON.parse(e.data);t.c&&t.P&&(m(parseFloat(t.c)),g(parseFloat(t.P)),l(e=>{const n=[...e],r=n[n.length-1];return r&&(n[n.length-1]=ot(ot({},r),{},{price:parseFloat(t.c),volume:parseFloat(t.v)||r.volume||0})),n}))}}else if("forex"===n){const e=[t];N.current=((e,t)=>{let n;return n=setInterval(()=>{const n={};e.forEach(e=>{const[t,r]=e.split("/"),s=ZB(t,r),i=.001*(Math.random()-.5),a=s*(1+i);n[e]={symbol:e,price:a,change:100*i,timestamp:Date.now()}}),t(n)},1e4),{close:()=>{n&&clearInterval(n)}}})(e,e=>{const n=e[t];n&&(m(n.price),g(n.change),l(e=>{const t=[...e],r=t[t.length-1];return r&&(t[t.length-1]=ot(ot({},r),{},{price:n.price,volume:(r.volume||0)+100*Math.random()})),t}))})}else A.current=setInterval(()=>{const e=.01*(Math.random()-.5),t=f*(1+e),n=(t-f)/f*100;m(t),g(n),l(e=>{const n=[...e],r=n[n.length-1];return r&&(n[n.length-1]=ot(ot({},r),{},{price:t,volume:(r.volume||0)+100*Math.random()})),n})},2e3)}catch(e){console.error("WebSocket connection error:",e)}};(0,a.useEffect)(()=>((async()=>{try{u(!0),d(null);const e=T();l(e),u(!1)}catch(e){console.error("Error in fetchHistoricalDataForChart:",e);const t=T();l(t),u(!1)}})(),j(),()=>{N.current&&N.current.close(),A.current&&clearInterval(A.current)}),[t,n]);const P=300,I=1200*S,_=40,R=()=>{w(!1)};if(c)return(0,Re.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,Re.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:t}),(0,Re.jsx)("div",{className:"animate-pulse bg-gray-200 h-6 w-24 rounded"})]})}),(0,Re.jsx)("div",{className:"p-8 h-96 flex items-center justify-center",children:(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Re.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading real-time chart data..."})]})})]});if(h)return(0,Re.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,Re.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:t}),(0,Re.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[C(r)," USD"]})]})}),(0,Re.jsx)("div",{className:"p-8 h-96 flex items-center justify-center",children:(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,Re.jsx)("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Re.jsx)("p",{className:"text-red-600 font-medium",children:h}),(0,Re.jsx)("button",{onClick:$B,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})})]});const D=o.map(e=>(null===e||void 0===e?void 0:e.price)||0).filter(e=>e>0),M=D.length>0?Math.max(...D):f,O=D.length>0?Math.min(...D):f,L=M-O||.01*f,U=e=>_+e/(o.length-1)*(I-80)-y,F=e=>P-(e-O)/L*220+_;return(0,Re.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:t}),(0,Re.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[C(f)," USD"]}),(0,Re.jsxs)("div",{className:"text-lg font-semibold ".concat(p>=0?"text-green-600":"text-red-600"),children:[p>=0?"+":"",p.toFixed(2),"%"]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Re.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(p>=0?"bg-green-500":"bg-red-500")}),(0,Re.jsx)("span",{className:"text-xs text-gray-500",children:"Live"})]})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-blue-600",children:[(0,Re.jsxs)("span",{children:["Open: ",C(i.open)]}),(0,Re.jsxs)("span",{children:["High: ",C(i.high)]}),(0,Re.jsxs)("span",{children:["Low: ",C(i.low)]}),(0,Re.jsxs)("span",{children:["Close: ",C(i.close)]}),(0,Re.jsxs)("span",{className:"text-xs text-gray-500",children:["Zoom: ",(100*S).toFixed(0),"%"]})]})]}),(0,Re.jsx)("div",{className:"p-4 overflow-hidden cursor-grab active:cursor-grabbing w-full",onMouseDown:e=>{w(!0),E({x:e.clientX,scroll:y})},onMouseMove:e=>{var t;if(!x)return;const n=e.clientX-b.x,r=b.scroll-n,s=(null===(t=k.current)||void 0===t?void 0:t.clientWidth)||800,i=Math.max(0,I-s);v(Math.max(0,Math.min(i,r)))},onMouseUp:R,onMouseLeave:R,onWheel:e=>{var t;e.preventDefault();const n=e.deltaX||e.deltaY,r=y+(n>0?50:-50),s=(null===(t=k.current)||void 0===t?void 0:t.clientWidth)||800,i=Math.max(0,I-s);v(Math.max(0,Math.min(i,r)))},ref:k,children:(0,Re.jsxs)("svg",{width:I,height:P,className:"w-full",children:[[0,.25,.5,.75,1].map((e,t)=>{const n=_+220*e,r=O+e*L;return(0,Re.jsxs)("g",{children:[(0,Re.jsx)("line",{x1:_,y1:n,x2:I-_,y2:n,stroke:"#e5e7eb",strokeWidth:"0.5"}),(0,Re.jsx)("text",{x:30,y:n+4,textAnchor:"end",fill:"#6b7280",fontSize:"12",children:C(r)})]},t)}),(0,Re.jsx)("polyline",{points:o.map((e,t)=>"".concat(U(t),",").concat(F((null===e||void 0===e?void 0:e.price)||0))).join(" "),fill:"none",stroke:"#3b82f6",strokeWidth:"2"}),o.map((e,t)=>(0,Re.jsx)("circle",{cx:U(t),cy:F((null===e||void 0===e?void 0:e.price)||0),r:"2",fill:"#3b82f6"},t)),(0,Re.jsx)("line",{x1:_,y1:F(f),x2:I-_,y2:F(f),stroke:"#ef4444",strokeWidth:"1",strokeDasharray:"5,5"}),o.filter((e,t)=>t%20===0).map((e,t)=>(0,Re.jsx)("text",{x:U(20*t),y:290,textAnchor:"middle",fill:"#6b7280",fontSize:"10",children:null!==e&&void 0!==e&&e.time?new Date(e.time).toLocaleTimeString():""},t))]})}),(0,Re.jsxs)("div",{className:"px-4 pb-4",children:[(0,Re.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,Re.jsxs)("span",{children:["Data Points: ",o.length]}),(0,Re.jsxs)("span",{children:["Price Range: ",C(O)," - ",C(M)]}),(0,Re.jsxs)("span",{children:["Last Update: ",(new Date).toLocaleTimeString()]})]}),(0,Re.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:(0,Re.jsx)("span",{children:"\ud83d\udca1 Mouse wheel to pan \u2022 Drag to pan"})})]})]})},LV=e=>{let{isOpen:t,onClose:n,symbol:r,availableBalance:s=0}=e;const{createTrade:i}=yB(),[o,l]=(0,a.useState)(""),[c,u]=(0,a.useState)("1 Day"),[h,d]=(0,a.useState)(!1),[f,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(0),[y,v]=(0,a.useState)(!1),x=e=>{const t=parseFloat(e)||0;return t>=1e3&&t<=9999?{timeframeOptions:["1 Day","7 Days","15 Days"]}:t>=1e4&&t<=49999?{timeframeOptions:["7 Days","15 Days","30 Days"]}:t>=5e4&&t<=199999?{timeframeOptions:["15 Days","30 Days","60 Days"]}:{timeframeOptions:["1 Day","7 Days","15 Days","30 Days","60 Days"]}},w=x(o),b=(e=>{const t=parseInt(e.split(" ")[0]);return 1===t?"1000-9999 USD":7===t?"10000-49999 USD":15===t?"50000-199999 USD":30===t?"100000-499999 USD":60===t?"500000-999999 USD":"1000-999999 USD"})(c),E=(e=>{const t=parseInt(e.split(" ")[0]);return 1===t?"1.50%-1.80%":7===t?"1.80%-2.10%":15===t?"2.10%-2.50%":30===t?"2.50%-2.80%":60===t?"2.80%-3.00%":"1.50%-3.00%"})(c);return t?(0,Re.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Re.jsxs)(fB.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"bg-white rounded-lg p-4 sm:p-6 lg:p-8 w-full max-w-sm sm:max-w-md mx-auto max-h-[90vh] overflow-y-auto shadow-xl",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[(0,Re.jsx)("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Create a plan"}),(0,Re.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Re.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Re.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-lg px-3 sm:px-4 py-2 sm:py-3 flex justify-between items-center",children:[(0,Re.jsx)("label",{className:"text-xs sm:text-sm font-normal text-gray-900",children:"Amount Limit:"}),(0,Re.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:b})]}),(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-lg px-3 sm:px-4 py-2 sm:py-3 flex justify-between items-center",children:[(0,Re.jsx)("label",{className:"text-xs sm:text-sm font-normal text-gray-900",children:"Daily yield:"}),(0,Re.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:E})]}),(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-lg px-3 sm:px-4 py-2 sm:py-3 flex justify-between items-center",children:[(0,Re.jsx)("label",{className:"text-xs sm:text-sm font-normal text-gray-900",children:"Product:"}),(0,Re.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:r||"Apple Tokenize"})]}),(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsxs)("button",{onClick:()=>d(!h),className:"w-full bg-gray-100 rounded-lg px-3 sm:px-4 py-2 sm:py-3 flex justify-between items-center hover:bg-gray-200 transition-colors",children:[(0,Re.jsx)("label",{className:"text-xs sm:text-sm font-normal text-gray-900",children:"Timeframe:"}),(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("span",{className:"text-xs sm:text-sm text-gray-900 mr-2",children:c}),(0,Re.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 transition-transform ".concat(h?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),h&&(0,Re.jsx)("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 z-10",children:w.timeframeOptions.map(e=>(0,Re.jsx)("button",{onClick:()=>{u(e),m(""),d(!1)},className:"w-full text-left px-3 sm:px-4 py-2 sm:py-3 hover:bg-gray-50 transition-colors first:rounded-t-lg last:rounded-b-lg text-xs sm:text-sm",children:e},e))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-xs sm:text-sm font-normal text-gray-900 mb-1 sm:mb-2",children:"Amount:"}),(0,Re.jsx)("input",{type:"number",value:o,onChange:e=>(e=>{l(e),m("");const t=parseFloat(e)||0,n=x(t);n.timeframeOptions.includes(c)||u(n.timeframeOptions[0])})(e.target.value),onFocus:()=>{v(!0)},onBlur:()=>{v(!1),""!==o&&null!==o&&void 0!==o||l("")},className:"w-full bg-gray-800 text-white px-3 sm:px-4 py-2 sm:py-3 rounded-lg border-none outline-none no-spinner text-right text-sm sm:text-base",placeholder:"0"})]}),f&&(0,Re.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 sm:p-3",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Re.jsx)("span",{className:"text-red-700 text-xs sm:text-sm font-medium",children:f})]})})]}),(0,Re.jsx)("div",{className:"mt-6 sm:mt-8",children:(0,Re.jsx)("button",{onClick:async()=>{if((()=>{const e=Date.now(),t=parseFloat(o)||0;return t>s?(m("Insufficient balance in user account"),!1):e-p<5e3?(m("Operation too frequent"),!1):t<1e3?(m("Minimum amount is 1000 USD"),!1):!(t>199999)||(m("Maximum amount is 199999 USD"),!1)})()){g(Date.now());try{const e={symbol:r,amount:parseFloat(o)||0,timeframe:c,direction:"Up",openPrice:1e5*Math.random()+5e4,closePrice:null,profit:0,type:"Smart Trading",startTime:(new Date).toISOString(),endTime:new Date(Date.now()+24*parseInt(c.split(" ")[0])*60*60*1e3).toISOString()};await i(e),console.log("Trade created successfully:",e),n()}catch(f){console.error("Error creating trade:",f),"INSUFFICIENT_FUNDS"===f.message||"RATE_LIMIT_EXCEEDED"===f.message?n():m("Failed to create trading plan. Please try again.")}}},className:"w-full bg-gray-800 text-white py-2 sm:py-3 px-4 sm:px-6 rounded-lg font-semibold hover:bg-gray-700 transition-colors text-sm sm:text-base",children:"Create"})})]})}):null},UV=e=>{let{isOpen:t,onClose:n}=e;if(!t)return null;return(0,Re.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:n}),(0,Re.jsxs)("div",{className:"relative z-10 w-full max-w-2xl bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,Re.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Smart Trading FAQs"}),(0,Re.jsx)("button",{onClick:n,className:"p-2 rounded-md hover:bg-gray-100 text-gray-600","aria-label":"Close",children:"\u2715"})]}),(0,Re.jsx)("div",{className:"max-h-[70vh] overflow-y-auto p-6 space-y-4",children:[{q:"What is Smart Trading?",a:"Smart Trading automates strategy execution with predefined rules for risk and returns."},{q:"How is yield generated?",a:"Yield comes from market-making, arbitrage, and short-term momentum strategies."},{q:"Is my principal guaranteed?",a:"No. Strategies target capital preservation but returns are not guaranteed."},{q:"Can I withdraw anytime?",a:"You can stop a plan at the end of its current cycle and withdraw available funds."},{q:"Minimum amount required?",a:"The minimum amount depends on the timeframe; typically it starts from 1,000 USD."},{q:"How often does it trade?",a:"Frequency varies by market conditions and chosen timeframe; risk controls throttle activity."},{q:"What fees apply?",a:"No management fee for basic plans; spreads and execution costs are embedded."},{q:"Can I change the plan later?",a:"You can adjust amount and timeframe between cycles; edits mid-cycle are limited."}].map((e,t)=>(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-lg px-4 py-3",children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900",children:e.q}),(0,Re.jsx)("div",{className:"text-gray-700 mt-1",children:e.a})]},t))}),(0,Re.jsx)("div",{className:"px-6 py-4 border-t bg-gray-50 flex justify-end",children:(0,Re.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg bg-gray-900 text-white hover:bg-gray-800",children:"Close"})})]})]})},FV=()=>{var e;const{category:t}=function(){let{matches:e}=a.useContext($),t=e[e.length-1];return t?t.params:{}}(),n=ne().pathname.split("/").slice(3).join("/"),{user:r}=yB(),[s,i]=(0,a.useState)(0),[o,l]=(0,a.useState)(0),[c,u]=(0,a.useState)({open:0,high:0,low:0,close:0}),[h,d]=(0,a.useState)(60),[f,m]=(0,a.useState)(0),[p,g]=(0,a.useState)("up"),[y,v]=(0,a.useState)(!1),[x,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=async()=>{try{let e=0,r=0;if("crypto"===t){const t=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(n.toLowerCase(),"&vs_currencies=usd&include_24hr_change=true")),s=await t.json(),i=n.toLowerCase();s[i]&&(e=s[i].usd,r=s[i].usd_24h_change||0)}else if("forex"===t){const t=await fetch("https://api.exchangerate-api.com/v4/latest/USD"),s=await t.json(),[,i]=n.split("/");s.rates[i]&&(e=s.rates[i],r=.02*(Math.random()-.5))}else if("stocks"===t){const t=await fetch("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(n,"&apikey=demo")),s=await t.json();s["Global Quote"]&&(e=parseFloat(s["Global Quote"]["05. price"]),r=parseFloat(s["Global Quote"]["10. change percent"].replace("%","")))}else e=1e3*Math.random()+100,r=10*(Math.random()-.5);i(e),l(r);const s=.1*Math.abs(r),a=e*(1+(Math.random()-.5)*s),o=Math.max(e,a)*(1+Math.random()*s),c=Math.min(e,a)*(1-Math.random()*s);u({open:a,high:o,low:c,close:e})}catch(WV){console.error("Error fetching real-time price:",WV);const t=1e3*Math.random()+100,n=10*(Math.random()-.5);i(t),l(n),u({open:.99*t,high:1.02*t,low:.98*t,close:t})}};e();const r=setInterval(e,5e3);return()=>clearInterval(r)},[t,n]);return(0,Re.jsxs)("div",{className:"min-h-screen bg-gray-50 pt-20",children:[(0,Re.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:(0,Re.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,Re.jsxs)("nav",{className:"text-sm text-gray-600",children:[(0,Re.jsx)(Pe,{to:"/",className:"hover:text-gray-900",children:"UBS"}),(0,Re.jsx)("span",{className:"mx-2",children:"/"}),(0,Re.jsx)(Pe,{to:"/market",className:"hover:text-gray-900",children:"Market"}),(0,Re.jsx)("span",{className:"mx-2",children:"/"}),(0,Re.jsx)("span",{className:"text-gray-900",children:n})]})})}),(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,Re.jsx)("div",{className:"mb-8",children:(0,Re.jsx)(OV,{symbol:n,category:t,currentPrice:s,priceChange:o,ohlc:c})}),(0,Re.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[(0,Re.jsx)("div",{className:"text-center mb-6",children:(0,Re.jsx)("button",{className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Options"})}),(0,Re.jsx)("div",{className:"mb-8",children:(0,Re.jsx)("div",{className:"grid grid-cols-5 gap-4",children:[{duration:60,return:"30.00% return"},{duration:180,return:"40.00% return"},{duration:300,return:"50.00% return"},{duration:450,return:"60.00% return"},{duration:600,return:"70.00% return"}].map(e=>(0,Re.jsxs)("button",{onClick:()=>d(e.duration),className:"p-4 rounded-lg border text-center transition-all duration-200 ".concat(h===e.duration?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"),children:[(0,Re.jsxs)("div",{className:"text-lg font-semibold",children:[e.duration,"s"]}),(0,Re.jsx)("div",{className:"text-sm opacity-75 mt-1",children:e.return})]},e.duration))})}),(0,Re.jsxs)("div",{className:"mb-8",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Re.jsx)("span",{className:"text-gray-700 font-medium",children:"Investment:"}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("input",{type:"number",value:f,onChange:e=>m(parseFloat(e.target.value)||0),className:"text-right text-blue-600 font-semibold bg-transparent border-none outline-none no-spinner",placeholder:"0"}),(0,Re.jsx)("span",{className:"text-blue-600 font-semibold",children:"USD"})]})]}),(0,Re.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 flex justify-between items-center",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsx)("span",{className:"text-gray-700",children:"Available:"}),(0,Re.jsx)("span",{className:"text-gray-700 font-medium",children:(null===r||void 0===r||null===(e=r.balance)||void 0===e?void 0:e.toFixed(2))||"0.00"}),(0,Re.jsx)("span",{className:"text-gray-700",children:"USD"})]}),(0,Re.jsx)("span",{className:"text-gray-700",children:"Fee: 0 USD"})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Re.jsx)("button",{onClick:()=>g("up"),className:"py-4 px-6 rounded-lg font-semibold text-lg transition-colors ".concat("up"===p?"bg-gray-800 text-white":"bg-white text-gray-700 border border-gray-300 hover:border-gray-400"),children:"Up"}),(0,Re.jsx)("button",{onClick:()=>g("down"),className:"py-4 px-6 rounded-lg font-semibold text-lg transition-colors ".concat("down"===p?"bg-gray-800 text-white":"bg-white text-gray-700 border border-gray-300 hover:border-gray-400"),children:"Down"})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-gray-800 text-white p-8 rounded-lg relative overflow-hidden",children:[(0,Re.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500 opacity-20 rounded-full -mr-16 -mt-16"}),(0,Re.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-green-500 opacity-20 rounded-full -ml-12 -mb-12"}),(0,Re.jsxs)("div",{className:"relative z-10",children:[(0,Re.jsx)("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-6",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Create a plan to trade!"}),(0,Re.jsx)("p",{className:"text-gray-300 mb-6",children:"Want more stable earning?"}),(0,Re.jsx)("button",{onClick:()=>v(!0),className:"bg-white text-gray-800 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Create"})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white border border-gray-200 p-8 rounded-lg",children:[(0,Re.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-6",children:(0,Re.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,Re.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"What is smart trading?"}),(0,Re.jsx)("p",{className:"text-gray-600 mb-6",children:"Learn about our advanced trading algorithms and how they can help you make better investment decisions."}),(0,Re.jsx)("button",{onClick:()=>w(!0),className:"bg-gray-800 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:"Learn More"})]})]})]}),(0,Re.jsx)(LV,{isOpen:y,onClose:()=>v(!1),symbol:n,availableBalance:(null===r||void 0===r?void 0:r.balance)||0}),(0,Re.jsx)(UV,{isOpen:x,onClose:()=>w(!1)})]})},BV=()=>{const[e,t]=(0,a.useState)("Stocks"),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[h,d]=(0,a.useState)(""),{t:f}=Ue(),{user:m}=yB(),p=[{key:"Forex",label:f("forex")},{key:"Crypto",label:f("crypto")},{key:"Stocks",label:f("stocks")},{key:"ETF",label:f("etf")},{key:"Futures",label:f("futures")}];(0,a.useEffect)(()=>{const t=async()=>{try{if(i(!0),l(null),"Forex"===e){const e=[{id:1,pair:"USD/CHF",country:"Switzerland",value:YB(.7963,4),change:XB(.09),isPositive:!0,flags:["US","CH"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/ch.png"],chart:KB(!0)},{id:2,pair:"USD/JPY",country:"Japan",value:YB(149.19,4),change:XB(.09),isPositive:!0,flags:["US","JP"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/jp.png"],chart:KB(!0)},{id:3,pair:"USD/EUR",country:"Eurozone",value:YB(.85,4),change:XB(.04),isPositive:!0,flags:["US","EU"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/eu.png"],chart:KB(!0)},{id:4,pair:"USD/GBP",country:"United Kingdom",value:YB(.73,4),change:XB(-.02),isPositive:!1,flags:["US","GB"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/gb.png"],chart:KB(!1)},{id:5,pair:"USD/CAD",country:"Canada",value:YB(1.25,4),change:XB(.03),isPositive:!0,flags:["US","CA"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/ca.png"],chart:KB(!0)},{id:6,pair:"USD/AUD",country:"Australia",value:YB(1.35,4),change:XB(-.05),isPositive:!1,flags:["US","AU"],flagUrls:["https://flagcdn.com/w20/us.png","https://flagcdn.com/w20/au.png"],chart:KB(!1)}];r(e)}else if("Crypto"===e){var t,n,s,a,o,c,u,h,d,f,m,p,g,y,v,x,w,b,E,S;const e=await qB(["bitcoin","ethereum","filecoin","dogecoin","ripple"]),i=[{id:1,pair:"BTC/USD",country:"Bitcoin",value:YB((null===(t=e.bitcoin)||void 0===t?void 0:t.usd)||111690.14,2),change:XB((null===(n=e.bitcoin)||void 0===n?void 0:n.usd_24h_change)||1.52),isPositive:((null===(s=e.bitcoin)||void 0===s?void 0:s.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",chart:KB(((null===(a=e.bitcoin)||void 0===a?void 0:a.usd_24h_change)||0)>=0)},{id:2,pair:"ETH/USD",country:"Ethereum",value:YB((null===(o=e.ethereum)||void 0===o?void 0:o.usd)||4105.68,2),change:XB((null===(c=e.ethereum)||void 0===c?void 0:c.usd_24h_change)||2.11),isPositive:((null===(u=e.ethereum)||void 0===u?void 0:u.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",chart:KB(((null===(h=e.ethereum)||void 0===h?void 0:h.usd_24h_change)||0)>=0)},{id:3,pair:"FIL/USD",country:"Filecoin",value:YB((null===(d=e.filecoin)||void 0===d?void 0:d.usd)||2.2,4),change:XB((null===(f=e.filecoin)||void 0===f?void 0:f.usd_24h_change)||1.41),isPositive:((null===(m=e.filecoin)||void 0===m?void 0:m.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/12817/large/filecoin.png",chart:KB(((null===(p=e.filecoin)||void 0===p?void 0:p.usd_24h_change)||0)>=0)},{id:4,pair:"DOGE/USD",country:"Dogecoin",value:YB((null===(g=e.dogecoin)||void 0===g?void 0:g.usd)||.24,4),change:XB((null===(y=e.dogecoin)||void 0===y?void 0:y.usd_24h_change)||2.94),isPositive:((null===(v=e.dogecoin)||void 0===v?void 0:v.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/5/large/dogecoin.png",chart:KB(((null===(x=e.dogecoin)||void 0===x?void 0:x.usd_24h_change)||0)>=0)},{id:5,pair:"XRP/USD",country:"XRP",value:YB((null===(w=e.ripple)||void 0===w?void 0:w.usd)||2.87,4),change:XB((null===(b=e.ripple)||void 0===b?void 0:b.usd_24h_change)||2.13),isPositive:((null===(E=e.ripple)||void 0===E?void 0:E.usd_24h_change)||0)>=0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",chart:KB(((null===(S=e.ripple)||void 0===S?void 0:S.usd_24h_change)||0)>=0)},{id:6,pair:"LTC/USD",country:"Litecoin",value:YB(107.11,2),change:XB(2.44),isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/2/large/litecoin.png",chart:KB(!0)},{id:7,pair:"DOT/USD",country:"Polkadot",value:YB(3.98,4),change:XB(3),isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/12171/large/polkadot.png",chart:KB(!0)},{id:8,pair:"TRX/USD",country:"TRON",value:YB(.08,4),change:XB(2.3),isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/1094/large/tron-logo.png",chart:KB(!0)},{id:9,pair:"MATIC/USD",country:"Polygon",value:YB(.89,4),change:XB(1.8),isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png",chart:KB(!0)},{id:10,pair:"ADA/USD",country:"Cardano",value:YB(.45,4),change:XB(.9),isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/975/large/cardano.png",chart:KB(!0)},{id:11,pair:"LINK/USD",country:"Chainlink",value:YB(14.67,4),change:XB(3.2),isPositive:!0,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/877/large/chainlink-new-logo.png",chart:KB(!0)},{id:12,pair:"ATOM/USD",country:"Cosmos",value:YB(8.23,4),change:XB(-.5),isPositive:!1,flags:["US","US"],logo:"https://assets.coingecko.com/coins/images/1481/large/cosmos_hub.png",chart:KB(!1)}];r(i)}else if("Stocks"===e){const e=[{id:1,pair:"AAPL",country:"Apple Tokenize",value:YB(255.4603,4),change:XB(.54),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/apple.com",chart:KB(!0)},{id:2,pair:"TSLA",country:"Tesla Tokenize",value:YB(440.3997,4),change:XB(2.83),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/tesla.com",chart:KB(!0)},{id:3,pair:"AMZN",country:"Amazon.com",value:YB(219.7825,4),change:XB(.32),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/amazon.com",chart:KB(!0)},{id:4,pair:"GOOGL",country:"Alphabet",value:YB(246.5391,4),change:XB(.21),isPositive:!0,flags:["US","US"],logo:"https://logos-world.net/wp-content/uploads/2020/09/Google-Logo.png",chart:KB(!0)},{id:5,pair:"MSFT",country:"Microsoft",value:YB(511.4605,4),change:XB(.27),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/microsoft.com",chart:KB(!0)},{id:6,pair:"UNH",country:"Unitedhealth Group Inc",value:YB(344.0802,4),change:XB(-1.11),isPositive:!1,flags:["US","US"],logo:"https://logo.clearbit.com/unitedhealthgroup.com",chart:KB(!1)},{id:7,pair:"AI",country:"C3.ai, Inc",value:YB(17.1391,4),change:XB(-.93),isPositive:!1,flags:["US","US"],logo:"https://logo.clearbit.com/c3.ai",chart:KB(!1)},{id:8,pair:"BRZE",country:"Braze, Inc.",value:YB(31.5802,4),change:XB(.22),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/braze.com",chart:KB(!0)},{id:9,pair:"FLNC",country:"Fluence Energy, Inc.",value:YB(11.9107,4),change:XB(3.66),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/fluenceenergy.com",chart:KB(!0)},{id:10,pair:"SNOW",country:"Snowflake Inc.",value:YB(224.6404,4),change:XB(1.05),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/snowflake.com",chart:KB(!0)},{id:11,pair:"BB",country:"BlackBerry Limited",value:YB(4.958,4),change:XB(6.17),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/blackberry.com",chart:KB(!0)},{id:12,pair:"EVGO",country:"EVgo, Inc.",value:YB(4.5691,4),change:XB(-1.32),isPositive:!1,flags:["US","US"],logo:"https://logo.clearbit.com/evgo.com",chart:KB(!1)},{id:13,pair:"MQ",country:"Marqeta, Inc.",value:YB(5.3602,4),change:XB(.38),isPositive:!0,flags:["US","US"],logo:"https://logo.clearbit.com/marqeta.com",chart:KB(!0)}];r(e)}else if("ETF"===e){const e=[{id:1,pair:"SPY",country:"SPDR S&P 500 ETF",value:YB(456.78,2),change:XB(.85),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:2,pair:"QQQ",country:"Invesco QQQ Trust",value:YB(389.45,2),change:XB(1.23),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:3,pair:"GLD",country:"SPDR Gold Shares",value:YB(189.67,2),change:XB(1.45),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:4,pair:"VTI",country:"Vanguard Total Stock Market ETF",value:YB(234.56,2),change:XB(.67),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:5,pair:"IWM",country:"iShares Russell 2000 ETF",value:YB(198.34,2),change:XB(-.23),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:6,pair:"EFA",country:"iShares MSCI EAFE ETF",value:YB(78.91,2),change:XB(.34),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:7,pair:"VEA",country:"Vanguard FTSE Developed Markets ETF",value:YB(45.23,2),change:XB(.12),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:8,pair:"EEM",country:"iShares MSCI Emerging Markets ETF",value:YB(42.15,2),change:XB(-.56),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:9,pair:"XLF",country:"Financial Select Sector SPDR Fund",value:YB(35.67,2),change:XB(.78),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:10,pair:"XLK",country:"Technology Select Sector SPDR Fund",value:YB(178.45,2),change:XB(1.23),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:11,pair:"XLE",country:"Energy Select Sector SPDR Fund",value:YB(89.12,2),change:XB(-.45),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:12,pair:"XLV",country:"Health Care Select Sector SPDR Fund",value:YB(134.78,2),change:XB(.67),isPositive:!0,flags:["US","US"],chart:KB(!0)}];r(e)}else if("Futures"===e){const e=[{id:1,pair:"ES",country:"E-mini S&P 500",value:YB(4567.25,2),change:XB(.92),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:2,pair:"GC",country:"Gold Futures",value:YB(2034.8,2),change:XB(1.23),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:3,pair:"CL",country:"Crude Oil Futures",value:YB(78.45,2),change:XB(-1.67),isPositive:!1,flags:["US","US"],chart:KB(!1)},{id:4,pair:"NQ",country:"E-mini NASDAQ 100",value:YB(15678.9,2),change:XB(.45),isPositive:!0,flags:["US","US"],chart:KB(!0)},{id:5,pair:"YM",country:"E-mini Dow Jones",value:YB(34567.89,2),change:XB(-.12),isPositive:!1,flags:["US","US"],chart:KB(!1)}];r(e)}i(!1)}catch(N){console.error("Error fetching market data:",N),l("Failed to fetch market data. Using cached data."),i(!1)}};t();const n=setInterval(t,3e4);return()=>clearInterval(n)},[e]);const g=e=>{d(e),u(!0)};return(0,Re.jsxs)("div",{className:"min-h-screen bg-white pt-16 sm:pt-20",children:[(0,Re.jsxs)("div",{className:"container-max py-6 sm:py-8 lg:py-12",children:[(0,Re.jsx)(fB.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 text-center mb-6 sm:mb-8 lg:mb-12",children:f("smartTradingTitle")}),(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"flex justify-center mb-6 sm:mb-8 lg:mb-12",children:(0,Re.jsx)("div",{className:"flex flex-wrap justify-center gap-1 sm:gap-2 bg-gray-100 p-1 sm:p-2 rounded-lg sm:rounded-xl max-w-full overflow-x-auto",children:p.map(n=>(0,Re.jsx)("button",{onClick:()=>t(n.key),className:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 rounded-md sm:rounded-lg font-medium text-xs sm:text-sm lg:text-base transition-all duration-300 whitespace-nowrap ".concat(e===n.key?"bg-gray-900 text-white shadow-md":"text-gray-600 hover:text-gray-900"),children:n.label},n.key))})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl sm:rounded-2xl shadow-lg overflow-hidden",children:[(0,Re.jsx)("div",{className:"hidden sm:block bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:(0,Re.jsxs)("div",{className:"grid grid-cols-5 gap-4 text-xs sm:text-sm font-medium text-gray-600",children:[(0,Re.jsx)("div",{className:"text-left",children:"Name"}),(0,Re.jsx)("div",{className:"text-center",children:f("spotPrice")}),(0,Re.jsx)("div",{className:"text-center",children:"24h%"}),(0,Re.jsx)("div",{className:"text-center",children:f("chart")}),(0,Re.jsx)("div",{className:"text-right"})]})}),(0,Re.jsx)("div",{className:"divide-y divide-gray-200",children:s?(0,Re.jsx)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:(0,Re.jsxs)("div",{className:"inline-flex items-center space-x-2 text-gray-500",children:[(0,Re.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,Re.jsx)("span",{className:"text-sm sm:text-base",children:"Loading market data..."})]})}):o?(0,Re.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center",children:[(0,Re.jsx)("div",{className:"text-red-500 mb-2 text-sm sm:text-base",children:o}),(0,Re.jsx)("button",{onClick:()=>window.location.reload(),className:"text-blue-600 hover:text-blue-800 underline text-sm sm:text-base",children:"Retry"})]}):0===n.length?(0,Re.jsxs)("div",{className:"px-4 sm:px-6 py-6 sm:py-8 text-center text-gray-500 text-sm sm:text-base",children:["No data available for ",e]}):n.map((t,n)=>(0,Re.jsx)(Pe,{to:"/trading/".concat(e.toLowerCase(),"/").concat(t.pair),className:"block",children:(0,Re.jsxs)(fB.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3+.05*n},className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-gray-50 transition-colors duration-200 cursor-pointer",children:[(0,Re.jsxs)("div",{className:"sm:hidden",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:["Crypto"===e&&t.logo||"Stocks"===e&&t.logo?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}}):"Forex"===e&&t.flagUrls?(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flagUrls.map((e,n)=>(0,Re.jsx)("img",{src:e,alt:"".concat(t.flags[n]," flag"),className:"w-5 h-5 rounded-full",onError:e=>{e.target.style.display="none"}},n))}):(0,Re.jsxs)("div",{className:"flex -space-x-1",children:[(0,Re.jsx)(FB,{countryCode:t.flags[0]}),(0,Re.jsx)(FB,{countryCode:t.flags[1]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:t.pair}),(0,Re.jsx)("div",{className:"text-xs text-gray-600",children:t.country})]})]}),(0,Re.jsxs)("div",{className:"text-right",children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:t.value}),(0,Re.jsx)("div",{className:"text-xs font-medium ".concat(t.isPositive?"text-green-600":"text-red-600"),children:t.change})]})]}),(0,Re.jsx)("div",{className:"flex justify-center mb-2",children:(0,Re.jsx)(IV,{data:t.chart,isPositive:t.isPositive})}),(0,Re.jsx)("div",{className:"flex justify-end",children:(0,Re.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),g(t.pair)},className:"w-6 h-6 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-3 h-3 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})})]}),(0,Re.jsxs)("div",{className:"hidden sm:grid grid-cols-5 gap-4 items-center",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-3 text-left",children:["Crypto"===e&&t.logo||"Stocks"===e&&t.logo?(0,Re.jsx)("img",{src:t.logo,alt:"".concat(t.pair," logo"),className:"w-8 h-8 rounded-full",onError:e=>{e.target.style.display="none"}}):"Forex"===e&&t.flagUrls?(0,Re.jsx)("div",{className:"flex -space-x-1",children:t.flagUrls.map((e,n)=>(0,Re.jsx)("img",{src:e,alt:"".concat(t.flags[n]," flag"),className:"w-6 h-6 rounded-full",onError:e=>{e.target.style.display="none"}},n))}):(0,Re.jsxs)("div",{className:"flex -space-x-1",children:[(0,Re.jsx)(FB,{countryCode:t.flags[0]}),(0,Re.jsx)(FB,{countryCode:t.flags[1]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900",children:t.pair}),(0,Re.jsx)("div",{className:"text-sm text-gray-600",children:t.country})]})]}),(0,Re.jsx)("div",{className:"font-medium text-gray-900 text-center",children:t.value}),(0,Re.jsx)("div",{className:"font-medium text-center ".concat(t.isPositive?"text-green-600":"text-red-600"),children:t.change}),(0,Re.jsx)("div",{className:"flex justify-center",children:(0,Re.jsx)(IV,{data:t.chart,isPositive:t.isPositive})}),(0,Re.jsx)("div",{className:"flex justify-end",children:(0,Re.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),g(t.pair)},className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})})]})]})},t.id))})]})]}),(0,Re.jsx)("footer",{className:"bg-gray-800 text-white",children:(0,Re.jsxs)("div",{className:"container-max",children:[(0,Re.jsx)("div",{className:"py-16",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Re.jsx)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"md:col-span-1",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Re.jsx)("img",{src:"https://www.ubs.com/etc/designs/fit/img/UBS_Logo_Semibold.svg",alt:"UBS Logo",className:"h-8 w-auto"}),(0,Re.jsx)("span",{className:"text-xl font-bold text-white",children:"Tokenize"})]})}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Products"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Markets"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Investment & Lending"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#products",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Smart Trading"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Company"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"About Us"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"License Supervision"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Help Center"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#company",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Online Support"})})]})]}),(0,Re.jsxs)(fB.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,Re.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Policies"}),(0,Re.jsxs)("ul",{className:"space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Terms & Conditions"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#legal",className:"text-gray-300 hover:text-white transition-colors duration-300",children:"Privacy Policy"})})]})]})]})}),(0,Re.jsx)("div",{className:"py-8 border-t border-gray-700",children:(0,Re.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,Re.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Legal Information"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Disclaimer"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Risk Warning"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"Cookie Policy"}),(0,Re.jsx)("a",{href:"#legal",className:"hover:text-white transition-colors duration-300",children:"About Advertising"})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Re.jsxs)("div",{className:"flex space-x-4",children:[(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Re.jsx)(fB.a,{whileHover:{scale:1.1},href:"#",className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors duration-300",children:(0,Re.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]}),(0,Re.jsx)("div",{className:"text-gray-400 text-sm",children:"\u2022 2023 UBS. All rights reserved."})]})]})})]})}),(0,Re.jsx)(LV,{isOpen:c,onClose:()=>u(!1),symbol:h,availableBalance:(null===m||void 0===m?void 0:m.balance)||0})]})},VV=()=>{const{showSignMessageModal:e,setShowSignMessageModal:t,account:n,signer:r,signMessage:s}=rm(),[i,o]=(0,a.useState)(!1),l=()=>{t(!1)};return(0,Re.jsx)(wR,{children:e&&(0,Re.jsx)(fB.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:l,children:(0,Re.jsxs)(fB.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-sm sm:max-w-md mx-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,Re.jsx)("div",{className:"text-center mb-4 sm:mb-6",children:(0,Re.jsx)("h2",{className:"text-white text-lg sm:text-xl font-bold mb-2",children:"Sign Message for Login"})}),(0,Re.jsx)("div",{className:"mb-4 sm:mb-6",children:(0,Re.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 sm:p-4",children:[(0,Re.jsx)("div",{className:"text-gray-300 text-xs sm:text-sm mb-2",children:"Account:"}),(0,Re.jsx)("div",{className:"text-white font-mono text-xs sm:text-sm break-all",children:n||"0x0000000000000000000000000000000000000000"})]})}),(0,Re.jsx)("div",{className:"mb-4 sm:mb-6",children:(0,Re.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 sm:p-4",children:[(0,Re.jsx)("div",{className:"text-gray-300 text-xs sm:text-sm mb-2",children:"Origin:"}),(0,Re.jsx)("div",{className:"text-white font-mono text-xs sm:text-sm",children:window.location.origin})]})}),(0,Re.jsx)("div",{className:"text-center mb-4 sm:mb-6",children:(0,Re.jsx)("p",{className:"text-gray-300 text-xs sm:text-sm",children:"Connect to Wallet"})}),(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[(0,Re.jsx)("button",{onClick:l,className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 sm:py-3 px-3 sm:px-4 rounded-lg font-medium transition-colors text-sm sm:text-base",disabled:i,children:"Cancel"}),(0,Re.jsx)("button",{onClick:async()=>{if(!r||!n)try{return await window.ethereum.request({method:"eth_requestAccounts"}),void window.location.reload()}catch(WV){return console.error("Failed to connect wallet:",WV),void alert("Please install MetaMask or Coinbase Wallet to continue.")}o(!0);try{await s(),t(!1)}catch(WV){console.error("Failed to sign message:",WV),alert("Failed to sign message. Please try again.")}finally{o(!1)}},className:"flex-1 bg-white hover:bg-gray-100 text-black py-2 sm:py-3 px-3 sm:px-4 rounded-lg font-medium transition-colors text-sm sm:text-base",disabled:i,children:i?"Signing...":"Sign Message"})]})]})})})},zV=()=>{const[e,t]=(0,a.useState)("users"),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[h,d]=(0,a.useState)([]),[f,m]=(0,a.useState)([]),[p,g]=(0,a.useState)(null),[y,v]=(0,a.useState)(""),[x,w]=(0,a.useState)(!1),[b,E]=(0,a.useState)(!1),S=(0,a.useCallback)(async()=>{w(!0);try{switch(console.log("Loading data for tab:",e),e){case"users":const t=await(async()=>{try{return(await ck(nA(pP,"users"))).docs.map(e=>ot({id:e.id},e.data()))}catch(WV){throw console.error("Error getting all users:",WV),WV}})();console.log("Users data:",t),r(t);break;case"deposits":const n=await(async()=>{try{const e=WA(nA(pP,"deposits"),YA("createdAt","desc"));return(await ck(e)).docs.map(e=>ot({id:e.id},e.data()))}catch(WV){throw console.error("Error getting all deposits:",WV),WV}})();console.log("Deposits data:",n),i(n);break;case"withdrawals":const s=await(async()=>{try{const e=WA(nA(pP,"withdrawals"),YA("createdAt","desc"));return(await ck(e)).docs.map(e=>ot({id:e.id},e.data()))}catch(WV){throw console.error("Error getting all withdrawals:",WV),WV}})();console.log("Withdrawals data:",s),l(s);break;case"trades":const a=await(async()=>{try{const e=WA(nA(pP,"trades"),YA("createdAt","desc"));return(await ck(e)).docs.map(e=>ot({id:e.id},e.data()))}catch(WV){throw console.error("Error getting all trades:",WV),WV}})();console.log("Trades data:",a),u(a);break;case"chat":const o=await(async()=>{try{const e=WA(nA(pP,"chatMessages"));return(await ck(e)).docs.map(e=>ot({id:e.id},e.data())).sort((e,t)=>{var n,r;const s=null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate():new Date(e.createdAt||0);return(null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():new Date(t.createdAt||0))-s})}catch(WV){throw console.error("Error getting all chat messages:",WV),WV}})();console.log("Chat data:",o),d(o);break;default:console.log("Unknown tab:",e)}}catch(WV){console.error("Error loading data:",WV)}finally{w(!1)}},[e]);(0,a.useEffect)(()=>{S()},[e,S]),(0,a.useEffect)(()=>{if("chat"===e){console.log("=== ADMIN CHAT SUBSCRIPTION SETUP ==="),console.log("Users data:",n);const e=(e=>{try{return dk(WA(nA(pP,"chatMessages")),t=>{const n={};t.docs.forEach(e=>{const t=e.data();if(!t.userId)return;const r=t.userId;n[r]||(n[r]={userId:r,lastMessage:"",lastMessageTime:null,unreadCount:0,isAdmin:!1}),t.isAdmin?n[r].isAdmin=!0:(n[r].lastMessage=t.message,n[r].lastMessageTime=t.createdAt,n[r].isAdmin=!1),t.isAdmin||t.read||n[r].unreadCount++});const r=Object.values(n).filter(e=>e.lastMessage);r.sort((e,t)=>{var n,r;const s=null!==(n=e.lastMessageTime)&&void 0!==n&&n.toDate?e.lastMessageTime.toDate():new Date(e.lastMessageTime||0);return(null!==(r=t.lastMessageTime)&&void 0!==r&&r.toDate?t.lastMessageTime.toDate():new Date(t.lastMessageTime||0))-s}),e(r)},e=>{console.error("Error in subscribeToConversations:",e)})}catch(WV){return console.error("Error setting up subscribeToConversations:",WV),()=>{}}})(e=>{console.log("=== ADMIN CONVERSATIONS UPDATE ==="),console.log("Raw conversation list:",e);const t=e.map(async e=>{const t=n.find(t=>t.id===e.userId);return console.log("Conversation ".concat(e.userId," - Found user data:"),t),ot(ot({},e),{},{walletAddress:(null===t||void 0===t?void 0:t.walletAddress)||e.userId,userData:t})});Promise.all(t).then(e=>{console.log("Enhanced conversations:",e),m(e)})});return()=>e()}},[e,n]),(0,a.useEffect)(()=>{if(p){console.log("=== ADMIN SELECTED CONVERSATION SUBSCRIPTION ==="),console.log("Selected conversation:",p),console.log("User ID:",p.userId);const e=$_(p.userId,e=>{console.log("=== ADMIN MESSAGES UPDATE ==="),console.log("Snapshot docs count:",e.docs.length),console.log("Snapshot docs:",e.docs.map(e=>ot({id:e.id},e.data())));const t=e.docs.map(e=>ot({id:e.id},e.data())).sort((e,t)=>{var n,r;return(null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate():new Date(e.createdAt||0))-(null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():new Date(t.createdAt||0))});console.log("Processed messages (sorted):",t),d(t)});return()=>e()}},[p]);const N=async e=>{try{await(async(e,t)=>{try{const n=rA(pP,"deposits",e),r=await ok(n);if(!r.exists())throw new Error("Deposit not found");const s=r.data();return await uk(n,{status:"approved",approvedAt:pk(),approvedBy:t}),await V_(s.userId,s.amount,"deposit"),!0}catch(WV){throw console.error("Error approving deposit:",WV),WV}})(e,"admin"),alert("Deposit approved successfully!"),S()}catch(WV){alert("Error approving deposit: "+WV.message)}},A=async e=>{const t=prompt("Enter rejection reason:");if(t)try{await(async(e,t,n)=>{try{const r=rA(pP,"deposits",e);return await uk(r,{status:"rejected",rejectedAt:pk(),rejectedBy:t,rejectionReason:n}),!0}catch(WV){throw console.error("Error rejecting deposit:",WV),WV}})(e,"admin",t),alert("Deposit rejected successfully!"),S()}catch(WV){alert("Error rejecting deposit: "+WV.message)}},k=async e=>{try{await(async(e,t)=>{try{const n=rA(pP,"withdrawals",e),r=await ok(n);if(!r.exists())throw new Error("Withdrawal not found");const s=r.data();return await uk(n,{status:"approved",approvedAt:pk(),approvedBy:t}),await V_(s.userId,-s.amount,"withdrawal"),!0}catch(WV){throw console.error("Error approving withdrawal:",WV),WV}})(e,"admin"),alert("Withdrawal approved successfully!"),S()}catch(WV){alert("Error approving withdrawal: "+WV.message)}},C=async e=>{const t=prompt("Enter rejection reason:");if(t)try{await(async(e,t,n)=>{try{const r=rA(pP,"withdrawals",e);return await uk(r,{status:"rejected",rejectedAt:pk(),rejectedBy:t,rejectionReason:n}),!0}catch(WV){throw console.error("Error rejecting withdrawal:",WV),WV}})(e,"admin",t),alert("Withdrawal rejected successfully!"),S()}catch(WV){alert("Error rejecting withdrawal: "+WV.message)}},T=e=>{if(!e)return"N/A";return(e.toDate?e.toDate():new Date(e)).toLocaleString()},j=e=>e?e.startsWith("0x")?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"".concat(e.slice(0,6),"..."):"N/A",P=async e=>{g(e),await(async e=>{try{const t=WA(nA(pP,"chatMessages"),QA("userId","==",e),QA("read","==",!1)),n=(await ck(t)).docs.map(e=>uk(e.ref,{read:!0,readAt:pk()}));return await Promise.all(n),!0}catch(WV){throw console.error("Error marking conversation as read:",WV),WV}})(e.userId)},I=async e=>{if(e.preventDefault(),y.trim()&&p&&!b){E(!0);try{await X_(p.userId,y.trim()),v("")}catch(WV){console.error("Error sending message:",WV),alert("Error sending message: "+WV.message)}finally{E(!1)}}},_=e=>{if(!e)return"";try{return(e.toDate?e.toDate():new Date(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(WV){return console.error("Error formatting time:",WV),""}};return(0,Re.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[(0,Re.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,Re.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Admin Panel"}),(0,Re.jsx)("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Manage users, deposits, withdrawals, and trades"})]}),(0,Re.jsx)("div",{className:"bg-white rounded-lg shadow-sm border mb-4 sm:mb-6",children:(0,Re.jsx)("div",{className:"flex flex-wrap sm:flex-nowrap space-x-2 sm:space-x-8 px-3 sm:px-6 overflow-x-auto",children:[{id:"users",name:"Users",icon:"\ud83d\udc65"},{id:"deposits",name:"Deposits",icon:"\ud83d\udcb0"},{id:"withdrawals",name:"Withdrawals",icon:"\ud83d\udcb8"},{id:"trades",name:"Trades",icon:"\ud83d\udcc8"},{id:"chat",name:"Live Chat",icon:"\ud83d\udcac"}].map(n=>(0,Re.jsxs)("button",{onClick:()=>t(n.id),className:"py-3 sm:py-4 px-2 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ".concat(e===n.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Re.jsx)("span",{className:"mr-1 sm:mr-2",children:n.icon}),n.name]},n.id))})}),(0,Re.jsx)("div",{className:"bg-white rounded-lg shadow-sm border",children:(0,Re.jsx)("div",{className:"p-3 sm:p-6",children:x?(0,Re.jsx)("div",{className:"flex justify-center items-center py-8 sm:py-12",children:(0,Re.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-blue-600"})}):(0,Re.jsxs)(Re.Fragment,{children:["users"===e&&(0,Re.jsx)("div",{className:"space-y-3 sm:space-y-4",children:n.map(e=>{var t,n,r;return(0,Re.jsx)("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm border",children:(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-3 sm:space-y-0",children:[(0,Re.jsxs)("div",{className:"flex-1",children:[(0,Re.jsx)("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:j(e.walletAddress)}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Wallet Type: ",e.walletType]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["IP: ",e.ipAddress]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Joined: ",T(e.createdAt)]})]}),(0,Re.jsxs)("div",{className:"text-left sm:text-right",children:[(0,Re.jsxs)("p",{className:"text-base sm:text-lg font-bold text-green-600",children:["$",(null===(t=e.balance)||void 0===t?void 0:t.toFixed(2))||"0.00"]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Total Deposits: $",(null===(n=e.totalDeposits)||void 0===n?void 0:n.toFixed(2))||"0.00"]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Total Profit: $",(null===(r=e.totalProfit)||void 0===r?void 0:r.toFixed(2))||"0.00"]})]})]})},e.id)})}),"deposits"===e&&(0,Re.jsx)("div",{className:"space-y-3 sm:space-y-4",children:s.map(e=>(0,Re.jsx)("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm border",children:(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-3 sm:space-y-0",children:[(0,Re.jsxs)("div",{className:"flex-1",children:[(0,Re.jsxs)("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[e.amount," ",e.currency]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["User: ",j(e.userId)]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["TX Hash: ",e.txHash]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Date: ",T(e.createdAt)]})]}),(0,Re.jsxs)("div",{className:"flex flex-col sm:items-end space-y-2",children:[(0,Re.jsx)("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"approved"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),"pending"===e.status&&(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-2",children:[(0,Re.jsx)("button",{onClick:()=>N(e.id),className:"px-2 sm:px-3 py-1 bg-green-600 text-white rounded text-xs sm:text-sm hover:bg-green-700",children:"Approve"}),(0,Re.jsx)("button",{onClick:()=>A(e.id),className:"px-2 sm:px-3 py-1 bg-red-600 text-white rounded text-xs sm:text-sm hover:bg-red-700",children:"Reject"})]})]})]})},e.id))}),"withdrawals"===e&&(0,Re.jsx)("div",{className:"space-y-3 sm:space-y-4",children:o.map(e=>(0,Re.jsx)("div",{className:"bg-white rounded-lg p-4 sm:p-6 shadow-sm border",children:(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-3 sm:space-y-0",children:[(0,Re.jsxs)("div",{className:"flex-1",children:[(0,Re.jsxs)("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[e.amount," ",e.currency]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["User: ",j(e.userId)]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["To: ",j(e.walletAddress)]}),(0,Re.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Date: ",T(e.createdAt)]})]}),(0,Re.jsxs)("div",{className:"flex flex-col sm:items-end space-y-2",children:[(0,Re.jsx)("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"approved"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),"pending"===e.status&&(0,Re.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-2",children:[(0,Re.jsx)("button",{onClick:()=>k(e.id),className:"px-2 sm:px-3 py-1 bg-green-600 text-white rounded text-xs sm:text-sm hover:bg-green-700",children:"Approve"}),(0,Re.jsx)("button",{onClick:()=>C(e.id),className:"px-2 sm:px-3 py-1 bg-red-600 text-white rounded text-xs sm:text-sm hover:bg-red-700",children:"Reject"})]})]})]})},e.id))}),"trades"===e&&(0,Re.jsx)("div",{className:"space-y-4",children:c.map(e=>{var t,n,r;return(0,Re.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:(0,Re.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h3",{className:"font-semibold text-gray-900",children:[e.asset," - ",e.tradeType]}),(0,Re.jsxs)("p",{className:"text-sm text-gray-500",children:["Amount: ",e.amount]}),(0,Re.jsxs)("p",{className:"text-sm text-gray-500",children:["Leverage: ",e.leverage,"x"]}),(0,Re.jsxs)("p",{className:"text-sm text-gray-500",children:["Entry Price: $",null===(t=e.entryPrice)||void 0===t?void 0:t.toFixed(2)]}),(0,Re.jsxs)("p",{className:"text-sm text-gray-500",children:["Current Price: $",null===(n=e.currentPrice)||void 0===n?void 0:n.toFixed(2)]}),(0,Re.jsxs)("p",{className:"text-sm text-gray-500",children:["Date: ",T(e.createdAt)]})]}),(0,Re.jsxs)("div",{className:"text-right",children:[(0,Re.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("open"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status}),(0,Re.jsxs)("p",{className:"text-lg font-bold mt-2 ".concat(e.profit>=0?"text-green-600":"text-red-600"),children:["$",(null===(r=e.profit)||void 0===r?void 0:r.toFixed(2))||"0.00"]}),e.isSmartTrade&&(0,Re.jsx)("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Smart Trade"})]})]})},e.id)})}),"chat"===e&&(0,Re.jsxs)("div",{className:"flex h-[600px] border border-gray-200 rounded-lg overflow-hidden",children:[(0,Re.jsxs)("div",{className:"w-1/3 border-r border-gray-200 bg-gray-50",children:[(0,Re.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Re.jsx)("h3",{className:"font-semibold text-gray-900",children:"Conversations"}),(0,Re.jsxs)("p",{className:"text-sm text-gray-500",children:[(null===f||void 0===f?void 0:f.length)||0," active chats"]})]}),(0,Re.jsx)("div",{className:"overflow-y-auto",children:f&&0!==f.length?f.map(e=>(0,Re.jsx)("div",{onClick:()=>P(e),className:"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors ".concat((null===p||void 0===p?void 0:p.userId)===e.userId?"bg-blue-50 border-blue-200":""),children:(0,Re.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Re.jsxs)("div",{className:"flex-1",children:[(0,Re.jsx)("p",{className:"font-medium text-gray-900",children:j(e.walletAddress||e.userId)}),(0,Re.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.lastMessage||"No message"}),(0,Re.jsx)("p",{className:"text-xs text-gray-500",children:_(e.lastMessageTime)})]}),e.unreadCount>0&&(0,Re.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:e.unreadCount})]})},e.userId)):(0,Re.jsx)("div",{className:"p-4 text-center text-gray-500",children:(0,Re.jsx)("p",{children:"No conversations yet"})})})]}),(0,Re.jsx)("div",{className:"flex-1 flex flex-col",children:p?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("div",{className:"p-4 border-b border-gray-200 bg-white",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Re.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Re.jsx)("span",{className:"text-white font-medium",children:j(p.walletAddress||p.userId).slice(0,2)})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"font-semibold text-gray-900",children:j(p.walletAddress||p.userId)}),(0,Re.jsx)("p",{className:"text-sm text-gray-500",children:"User Support"})]})]})}),(0,Re.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===h.length?(0,Re.jsx)("div",{className:"text-center text-gray-500 mt-8",children:(0,Re.jsx)("p",{children:"No messages yet"})}):h.map(e=>(0,Re.jsx)("div",{className:"flex ".concat(e.isAdmin?"justify-end":"justify-start"),children:(0,Re.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(e.isAdmin?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[(0,Re.jsx)("p",{className:"text-sm",children:e.message}),(0,Re.jsxs)("div",{className:"text-xs mt-1 flex items-center justify-between ".concat(e.isAdmin?"text-blue-100":"text-gray-500"),children:[(0,Re.jsx)("span",{children:_(e.createdAt)}),e.isAutoReply&&(0,Re.jsx)("span",{className:"text-xs opacity-75",children:"\ud83e\udd16 Auto"})]})]})},e.id))}),(0,Re.jsx)("div",{className:"border-t border-gray-200 p-4 bg-white",children:(0,Re.jsxs)("form",{onSubmit:I,className:"flex space-x-3",children:[(0,Re.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b}),(0,Re.jsx)("button",{type:"submit",disabled:!y.trim()||b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:b?(0,Re.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Re.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Re.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Re.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):(0,Re.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,Re.jsxs)("div",{className:"text-center",children:[(0,Re.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,Re.jsx)("p",{children:"Select a conversation to start chatting"})]})})})]})]})})})]})})};const HV=function(){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;const t=()=>"undefined"!==typeof window&&(window.matchMedia?window.matchMedia("(max-width: ".concat(e,"px)")).matches:window.innerWidth<=e),[n,r]=(0,a.useState)(t());return(0,a.useEffect)(()=>{const n=window.matchMedia("(max-width: ".concat(e,"px)")),s=()=>r(t());return n.addEventListener?n.addEventListener("change",s):n.addListener(s),window.addEventListener("resize",s),()=>{n.removeEventListener?n.removeEventListener("change",s):n.removeListener(s),window.removeEventListener("resize",s)}},[e]),n}();return(0,Re.jsx)(Le,{children:(0,Re.jsx)(sm,{children:(0,Re.jsx)(vB,{children:(0,Re.jsx)(Ce,{children:(0,Re.jsxs)("div",{className:"App",children:[(0,Re.jsxs)(be,{children:[(0,Re.jsx)(xe,{path:"/",element:e?(0,Re.jsx)(UB,{}):(0,Re.jsx)(OB,{})}),(0,Re.jsx)(xe,{path:"/market",element:e?(0,Re.jsx)(eV,{}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(wB,{}),(0,Re.jsx)(_V,{})]})}),(0,Re.jsx)(xe,{path:"/smart-trading",element:e?(0,Re.jsx)(tV,{}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(wB,{}),(0,Re.jsx)(BV,{})]})}),(0,Re.jsx)(xe,{path:"/admin",element:(0,Re.jsx)(zV,{})}),(0,Re.jsx)(xe,{path:"/account",element:e?(0,Re.jsx)(rV,{}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(wB,{}),(0,Re.jsx)(PV,{})]})}),(0,Re.jsx)(xe,{path:"/invite-friends",element:(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(wB,{}),(0,Re.jsx)(RV,{})]})}),(0,Re.jsx)(xe,{path:"/help-center",element:(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(wB,{}),(0,Re.jsx)(DV,{})]})}),(0,Re.jsx)(xe,{path:"/loan",element:e?(0,Re.jsx)(nV,{}):(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(wB,{}),(0,Re.jsx)(MV,{})]})}),(0,Re.jsx)(xe,{path:"/trading/:category/*",element:(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(wB,{}),(0,Re.jsx)(FV,{})]})})]}),(0,Re.jsx)(VV,{}),(0,Re.jsx)(pB,{})]})})})})})};l.createRoot(document.getElementById("root")).render((0,Re.jsx)(a.StrictMode,{children:(0,Re.jsx)(HV,{})}))})();
//# sourceMappingURL=main.d9c82b79.js.map